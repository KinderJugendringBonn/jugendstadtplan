angular.module("jugendstadtplan.ansprechpartner",[]),angular.module("jugendstadtplan.pins",["ui.router","jugendstadtplan.adresse","jugendstadtplan.ansprechpartner","jugendstadtplan.links","jugendstadtplan.termin"]),angular.module("jugendstadtplan.adresse",[]),angular.module("jugendstadtplan.links",[]),angular.module("jugendstadtplan.startseite",["ui.router","leaflet-directive"]),angular.module("jugendstadtplan.termin",[]),angular.module("jugendstadtplan.traeger",["ui.router","jugendstadtplan.adresse","jugendstadtplan.ansprechpartner","jugendstadtplan.links"]);var Jugendstadtplan=Jugendstadtplan||{};Jugendstadtplan.Controllers=angular.module("jugendstadtplan.controllers",[]),angular.module("jugendstadtplan",["ngResource","ngSanitize","ui.router","leaflet-directive","textAngular","angularFileUpload","jugendstadtplan.api","jugendstadtplan.startseite","jugendstadtplan.pins","jugendstadtplan.traeger","jugendstadtplan.controllers"]).config(function(e,n){n.otherwise("/startseite")}).run(function(){}).controller("AppCtrl",["$scope","$location",function(e,n){e.$on("$stateChangeSuccess",function(n,t,r,a,l){angular.isDefined(t.data.pageTitle)&&(e.pageTitle=t.data.pageTitle+" | Jugendstadtplan")})}]),Jugendstadtplan.Controllers.controller("AnsprechpartnerFormController",["$scope",function(e){e.newAnsprechpartner={},e.addAnsprechpartner=function(){void 0===e.model.ansprechpartner&&(e.model.ansprechpartner=[]),e.model.ansprechpartner.push(e.newAnsprechpartner),e.newAnsprechpartner={}},e.isAnsprechpartnerValid=function(e){return void 0===e.name||0===e.name.length?!1:void 0===e.email||0===e.email.length?!1:!0}}]),angular.module("jugendstadtplan.pins").config(function(e){e.state("Detail: Pin",{url:"/pin/{id:[0-9]+}",views:{main:{controller:"PinDetailController",templateUrl:"src/app/pins/views/detail.tpl.html"}},resolve:{pinDetail:["$stateParams","Pin",function(e,n){return n.get({},{id:e.id})}]},data:{pageTitle:"Pin"}})}),Jugendstadtplan.Controllers.controller("PinDetailController",["$scope","pinDetail",function(e,n){e.markers=[],e.center={lat:50.732829246726,lng:7.0937004090117,zoom:13},n.$promise.then(function(){e.pin=n,angular.extend(e,{defaults:{scrollWheelZoom:!1}}),e.center={lat:n.latitude,lng:n.longitude,zoom:15};var t={lat:n.latitude,lng:n.longitude,title:n.titel,focus:!0,message:"<h3>"+n.titel+"</h3>"+n.beschreibung};e.markers.push(t)},function(){angular.extend(e,{defaults:{scrollWheelZoom:!1}})})}]),angular.module("jugendstadtplan.pins").config(function(e){e.state("Form: Pin",{url:"/pin/create",views:{main:{controller:"PinFormController",templateUrl:"src/app/pins/views/form.tpl.html"}},data:{pageTitle:"Pin erstellen"}})}),Jugendstadtplan.Controllers.controller("PinFormController",["$scope","$location","Pin","Traeger","Kategorie",function(e,n,t,r,a){e.kategorien=a.query(),e.pin=new t,e.pins=t.query(),e.traegers=r.query(),angular.extend(e,{center:{lat:50.732829246726,lng:7.0937004090117,zoom:13},defaults:{scrollWheelZoom:!1},events:{}}),e.pin.markers=[],e.$on("leafletDirectiveMap.click",function(n,t){var r=t.leafletEvent;e.pin.markers[0]={lat:r.latlng.lat,lng:r.latlng.lng,draggable:!0,focus:!0}}),e.newPin=function(){e.pin=new t,e.pin.markers=[],e.editing=!1},e.save=function(){e.pin.id?t.update(e.pin):e.pin.$save().then(function(n){e.pins.push(n)}),e.newPin()},e.setActivePin=function(n){e.pin=n,e.pin.markers=[],null!=n.longitude&&(e.pin.markers[0]={lat:n.latitude,lng:n.longitude,draggable:!0,focus:!0}),e.editing=!0},e.remove=function(n){t["delete"](n,function(){var t=e.pins.indexOf(n);-1!=t&&e.pins.splice(t,1)})},e.barrierefreiheitsgrade=["Gut","Teilweise","Nicht barrierefrei"],e.kostenarten=["Kostenlos","Kostenpflichtig"],e.mindestalters=["ab 12","ab 16","ab 18","ab 21"]}]),angular.module("jugendstadtplan.pins").config(function(e){e.state("Liste: Pin",{url:"/pins",views:{main:{controller:"PinsController",templateUrl:"src/app/pins/views/list.tpl.html"}},data:{pageTitle:"Pins"}})}),Jugendstadtplan.Controllers.controller("PinsController",["$scope","$location","Pin",function(e,n,t){e.pins=t.query(),e.viewPin=function(e){n.path("/pin/"+e.id)}}]),Jugendstadtplan.Controllers.controller("AdresseFormController",["$scope",function(e){}]),Jugendstadtplan.Controllers.controller("LinksFormController",["$scope",function(e){e.newLink={},e.addLink=function(){void 0===e.model.links&&(e.model.links=[]),e.model.links.push(e.newLink),e.newLink={}},e.isLinkValid=function(e){return void 0===e.titel||0===e.titel.length?!1:void 0===e.url||0===e.url.length?!1:!0}}]),angular.module("jugendstadtplan.startseite").config(function(e){e.state("Startseite",{url:"/startseite",views:{main:{controller:"StartseiteController",templateUrl:"src/app/startseite/views/startseite.tpl.html"}},data:{pageTitle:"Startseite"}})}),angular.module("jugendstadtplan.startseite").controller("StartseiteController",["$scope","$location","Pin",function(e,n,t){angular.extend(e,{center:{lat:50.732829246726,lng:7.0937004090117,zoom:13},defaults:{scrollWheelZoom:!1}}),e.markers=[],t.query(function(n){angular.forEach(n,function(n){if(null!=n.longitude){var t={lat:n.latitude,lng:n.longitude,title:n.titel,message:"<h3>"+n.titel+"</h3>"+n.beschreibung+'<small><a href="/#/pin/'+n.id+'">Mehr</a></small>'};e.markers.push(t)}})})}]),Jugendstadtplan.Controllers.controller("TerminFormController",["$scope",function(e){e.wochentage=["Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"],e.newTermin={},e.addTermin=function(){void 0===e.pin.termine&&(e.pin.termine=[]),e.pin.termine.push(e.newTermin),e.newTermin={}},e.isTerminValid=function(e){return void 0===e.beginn||0===e.beginn?!1:e.ganztaegig===!0||void 0!==e.beginn_uhrzeit&&0!==e.beginn_uhrzeit?!0:!1},e.woche_des_monats=[{id:0,label:"Jede Woche"},{id:1,label:"Jede 1. Woche"},{id:2,label:"Jede 2. Woche"},{id:3,label:"Jede 3. Woche"},{id:4,label:"Jede 4. Woche"},{id:5,label:"Jede 5. Woche"}],e.newWiederholung={},e.addWiederholung=function(){void 0===e.newTermin.wiederholungen&&(e.newTermin.wiederholungen=[]),e.newTermin.wiederholungen.push(e.newWiederholung),e.newWiederholung={}},e.isWiederholungValid=function(e){return void 0===e.wochentag||0===e.wochentag?!1:!0}}]),angular.module("jugendstadtplan.traeger").config(function(e){e.state("Liste: Traeger",{url:"/traeger",views:{main:{controller:"TraegerController",templateUrl:"src/app/traeger/views/liste.tpl.html"}},data:{pageTitle:"Träger"}})}),Jugendstadtplan.Controllers.controller("TraegerController",["$scope","$location","Traeger",function(e,n,t){e.traeger=t.query(),e.viewTraeger=function(e){n.path("/traeger/"+e.id)}}]),angular.module("jugendstadtplan.traeger").config(function(e){e.state("Detail: Traeger",{url:"/traeger/{id:[0-9]+}",views:{main:{controller:"TraegerDetailController",templateUrl:"src/app/traeger/views/detail.tpl.html"}},resolve:{traegerDetail:["$stateParams","Traeger",function(e,n){return n.get({},{id:e.id})}]},data:{pageTitle:"Träger"}})}),Jugendstadtplan.Controllers.controller("TraegerDetailController",["$scope","traegerDetail",function(e,n){e.traeger=n,angular.extend(e,{center:{lat:50.732829246726,lng:7.0937004090117,zoom:13},defaults:{scrollWheelZoom:!1}}),e.markers=[],n.$promise.then(function(){angular.forEach(n.pins,function(n,t){var r={lat:n.latitude,lng:n.longitude,title:n.titel,message:"<h3>"+n.titel+"</h3>"+n.beschreibung+'<small><a href="/#/pin/'+n.id+'">Mehr</a></small>'};e.markers.push(r)})})}]),angular.module("jugendstadtplan.traeger").config(function(e){e.state("Form: Traeger",{url:"/traeger/create",views:{main:{controller:"TraegerFormController",templateUrl:"src/app/traeger/views/form.tpl.html"}},data:{pageTitle:"Träger erstellen"}})}),Jugendstadtplan.Controllers.controller("TraegerFormController",["$scope","$location","Traeger","Kategorie","$upload",function(e,n,t,r,a){e.kategorien=r.query(),e.traeger=new t,e.traegers=t.query(),e.newTraeger=function(){e.traeger=new t,e.editing=!1},e.save=function(){e.traeger.id?t.update(e.traeger).then(function(){e.newTraeger()},function(){alert("Ein Träger mit dieser Email-Adresse existiert bereits!")}):e.traeger.$save().then(function(n){e.traegers.push(n),e.newTraeger()},function(){alert("Ein Träger mit dieser Email-Adresse existiert bereits!")})},e.setActiveTraeger=function(n){e.traeger=n,e.editing=!0},e.remove=function(n){t["delete"](n,function(){var t=e.traegers.indexOf(n);-1!=t&&e.traegers.splice(t,1)})},e.onFileSelect=function(n){for(var t=function(n){a.upload({url:"app_dev.php/img/upload",method:"POST",data:{myObj:e.myModelObj},file:n}).progress(function(e){console.log("percent: "+parseInt(100*e.loaded/e.total))}).success(function(t,r,a,l){void 0===e.traeger.bilder&&(e.traeger.bilder=[]),n.tmp_name=t.folder,e.traeger.bilder.push(n)})},r=0;r<n.length;r++){var l=n[r];e.upload=t(l)}},e.newAdresse={},e.addAdresse=function(){void 0===e.traeger.adressen&&(e.traeger.adressen=[]),e.traeger.adressen.push(e.newAdresse),e.newAdresse={}},e.isAdresseValid=function(e){return void 0===e.strasse||0===e.strasse.length?!1:void 0===e.ort||0===e.ort.length?!1:!0}}]),angular.module("plusOne",[]).directive("plusOne",function(){return{link:function(e,n,t){gapi.plusone.render(n[0],{size:"medium",href:"http://bit.ly/ngBoilerplate"})}}});var jugendstadtplanApi=angular.module("jugendstadtplan.api",["ngResource"]),backendPrefix="/app_dev.php";jugendstadtplanApi.provider("Pin",function(){this.$get=["$resource",function(e){var n=backendPrefix+"/pins";return e(n,{},{get:{method:"GET",url:n+"/:id",params:{id:"@id"}},update:{method:"PUT",url:n+"/update/:id",params:{id:"@id"}},save:{method:"POST",url:n+"/create"},"delete":{method:"DELETE",url:n+"/delete/:id",params:{id:"@id"}}})}]}),jugendstadtplanApi.provider("Traeger",function(){this.$get=["$resource",function(e){var n=backendPrefix+"/traeger";return e(n,{},{get:{method:"GET",url:n+"/:id",params:{id:"@id"}},update:{method:"PUT",url:n+"/update/:id",params:{id:"@id"}},save:{method:"POST",url:n+"/create"},"delete":{method:"DELETE",url:n+"/delete/:id",params:{id:"@id"}}})}]}),jugendstadtplanApi.provider("Kategorie",function(){this.$get=["$resource",function(e){var n=backendPrefix+"/kategorie";return e(n)}]});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9hbnNwcmVjaHBhcnRuZXIvQW5zcHJlY2hwYXJ0bmVyTW9kdWxlLmpzIiwiYXBwL3BpbnMvUGluc01vZHVsZS5qcyIsImFwcC9hZHJlc3NlL0FkcmVzc2VNb2R1bGUuanMiLCJhcHAvbGlua3MvTGlua3NNb2R1bGUuanMiLCJhcHAvc3RhcnRzZWl0ZS9TdGFydHNlaXRlTW9kdWxlLmpzIiwiYXBwL3Rlcm1pbi9UZXJtaW5Nb2R1bGUuanMiLCJhcHAvdHJhZWdlci9UcmFlZ2VyTW9kdWxlLmpzIiwiYXBwL2FwcC5qcyIsImFwcC9hbnNwcmVjaHBhcnRuZXIvQW5zcHJlY2hwYXJ0bmVyRm9ybUNvbnRyb2xsZXIuanMiLCJhcHAvcGlucy9QaW5EZXRhaWxDb250cm9sbGVyLmpzIiwiYXBwL3BpbnMvUGluRm9ybUNvbnRyb2xsZXIuanMiLCJhcHAvcGlucy9QaW5zQ29udHJvbGxlci5qcyIsImFwcC9hZHJlc3NlL0FkcmVzc2VGb3JtQ29udHJvbGxlci5qcyIsImFwcC9saW5rcy9MaW5rc0Zvcm1Db250cm9sbGVyLmpzIiwiYXBwL3N0YXJ0c2VpdGUvU3RhcnRzZWl0ZUNvbnRyb2xsZXIuanMiLCJhcHAvdGVybWluL1Rlcm1pbkZvcm1Db250cm9sbGVyLmpzIiwiYXBwL3RyYWVnZXIvVHJhZWdlckNvbnRyb2xsZXIuanMiLCJhcHAvdHJhZWdlci9UcmFlZ2VyRGV0YWlsQ29udHJvbGxlci5qcyIsImFwcC90cmFlZ2VyL1RyYWVnZXJGb3JtQ29udHJvbGxlci5qcyIsImNvbW1vbi9wbHVzT25lL3BsdXNPbmUuanMiLCJjb21tb24vcmVzb3VyY2VzL0p1Z2VuZHN0YWR0cGxhbkFwaS5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiSnVnZW5kc3RhZHRwbGFuIiwiQ29udHJvbGxlcnMiLCJjb25maWciLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIm90aGVyd2lzZSIsInJ1biIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCIkbG9jYXRpb24iLCIkb24iLCJldmVudCIsInRvU3RhdGUiLCJ0b1BhcmFtcyIsImZyb21TdGF0ZSIsImZyb21QYXJhbXMiLCJpc0RlZmluZWQiLCJkYXRhIiwicGFnZVRpdGxlIiwibmV3QW5zcHJlY2hwYXJ0bmVyIiwiYWRkQW5zcHJlY2hwYXJ0bmVyIiwidW5kZWZpbmVkIiwibW9kZWwiLCJhbnNwcmVjaHBhcnRuZXIiLCJwdXNoIiwiaXNBbnNwcmVjaHBhcnRuZXJWYWxpZCIsIm5hbWUiLCJsZW5ndGgiLCJlbWFpbCIsInN0YXRlIiwidXJsIiwidmlld3MiLCJtYWluIiwidGVtcGxhdGVVcmwiLCJyZXNvbHZlIiwicGluRGV0YWlsIiwiJHN0YXRlUGFyYW1zIiwiUGluIiwiZ2V0IiwiaWQiLCJtYXJrZXJzIiwiY2VudGVyIiwibGF0IiwibG5nIiwiem9vbSIsIiRwcm9taXNlIiwidGhlbiIsInBpbiIsImV4dGVuZCIsImRlZmF1bHRzIiwic2Nyb2xsV2hlZWxab29tIiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJtYXJrZXIiLCJ0aXRsZSIsInRpdGVsIiwiZm9jdXMiLCJtZXNzYWdlIiwiYmVzY2hyZWlidW5nIiwiVHJhZWdlciIsIkthdGVnb3JpZSIsImthdGVnb3JpZW4iLCJxdWVyeSIsInBpbnMiLCJ0cmFlZ2VycyIsImV2ZW50cyIsImFyZ3MiLCJsZWFmRXZlbnQiLCJsZWFmbGV0RXZlbnQiLCJsYXRsbmciLCJkcmFnZ2FibGUiLCJuZXdQaW4iLCJlZGl0aW5nIiwic2F2ZSIsInVwZGF0ZSIsIiRzYXZlIiwicmVzcG9uc2UiLCJzZXRBY3RpdmVQaW4iLCJyZW1vdmUiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJiYXJyaWVyZWZyZWloZWl0c2dyYWRlIiwia29zdGVuYXJ0ZW4iLCJtaW5kZXN0YWx0ZXJzIiwidmlld1BpbiIsInBhdGgiLCJuZXdMaW5rIiwiYWRkTGluayIsImxpbmtzIiwiaXNMaW5rVmFsaWQiLCJsaW5rIiwiZm9yRWFjaCIsIml0ZW0iLCJ3b2NoZW50YWdlIiwibmV3VGVybWluIiwiYWRkVGVybWluIiwidGVybWluZSIsImlzVGVybWluVmFsaWQiLCJ0ZXJtaW4iLCJiZWdpbm4iLCJnYW56dGFlZ2lnIiwiYmVnaW5uX3VocnplaXQiLCJ3b2NoZV9kZXNfbW9uYXRzIiwibGFiZWwiLCJuZXdXaWVkZXJob2x1bmciLCJhZGRXaWVkZXJob2x1bmciLCJ3aWVkZXJob2x1bmdlbiIsImlzV2llZGVyaG9sdW5nVmFsaWQiLCJ3aWVkZXJob2x1bmciLCJ3b2NoZW50YWciLCJ0cmFlZ2VyIiwidmlld1RyYWVnZXIiLCJ0cmFlZ2VyRGV0YWlsIiwia2V5IiwiJHVwbG9hZCIsIm5ld1RyYWVnZXIiLCJhbGVydCIsInNldEFjdGl2ZVRyYWVnZXIiLCJvbkZpbGVTZWxlY3QiLCIkZmlsZXMiLCJkb1VwbG9hZCIsImZpbGUiLCJ1cGxvYWQiLCJtZXRob2QiLCJteU9iaiIsIm15TW9kZWxPYmoiLCJwcm9ncmVzcyIsImV2dCIsImNvbnNvbGUiLCJsb2ciLCJwYXJzZUludCIsImxvYWRlZCIsInRvdGFsIiwic3VjY2VzcyIsInN0YXR1cyIsImhlYWRlcnMiLCJiaWxkZXIiLCJ0bXBfbmFtZSIsImZvbGRlciIsImkiLCJuZXdBZHJlc3NlIiwiYWRkQWRyZXNzZSIsImFkcmVzc2VuIiwiaXNBZHJlc3NlVmFsaWQiLCJhZHJlc3NlIiwic3RyYXNzZSIsIm9ydCIsImRpcmVjdGl2ZSIsInNjb3BlIiwiZWxlbWVudCIsImF0dHJzIiwiZ2FwaSIsInBsdXNvbmUiLCJyZW5kZXIiLCJzaXplIiwiaHJlZiIsImp1Z2VuZHN0YWR0cGxhbkFwaSIsImJhY2tlbmRQcmVmaXgiLCJwcm92aWRlciIsInRoaXMiLCIkZ2V0IiwiJHJlc291cmNlIiwiYmFja2VuZFVybCIsInBhcmFtcyIsImRlbGV0ZSJdLCJtYXBwaW5ncyI6IkFBQUFBLFFBQUFDLE9BQUEsc0NDQUFELFFBQUFDLE9BQUEsd0JBQ0EsWUFBQSwwQkFBQSxrQ0FBQSx3QkFBQSwyQkNEQUQsUUFBQUMsT0FBQSw4QkNBQUQsUUFBQUMsT0FBQSw0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QUFBLFFBRUFtQyxRQUNBa0QsT0FBQSxNQUNBOUYsSUFBQXFJLEVBQUEsY0FDQUMsUUFBQTdILEdBQUEsUUFFQWtDLE1BQ0FtRCxPQUFBLE9BQ0E5RixJQUFBcUksRUFBQSxXQUVBRSxVQUNBekMsT0FBQSxTQUNBOUYsSUFBQXFJLEVBQUEsY0FDQUMsUUFBQTdILEdBQUEsY0FNQXNILG1CQUFBRSxTQUFBLFVBQUEsV0FDQUMsS0FBQUMsTUFBQSxZQUFBLFNBQUFDLEdBQ0EsR0FBQUMsR0FBQUwsY0FBQSxVQUNBLE9BQUFJLEdBQUFDLE1BQ0E3SCxLQUNBc0YsT0FBQSxNQUNBOUYsSUFBQXFJLEVBQUEsT0FDQUMsUUFBQTdILEdBQUEsUUFFQW1DLFFBQ0FrRCxPQUFBLE1BQ0E5RixJQUFBcUksRUFBQSxjQUNBQyxRQUFBN0gsR0FBQSxRQUVBa0MsTUFDQW1ELE9BQUEsT0FDQTlGLElBQUFxSSxFQUFBLFdBRUFFLFVBQ0F6QyxPQUFBLFNBQ0E5RixJQUFBcUksRUFBQSxjQUNBQyxRQUFBN0gsR0FBQSxjQU1Bc0gsbUJBQUFFLFNBQUEsWUFBQSxXQUNBQyxLQUFBQyxNQUFBLFlBQUEsU0FBQUMsR0FDQSxHQUFBQyxHQUFBTCxjQUFBLFlBQ0EsT0FBQUksR0FBQUMiLCJmaWxlIjoianVnZW5kc3RhZHRwbGFuLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXIubW9kdWxlKCAnanVnZW5kc3RhZHRwbGFuLmFuc3ByZWNocGFydG5lcicsIFtcbl0pOyIsImFuZ3VsYXIubW9kdWxlKCAnanVnZW5kc3RhZHRwbGFuLnBpbnMnLCBbXG4gICd1aS5yb3V0ZXInLCAnanVnZW5kc3RhZHRwbGFuLmFkcmVzc2UnLCAnanVnZW5kc3RhZHRwbGFuLmFuc3ByZWNocGFydG5lcicsICdqdWdlbmRzdGFkdHBsYW4ubGlua3MnLCAnanVnZW5kc3RhZHRwbGFuLnRlcm1pbidcbl0pOyIsImFuZ3VsYXIubW9kdWxlKCAnanVnZW5kc3RhZHRwbGFuLmFkcmVzc2UnLCBbXG5dKTsiLCJhbmd1bGFyLm1vZHVsZSggJ2p1Z2VuZHN0YWR0cGxhbi5saW5rcycsIFtcbl0pOyIsImFuZ3VsYXIubW9kdWxlKCAnanVnZW5kc3RhZHRwbGFuLnN0YXJ0c2VpdGUnLCBbXG4gICd1aS5yb3V0ZXInLFxuICAnbGVhZmxldC1kaXJlY3RpdmUnXG5dKTsiLCJhbmd1bGFyLm1vZHVsZSggJ2p1Z2VuZHN0YWR0cGxhbi50ZXJtaW4nLCBbXG5dKTsiLCJhbmd1bGFyLm1vZHVsZSggJ2p1Z2VuZHN0YWR0cGxhbi50cmFlZ2VyJywgW1xuICAndWkucm91dGVyJywgJ2p1Z2VuZHN0YWR0cGxhbi5hZHJlc3NlJywgJ2p1Z2VuZHN0YWR0cGxhbi5hbnNwcmVjaHBhcnRuZXInLCAnanVnZW5kc3RhZHRwbGFuLmxpbmtzJ1xuXSk7IiwidmFyIEp1Z2VuZHN0YWR0cGxhbiA9IEp1Z2VuZHN0YWR0cGxhbiB8fCB7fTtcbkp1Z2VuZHN0YWR0cGxhbi5Db250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdqdWdlbmRzdGFkdHBsYW4uY29udHJvbGxlcnMnLCBbXSk7XG5cbmFuZ3VsYXIubW9kdWxlKCAnanVnZW5kc3RhZHRwbGFuJywgW1xuICAnbmdSZXNvdXJjZScsXG4gICduZ1Nhbml0aXplJyxcbiAgJ3VpLnJvdXRlcicsXG4gICdsZWFmbGV0LWRpcmVjdGl2ZScsXG4gICd0ZXh0QW5ndWxhcicsXG4gICdhbmd1bGFyRmlsZVVwbG9hZCcsXG4gICdqdWdlbmRzdGFkdHBsYW4uYXBpJyxcbiAgJ2p1Z2VuZHN0YWR0cGxhbi5zdGFydHNlaXRlJyxcbiAgJ2p1Z2VuZHN0YWR0cGxhbi5waW5zJyxcbiAgJ2p1Z2VuZHN0YWR0cGxhbi50cmFlZ2VyJyxcbiAgJ2p1Z2VuZHN0YWR0cGxhbi5jb250cm9sbGVycydcbl0pXG5cbi5jb25maWcoIGZ1bmN0aW9uIG15QXBwQ29uZmlnICggJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciApIHtcbiAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSggJy9zdGFydHNlaXRlJyApO1xufSlcblxuLnJ1biggZnVuY3Rpb24gcnVuICgpIHtcbn0pXG5cbi5jb250cm9sbGVyKCAnQXBwQ3RybCcsIFsgJyRzY29wZScsICckbG9jYXRpb24nLCBmdW5jdGlvbiBBcHBDdHJsKCAkc2NvcGUsICRsb2NhdGlvbiApe1xuICAkc2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdWNjZXNzJywgZnVuY3Rpb24oZXZlbnQsIHRvU3RhdGUsIHRvUGFyYW1zLCBmcm9tU3RhdGUsIGZyb21QYXJhbXMpe1xuICAgIGlmICggYW5ndWxhci5pc0RlZmluZWQoIHRvU3RhdGUuZGF0YS5wYWdlVGl0bGUgKSApIHtcbiAgICAgICRzY29wZS5wYWdlVGl0bGUgPSB0b1N0YXRlLmRhdGEucGFnZVRpdGxlICsgJyB8IEp1Z2VuZHN0YWR0cGxhbicgO1xuICAgIH1cbiAgfSk7XG59XSlcblxuOyIsIkp1Z2VuZHN0YWR0cGxhbi5Db250cm9sbGVycy5jb250cm9sbGVyKCAnQW5zcHJlY2hwYXJ0bmVyRm9ybUNvbnRyb2xsZXInLCBbICckc2NvcGUnLFxuICAgIGZ1bmN0aW9uKCRzY29wZSkge1xuXG4gICAgICAgIC8vIEFuc3ByZWNocGFydG5lclxuICAgICAgICAkc2NvcGUubmV3QW5zcHJlY2hwYXJ0bmVyID0ge307XG4gICAgICAgICRzY29wZS5hZGRBbnNwcmVjaHBhcnRuZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICgkc2NvcGUubW9kZWwuYW5zcHJlY2hwYXJ0bmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUubW9kZWwuYW5zcHJlY2hwYXJ0bmVyID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkc2NvcGUubW9kZWwuYW5zcHJlY2hwYXJ0bmVyLnB1c2goJHNjb3BlLm5ld0Fuc3ByZWNocGFydG5lcik7XG4gICAgICAgICAgICAkc2NvcGUubmV3QW5zcHJlY2hwYXJ0bmVyID0ge307XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmlzQW5zcHJlY2hwYXJ0bmVyVmFsaWQgPSBmdW5jdGlvbihhbnNwcmVjaHBhcnRuZXIpIHtcbiAgICAgICAgICAgIGlmIChhbnNwcmVjaHBhcnRuZXIubmFtZSA9PT0gdW5kZWZpbmVkIHx8IGFuc3ByZWNocGFydG5lci5uYW1lLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYW5zcHJlY2hwYXJ0bmVyLmVtYWlsID09PSB1bmRlZmluZWQgfHwgYW5zcHJlY2hwYXJ0bmVyLmVtYWlsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9O1xuXG4gICAgfV0pOyIsImFuZ3VsYXIubW9kdWxlKCdqdWdlbmRzdGFkdHBsYW4ucGlucycpLmNvbmZpZyhmdW5jdGlvbiBjb25maWcoICRzdGF0ZVByb3ZpZGVyICkge1xuICBcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoICdEZXRhaWw6IFBpbicsIHtcbiAgICB1cmw6ICcvcGluL3tpZDpbMC05XSt9JyxcbiAgICB2aWV3czoge1xuICAgICAgXCJtYWluXCI6IHtcbiAgICAgICAgY29udHJvbGxlcjogJ1BpbkRldGFpbENvbnRyb2xsZXInLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ3NyYy9hcHAvcGlucy92aWV3cy9kZXRhaWwudHBsLmh0bWwnXG4gICAgICB9XG4gICAgfSxcbiAgICByZXNvbHZlOiB7XG4gICAgICBwaW5EZXRhaWw6IFsgJyRzdGF0ZVBhcmFtcycsICdQaW4nLCBmdW5jdGlvbigkc3RhdGVQYXJhbXMsIFBpbikge1xuICAgICAgICByZXR1cm4gUGluLmdldCh7fSx7aWQ6ICRzdGF0ZVBhcmFtcy5pZH0pO1xuICAgICAgfV1cbiAgICB9LFxuICAgIGRhdGE6eyBwYWdlVGl0bGU6ICdQaW4nIH1cbiAgfSk7XG5cbn0pO1xuXG5KdWdlbmRzdGFkdHBsYW4uQ29udHJvbGxlcnMuY29udHJvbGxlciggJ1BpbkRldGFpbENvbnRyb2xsZXInLCBbICckc2NvcGUnLCAncGluRGV0YWlsJywgZnVuY3Rpb24gUGluRGV0YWlsQ29udHJvbGxlciggJHNjb3BlLCBwaW5EZXRhaWwgKSB7XG4gICAgJHNjb3BlLm1hcmtlcnMgPSBbXTtcbiAgICAkc2NvcGUuY2VudGVyID0ge1xuICAgICAgICBsYXQ6IDUwLjczMjgyOTI0NjcyNixcbiAgICAgICAgbG5nOiA3LjA5MzcwMDQwOTAxMTcsXG4gICAgICAgIHpvb206IDEzXG4gICAgfTtcblxuICAgIHBpbkRldGFpbC4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJHNjb3BlLnBpbiA9IHBpbkRldGFpbDtcblxuICAgICAgICAgICAgYW5ndWxhci5leHRlbmQoJHNjb3BlLCB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdHM6IHtcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsV2hlZWxab29tOiBmYWxzZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkc2NvcGUuY2VudGVyID0ge1xuICAgICAgICAgICAgICAgIGxhdDogcGluRGV0YWlsLmxhdGl0dWRlLFxuICAgICAgICAgICAgICAgIGxuZzogcGluRGV0YWlsLmxvbmdpdHVkZSxcbiAgICAgICAgICAgICAgICB6b29tOiAxNVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIG1hcmtlciA9IHtcbiAgICAgICAgICAgICAgICBsYXQ6IHBpbkRldGFpbC5sYXRpdHVkZSxcbiAgICAgICAgICAgICAgICBsbmc6IHBpbkRldGFpbC5sb25naXR1ZGUsXG4gICAgICAgICAgICAgICAgdGl0bGU6IHBpbkRldGFpbC50aXRlbCxcbiAgICAgICAgICAgICAgICBmb2N1czogdHJ1ZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnPGgzPicgKyBwaW5EZXRhaWwudGl0ZWwgKyAnPC9oMz4nICsgcGluRGV0YWlsLmJlc2NocmVpYnVuZyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAkc2NvcGUubWFya2Vycy5wdXNoKG1hcmtlcik7XG4gICAgICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgYW5ndWxhci5leHRlbmQoJHNjb3BlLCB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdHM6IHtcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsV2hlZWxab29tOiBmYWxzZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgKTtcbn1dKTsiLCJhbmd1bGFyLm1vZHVsZSgnanVnZW5kc3RhZHRwbGFuLnBpbnMnKS5jb25maWcoZnVuY3Rpb24gY29uZmlnKCAkc3RhdGVQcm92aWRlciApIHtcblxuICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCAnRm9ybTogUGluJywge1xuICAgICAgICB1cmw6ICcvcGluL2NyZWF0ZScsXG4gICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgICBcIm1haW5cIjoge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdQaW5Gb3JtQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdzcmMvYXBwL3BpbnMvdmlld3MvZm9ybS50cGwuaHRtbCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZGF0YTp7IHBhZ2VUaXRsZTogJ1BpbiBlcnN0ZWxsZW4nIH1cbiAgICB9KTtcblxufSk7XG5cbkp1Z2VuZHN0YWR0cGxhbi5Db250cm9sbGVycy5jb250cm9sbGVyKCAnUGluRm9ybUNvbnRyb2xsZXInLCBbICckc2NvcGUnLCAnJGxvY2F0aW9uJywgJ1BpbicsICdUcmFlZ2VyJywgJ0thdGVnb3JpZScsIGZ1bmN0aW9uIFBpbkZvcm1Db250cm9sbGVyKCAkc2NvcGUsICRsb2NhdGlvbiwgUGluLCBUcmFlZ2VyLCBLYXRlZ29yaWUgKSB7XG4gICAgJHNjb3BlLmthdGVnb3JpZW4gPSBLYXRlZ29yaWUucXVlcnkoKTtcbiAgICAkc2NvcGUucGluID0gbmV3IFBpbigpO1xuICAgICRzY29wZS5waW5zID0gUGluLnF1ZXJ5KCk7XG4gICAgJHNjb3BlLnRyYWVnZXJzID0gVHJhZWdlci5xdWVyeSgpO1xuXG4gICAgYW5ndWxhci5leHRlbmQoJHNjb3BlLCB7XG4gICAgICAgIGNlbnRlcjoge1xuICAgICAgICAgICAgbGF0OiA1MC43MzI4MjkyNDY3MjYsXG4gICAgICAgICAgICBsbmc6IDcuMDkzNzAwNDA5MDExNyxcbiAgICAgICAgICAgIHpvb206IDEzXG4gICAgICAgIH0sXG4gICAgICAgIGRlZmF1bHRzOiB7XG4gICAgICAgICAgICBzY3JvbGxXaGVlbFpvb206IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIGV2ZW50czoge31cbiAgICB9KTtcblxuICAgICRzY29wZS5waW4ubWFya2VycyA9IFtdO1xuICAgICRzY29wZS4kb24oXCJsZWFmbGV0RGlyZWN0aXZlTWFwLmNsaWNrXCIsIGZ1bmN0aW9uKGV2ZW50LCBhcmdzKXtcbiAgICAgICAgdmFyIGxlYWZFdmVudCA9IGFyZ3MubGVhZmxldEV2ZW50O1xuXG4gICAgICAgICRzY29wZS5waW4ubWFya2Vyc1swXSA9IHtcbiAgICAgICAgICAgIGxhdDogbGVhZkV2ZW50LmxhdGxuZy5sYXQsXG4gICAgICAgICAgICBsbmc6IGxlYWZFdmVudC5sYXRsbmcubG5nLFxuICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlLFxuICAgICAgICAgICAgZm9jdXM6IHRydWVcbiAgICAgICAgfTtcbiAgICB9KTtcblxuICAgICRzY29wZS5uZXdQaW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgJHNjb3BlLnBpbiA9IG5ldyBQaW4oKTtcbiAgICAgICAgJHNjb3BlLnBpbi5tYXJrZXJzID0gW107XG4gICAgICAgICRzY29wZS5lZGl0aW5nID0gZmFsc2U7XG4gICAgfTtcblxuICAgICRzY29wZS5zYXZlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgkc2NvcGUucGluLmlkKSB7XG4gICAgICAgICAgICBQaW4udXBkYXRlKCRzY29wZS5waW4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJHNjb3BlLnBpbi4kc2F2ZSgpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUucGlucy5wdXNoKHJlc3BvbnNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgICRzY29wZS5uZXdQaW4oKTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLnNldEFjdGl2ZVBpbiA9IGZ1bmN0aW9uKHBpbikge1xuICAgICAgICAkc2NvcGUucGluID0gcGluO1xuICAgICAgICAkc2NvcGUucGluLm1hcmtlcnMgPSBbXTtcbiAgICAgICAgaWYgKHBpbi5sb25naXR1ZGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgJHNjb3BlLnBpbi5tYXJrZXJzWzBdID0ge1xuICAgICAgICAgICAgICAgIGxhdDogcGluLmxhdGl0dWRlLFxuICAgICAgICAgICAgICAgIGxuZzogcGluLmxvbmdpdHVkZSxcbiAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgZm9jdXM6IHRydWVcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgJHNjb3BlLmVkaXRpbmcgPSB0cnVlO1xuICAgIH07XG5cbiAgICAkc2NvcGUucmVtb3ZlID0gZnVuY3Rpb24ocGluKSB7XG4gICAgICAgIFBpbi5kZWxldGUocGluLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9ICRzY29wZS5waW5zLmluZGV4T2YocGluKTtcbiAgICAgICAgICAgIGlmIChpbmRleCAhPSAtMSkge1xuICAgICAgICAgICAgICAgICRzY29wZS5waW5zLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cblxuICAgIC8vIEJhcnJpZXJlZnJlaWhlaXRzZ3JhZGVcbiAgICAkc2NvcGUuYmFycmllcmVmcmVpaGVpdHNncmFkZSA9IFsgJ0d1dCcsICdUZWlsd2Vpc2UnLCAnTmljaHQgYmFycmllcmVmcmVpJyBdO1xuXG5cbiAgICAvLyBLb3N0ZW5hcnRlblxuICAgICRzY29wZS5rb3N0ZW5hcnRlbiA9IFsgJ0tvc3RlbmxvcycsICdLb3N0ZW5wZmxpY2h0aWcnIF07XG5cblxuICAgIC8vIE1pbmRlc3RhbHRlclxuICAgICRzY29wZS5taW5kZXN0YWx0ZXJzID0gWyAnYWIgMTInLCAnYWIgMTYnLCAnYWIgMTgnLCAnYWIgMjEnIF07XG5cblxuXG59XSk7IiwiYW5ndWxhci5tb2R1bGUoJ2p1Z2VuZHN0YWR0cGxhbi5waW5zJykuY29uZmlnKGZ1bmN0aW9uIGNvbmZpZyggJHN0YXRlUHJvdmlkZXIgKSB7XG4gIFxuICAkc3RhdGVQcm92aWRlci5zdGF0ZSggJ0xpc3RlOiBQaW4nLCB7XG4gICAgdXJsOiAnL3BpbnMnLFxuICAgIHZpZXdzOiB7XG4gICAgICBcIm1haW5cIjoge1xuICAgICAgICBjb250cm9sbGVyOiAnUGluc0NvbnRyb2xsZXInLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ3NyYy9hcHAvcGlucy92aWV3cy9saXN0LnRwbC5odG1sJ1xuICAgICAgfVxuICAgIH0sXG4gICAgZGF0YTp7IHBhZ2VUaXRsZTogJ1BpbnMnIH1cbiAgfSk7XG5cbn0pO1xuXG5KdWdlbmRzdGFkdHBsYW4uQ29udHJvbGxlcnMuY29udHJvbGxlciggJ1BpbnNDb250cm9sbGVyJywgWyAnJHNjb3BlJywgJyRsb2NhdGlvbicsICdQaW4nLCBmdW5jdGlvbiBQaW5zQ29udHJvbGxlciggJHNjb3BlLCAkbG9jYXRpb24sIFBpbiApIHtcbiAgICAkc2NvcGUucGlucyA9IFBpbi5xdWVyeSgpO1xuXG4gICAgJHNjb3BlLnZpZXdQaW4gPSBmdW5jdGlvbiAocGluKSB7XG4gICAgICAkbG9jYXRpb24ucGF0aCgnL3Bpbi8nK3Bpbi5pZCk7XG4gICAgfTtcblxufV0pOyIsIkp1Z2VuZHN0YWR0cGxhbi5Db250cm9sbGVycy5jb250cm9sbGVyKCAnQWRyZXNzZUZvcm1Db250cm9sbGVyJywgWyAnJHNjb3BlJyxcbiAgICBmdW5jdGlvbigkc2NvcGUpIHtcblxuXG4gICAgfV0pOyIsIkp1Z2VuZHN0YWR0cGxhbi5Db250cm9sbGVycy5jb250cm9sbGVyKCAnTGlua3NGb3JtQ29udHJvbGxlcicsIFsgJyRzY29wZScsXG4gICAgZnVuY3Rpb24oJHNjb3BlKSB7XG5cbiAgICAgICAgLy8gTGlua3NcbiAgICAgICAgJHNjb3BlLm5ld0xpbmsgPSB7fTtcbiAgICAgICAgJHNjb3BlLmFkZExpbmsgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICgkc2NvcGUubW9kZWwubGlua3MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5tb2RlbC5saW5rcyA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHNjb3BlLm1vZGVsLmxpbmtzLnB1c2goJHNjb3BlLm5ld0xpbmspO1xuICAgICAgICAgICAgJHNjb3BlLm5ld0xpbmsgPSB7fTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuaXNMaW5rVmFsaWQgPSBmdW5jdGlvbihsaW5rKSB7XG4gICAgICAgICAgICBpZiAobGluay50aXRlbCA9PT0gdW5kZWZpbmVkIHx8IGxpbmsudGl0ZWwubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChsaW5rLnVybCA9PT0gdW5kZWZpbmVkIHx8IGxpbmsudXJsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9O1xuXG4gICAgfV0pOyIsImFuZ3VsYXIubW9kdWxlKCdqdWdlbmRzdGFkdHBsYW4uc3RhcnRzZWl0ZScpLmNvbmZpZyhmdW5jdGlvbiBjb25maWcoICRzdGF0ZVByb3ZpZGVyICkge1xuICBcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoICdTdGFydHNlaXRlJywge1xuICAgIHVybDogJy9zdGFydHNlaXRlJyxcbiAgICB2aWV3czoge1xuICAgICAgXCJtYWluXCI6IHtcbiAgICAgICAgY29udHJvbGxlcjogJ1N0YXJ0c2VpdGVDb250cm9sbGVyJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdzcmMvYXBwL3N0YXJ0c2VpdGUvdmlld3Mvc3RhcnRzZWl0ZS50cGwuaHRtbCdcbiAgICAgIH1cbiAgICB9LFxuICAgIGRhdGE6eyBwYWdlVGl0bGU6ICdTdGFydHNlaXRlJyB9XG4gIH0pO1xuXG59KTtcblxuYW5ndWxhci5tb2R1bGUoJ2p1Z2VuZHN0YWR0cGxhbi5zdGFydHNlaXRlJykuY29udHJvbGxlciggJ1N0YXJ0c2VpdGVDb250cm9sbGVyJywgWyAnJHNjb3BlJywgJyRsb2NhdGlvbicsICdQaW4nLCBmdW5jdGlvbiBTdGFydHNlaXRlQ29udHJvbGxlciggJHNjb3BlLCAkbG9jYXRpb24sIFBpbiApIHtcbiAgICAgYW5ndWxhci5leHRlbmQoJHNjb3BlLCB7XG4gICAgICAgIGNlbnRlcjoge1xuICAgICAgICAgICAgbGF0OiA1MC43MzI4MjkyNDY3MjYsXG4gICAgICAgICAgICBsbmc6IDcuMDkzNzAwNDA5MDExNyxcbiAgICAgICAgICAgIHpvb206IDEzXG4gICAgICAgIH0sXG4gICAgICAgIGRlZmF1bHRzOiB7XG4gICAgICAgICAgICBzY3JvbGxXaGVlbFpvb206IGZhbHNlXG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgICRzY29wZS5tYXJrZXJzID0gW107XG5cbiAgICBQaW4ucXVlcnkoZnVuY3Rpb24ocGlucykge1xuICAgICAgICBhbmd1bGFyLmZvckVhY2gocGlucywgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgaWYgKGl0ZW0ubG9uZ2l0dWRlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWFya2VyID0ge1xuICAgICAgICAgICAgICAgICAgICBsYXQ6IGl0ZW0ubGF0aXR1ZGUsXG4gICAgICAgICAgICAgICAgICAgIGxuZzogaXRlbS5sb25naXR1ZGUsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBpdGVtLnRpdGVsLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnPGgzPicgKyBpdGVtLnRpdGVsICsgJzwvaDM+JyArIGl0ZW0uYmVzY2hyZWlidW5nICsgJzxzbWFsbD48YSBocmVmPVwiJyArICcvIy9waW4vJyArIGl0ZW0uaWQgKyAnXCI+TWVocjwvYT48L3NtYWxsPidcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzLnB1c2gobWFya2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbn1dKTsiLCJKdWdlbmRzdGFkdHBsYW4uQ29udHJvbGxlcnMuY29udHJvbGxlciggJ1Rlcm1pbkZvcm1Db250cm9sbGVyJywgWyAnJHNjb3BlJyxcbiAgICBmdW5jdGlvbigkc2NvcGUpIHtcblxuICAgICAgICAvLyBXb2NoZW50YWdlXG4gICAgICAgICRzY29wZS53b2NoZW50YWdlID0gWyAnTW9udGFnJywgJ0RpZW5zdGFnJywgJ01pdHR3b2NoJywgJ0Rvbm5lcnN0YWcnLCAnRnJlaXRhZycsICdTYW1zdGFnJywgJ1Nvbm50YWcnIF07XG5cblxuICAgICAgICAvLyBUZXJtaW5cbiAgICAgICAgJHNjb3BlLm5ld1Rlcm1pbiA9IHt9O1xuICAgICAgICAkc2NvcGUuYWRkVGVybWluID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoJHNjb3BlLnBpbi50ZXJtaW5lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUucGluLnRlcm1pbmUgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRzY29wZS5waW4udGVybWluZS5wdXNoKCRzY29wZS5uZXdUZXJtaW4pO1xuICAgICAgICAgICAgJHNjb3BlLm5ld1Rlcm1pbiA9IHt9O1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5pc1Rlcm1pblZhbGlkID0gZnVuY3Rpb24odGVybWluKSB7XG4gICAgICAgICAgICBpZiAodGVybWluLmJlZ2lubiA9PT0gdW5kZWZpbmVkIHx8IHRlcm1pbi5iZWdpbm4gPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRlcm1pbi5nYW56dGFlZ2lnICE9PSB0cnVlICYmICh0ZXJtaW4uYmVnaW5uX3VocnplaXQgPT09IHVuZGVmaW5lZCB8fCB0ZXJtaW4uYmVnaW5uX3VocnplaXQgPT09IDApKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG5cblxuICAgICAgICAvLyBXaWVkZXJob2x1bmdcbiAgICAgICAgJHNjb3BlLndvY2hlX2Rlc19tb25hdHMgPSBbXG4gICAgICAgICAgICB7IGlkOiAwLCBsYWJlbDogJ0plZGUgV29jaGUnIH0sXG4gICAgICAgICAgICB7IGlkOiAxLCBsYWJlbDogJ0plZGUgMS4gV29jaGUnIH0sXG4gICAgICAgICAgICB7IGlkOiAyLCBsYWJlbDogJ0plZGUgMi4gV29jaGUnIH0sXG4gICAgICAgICAgICB7IGlkOiAzLCBsYWJlbDogJ0plZGUgMy4gV29jaGUnIH0sXG4gICAgICAgICAgICB7IGlkOiA0LCBsYWJlbDogJ0plZGUgNC4gV29jaGUnIH0sXG4gICAgICAgICAgICB7IGlkOiA1LCBsYWJlbDogJ0plZGUgNS4gV29jaGUnIH1cbiAgICAgICAgXTtcbiAgICAgICAgJHNjb3BlLm5ld1dpZWRlcmhvbHVuZyA9IHt9O1xuICAgICAgICAkc2NvcGUuYWRkV2llZGVyaG9sdW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoJHNjb3BlLm5ld1Rlcm1pbi53aWVkZXJob2x1bmdlbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLm5ld1Rlcm1pbi53aWVkZXJob2x1bmdlbiA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHNjb3BlLm5ld1Rlcm1pbi53aWVkZXJob2x1bmdlbi5wdXNoKCRzY29wZS5uZXdXaWVkZXJob2x1bmcpO1xuICAgICAgICAgICAgJHNjb3BlLm5ld1dpZWRlcmhvbHVuZyA9IHt9O1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5pc1dpZWRlcmhvbHVuZ1ZhbGlkID0gZnVuY3Rpb24od2llZGVyaG9sdW5nKSB7XG4gICAgICAgICAgICBpZiAod2llZGVyaG9sdW5nLndvY2hlbnRhZyA9PT0gdW5kZWZpbmVkIHx8IHdpZWRlcmhvbHVuZy53b2NoZW50YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfTtcblxuICAgIH1dKTsiLCJhbmd1bGFyLm1vZHVsZSgnanVnZW5kc3RhZHRwbGFuLnRyYWVnZXInKS5jb25maWcoZnVuY3Rpb24gY29uZmlnKCAkc3RhdGVQcm92aWRlciApIHtcbiAgXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCAnTGlzdGU6IFRyYWVnZXInLCB7XG4gICAgdXJsOiAnL3RyYWVnZXInLFxuICAgIHZpZXdzOiB7XG4gICAgICBcIm1haW5cIjoge1xuICAgICAgICBjb250cm9sbGVyOiAnVHJhZWdlckNvbnRyb2xsZXInLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ3NyYy9hcHAvdHJhZWdlci92aWV3cy9saXN0ZS50cGwuaHRtbCdcbiAgICAgIH1cbiAgICB9LFxuICAgIGRhdGE6eyBwYWdlVGl0bGU6ICdUcsOkZ2VyJyB9XG4gIH0pO1xuXG59KTtcblxuSnVnZW5kc3RhZHRwbGFuLkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoICdUcmFlZ2VyQ29udHJvbGxlcicsIFsgJyRzY29wZScsICckbG9jYXRpb24nLCAnVHJhZWdlcicsIGZ1bmN0aW9uIFRyYWVnZXJDb250cm9sbGVyKCAkc2NvcGUsICRsb2NhdGlvbiwgVHJhZWdlciApIHtcbiAgICAkc2NvcGUudHJhZWdlciA9IFRyYWVnZXIucXVlcnkoKTtcblxuICAgICRzY29wZS52aWV3VHJhZWdlciA9IGZ1bmN0aW9uICh0cmFlZ2VyKSB7XG4gICAgICAkbG9jYXRpb24ucGF0aCgnL3RyYWVnZXIvJyt0cmFlZ2VyLmlkKTtcbiAgICB9O1xuXG59XSk7IiwiYW5ndWxhci5tb2R1bGUoJ2p1Z2VuZHN0YWR0cGxhbi50cmFlZ2VyJykuY29uZmlnKGZ1bmN0aW9uIGNvbmZpZyggJHN0YXRlUHJvdmlkZXIgKSB7XG4gIFxuICAkc3RhdGVQcm92aWRlci5zdGF0ZSggJ0RldGFpbDogVHJhZWdlcicsIHtcbiAgICB1cmw6ICcvdHJhZWdlci97aWQ6WzAtOV0rfScsXG4gICAgdmlld3M6IHtcbiAgICAgIFwibWFpblwiOiB7XG4gICAgICAgIGNvbnRyb2xsZXI6ICdUcmFlZ2VyRGV0YWlsQ29udHJvbGxlcicsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnc3JjL2FwcC90cmFlZ2VyL3ZpZXdzL2RldGFpbC50cGwuaHRtbCdcbiAgICAgIH1cbiAgICB9LFxuICAgIHJlc29sdmU6IHtcbiAgICAgIHRyYWVnZXJEZXRhaWw6IFsgJyRzdGF0ZVBhcmFtcycsICdUcmFlZ2VyJywgZnVuY3Rpb24oJHN0YXRlUGFyYW1zLCBUcmFlZ2VyKSB7XG4gICAgICAgIHJldHVybiBUcmFlZ2VyLmdldCh7fSx7aWQ6ICRzdGF0ZVBhcmFtcy5pZH0pO1xuICAgICAgfV1cbiAgICB9LFxuICAgIGRhdGE6eyBwYWdlVGl0bGU6ICdUcsOkZ2VyJyB9XG4gIH0pO1xuXG59KTtcblxuSnVnZW5kc3RhZHRwbGFuLkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoICdUcmFlZ2VyRGV0YWlsQ29udHJvbGxlcicsIFsgJyRzY29wZScsICd0cmFlZ2VyRGV0YWlsJywgZnVuY3Rpb24gVHJhZWdlckRldGFpbENvbnRyb2xsZXIoICRzY29wZSwgdHJhZWdlckRldGFpbCApIHtcbiAgICAkc2NvcGUudHJhZWdlciA9IHRyYWVnZXJEZXRhaWw7XG5cbiAgICBhbmd1bGFyLmV4dGVuZCgkc2NvcGUsIHtcbiAgICAgICAgY2VudGVyOiB7XG4gICAgICAgICAgICBsYXQ6IDUwLjczMjgyOTI0NjcyNixcbiAgICAgICAgICAgIGxuZzogNy4wOTM3MDA0MDkwMTE3LFxuICAgICAgICAgICAgem9vbTogMTNcbiAgICAgICAgfSxcbiAgICAgICAgZGVmYXVsdHM6IHtcbiAgICAgICAgICAgIHNjcm9sbFdoZWVsWm9vbTogZmFsc2VcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgJHNjb3BlLm1hcmtlcnMgPSBbXTtcblxuICAgIHRyYWVnZXJEZXRhaWwuJHByb21pc2UudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKHRyYWVnZXJEZXRhaWwucGlucywgZnVuY3Rpb24oaXRlbSwga2V5KSB7XG4gICAgICAgICAgICB2YXIgbWFya2VyID0ge1xuICAgICAgICAgICAgICAgIGxhdDogaXRlbS5sYXRpdHVkZSxcbiAgICAgICAgICAgICAgICBsbmc6IGl0ZW0ubG9uZ2l0dWRlLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBpdGVtLnRpdGVsLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICc8aDM+JyArIGl0ZW0udGl0ZWwgKyAnPC9oMz4nICsgaXRlbS5iZXNjaHJlaWJ1bmcgKyAnPHNtYWxsPjxhIGhyZWY9XCInICsgJy8jL3Bpbi8nK2l0ZW0uaWQgKyAnXCI+TWVocjwvYT48L3NtYWxsPidcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAkc2NvcGUubWFya2Vycy5wdXNoKG1hcmtlcik7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufV0pOyIsImFuZ3VsYXIubW9kdWxlKCdqdWdlbmRzdGFkdHBsYW4udHJhZWdlcicpLmNvbmZpZyhmdW5jdGlvbiBjb25maWcoICRzdGF0ZVByb3ZpZGVyICkge1xuXG4gICAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoICdGb3JtOiBUcmFlZ2VyJywge1xuICAgICAgICB1cmw6ICcvdHJhZWdlci9jcmVhdGUnLFxuICAgICAgICB2aWV3czoge1xuICAgICAgICAgICAgXCJtYWluXCI6IHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnVHJhZWdlckZvcm1Db250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3NyYy9hcHAvdHJhZWdlci92aWV3cy9mb3JtLnRwbC5odG1sJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBkYXRhOnsgcGFnZVRpdGxlOiAnVHLDpGdlciBlcnN0ZWxsZW4nIH1cbiAgICB9KTtcblxufSk7XG5cbkp1Z2VuZHN0YWR0cGxhbi5Db250cm9sbGVycy5jb250cm9sbGVyKCAnVHJhZWdlckZvcm1Db250cm9sbGVyJywgWyAnJHNjb3BlJywgJyRsb2NhdGlvbicsICdUcmFlZ2VyJywgJ0thdGVnb3JpZScsICckdXBsb2FkJywgZnVuY3Rpb24gVHJhZWdlckZvcm1Db250cm9sbGVyKCAkc2NvcGUsICRsb2NhdGlvbiwgVHJhZWdlciwgS2F0ZWdvcmllLCAkdXBsb2FkICkge1xuICAgICRzY29wZS5rYXRlZ29yaWVuID0gS2F0ZWdvcmllLnF1ZXJ5KCk7XG4gICAgJHNjb3BlLnRyYWVnZXIgPSBuZXcgVHJhZWdlcigpO1xuICAgICRzY29wZS50cmFlZ2VycyA9IFRyYWVnZXIucXVlcnkoKTtcblxuICAgICRzY29wZS5uZXdUcmFlZ2VyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICRzY29wZS50cmFlZ2VyID0gbmV3IFRyYWVnZXIoKTtcbiAgICAgICAgJHNjb3BlLmVkaXRpbmcgPSBmYWxzZTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLnNhdmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCRzY29wZS50cmFlZ2VyLmlkKSB7XG4gICAgICAgICAgICBUcmFlZ2VyLnVwZGF0ZSgkc2NvcGUudHJhZWdlcikudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV3VHJhZWdlcigpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgYWxlcnQoJ0VpbiBUcsOkZ2VyIG1pdCBkaWVzZXIgRW1haWwtQWRyZXNzZSBleGlzdGllcnQgYmVyZWl0cyEnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJHNjb3BlLnRyYWVnZXIuJHNhdmUoKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnRyYWVnZXJzLnB1c2gocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICRzY29wZS5uZXdUcmFlZ2VyKCk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBhbGVydCgnRWluIFRyw6RnZXIgbWl0IGRpZXNlciBFbWFpbC1BZHJlc3NlIGV4aXN0aWVydCBiZXJlaXRzIScpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgJHNjb3BlLnNldEFjdGl2ZVRyYWVnZXIgPSBmdW5jdGlvbih0cmFlZ2VyKSB7XG4gICAgICAgICRzY29wZS50cmFlZ2VyID0gdHJhZWdlcjtcbiAgICAgICAgJHNjb3BlLmVkaXRpbmcgPSB0cnVlO1xuICAgIH07XG5cbiAgICAkc2NvcGUucmVtb3ZlID0gZnVuY3Rpb24odHJhZWdlcikge1xuICAgICAgICBUcmFlZ2VyLmRlbGV0ZSh0cmFlZ2VyLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9ICRzY29wZS50cmFlZ2Vycy5pbmRleE9mKHRyYWVnZXIpO1xuICAgICAgICAgICAgaWYgKGluZGV4ICE9IC0xKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnRyYWVnZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvLyBCaWxkZXJcbiAgICAkc2NvcGUub25GaWxlU2VsZWN0ID0gZnVuY3Rpb24oJGZpbGVzKSB7XG4gICAgICAgIHZhciBkb1VwbG9hZCA9IGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgICAgICAgICR1cGxvYWQudXBsb2FkKHtcbiAgICAgICAgICAgICAgICB1cmw6ICdhcHBfZGV2LnBocC9pbWcvdXBsb2FkJywgLy91cGxvYWQucGhwIHNjcmlwdCwgbm9kZS5qcyByb3V0ZSwgb3Igc2VydmxldCB1cmxcbiAgICAgICAgICAgICAgICAvLyBtZXRob2Q6ICdQT1NUJyBvciAnUFVUJyxcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICAvLyBoZWFkZXJzOiB7J2hlYWRlci1rZXknOiAnaGVhZGVyLXZhbHVlJ30sXG4gICAgICAgICAgICAgICAgLy8gd2l0aENyZWRlbnRpYWxzOiB0cnVlLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtteU9iajogJHNjb3BlLm15TW9kZWxPYmp9LFxuICAgICAgICAgICAgICAgIGZpbGU6IGZpbGUgLy8gb3IgbGlzdCBvZiBmaWxlczogJGZpbGVzIGZvciBodG1sNSBvbmx5XG4gICAgICAgICAgICAgICAgLy8gZmlsZU5hbWU6ICdkb2MuanBnJyBvciBbJzEuanBnJywgJzIuanBnJywgLi4uXSAvLyB0byBtb2RpZnkgdGhlIG5hbWUgb2YgdGhlIGZpbGVcbiAgICAgICAgICAgICAgICAvKiBjdXN0b21pemUgZmlsZSBmb3JtRGF0YSBuYW1lICgnQ29udGVudC1EZXNwb3NpdGlvbicpLCBzZXJ2ZXIgc2lkZSBmaWxlIHZhcmlhYmxlIG5hbWUuXG4gICAgICAgICAgICAgICAgIERlZmF1bHQgaXMgJ2ZpbGUnICovXG4gICAgICAgICAgICAgICAgLy9maWxlRm9ybURhdGFOYW1lOiBteUZpbGUsIC8vb3IgYSBsaXN0IG9mIG5hbWVzIGZvciBtdWx0aXBsZSBmaWxlcyAoaHRtbDUpLlxuICAgICAgICAgICAgICAgIC8qIGN1c3RvbWl6ZSBob3cgZGF0YSBpcyBhZGRlZCB0byBmb3JtRGF0YS4gU2VlICM0MCNpc3N1ZWNvbW1lbnQtMjg2MTIwMDAgZm9yIHNhbXBsZSBjb2RlICovXG4gICAgICAgICAgICAgICAgLy9mb3JtRGF0YUFwcGVuZGVyOiBmdW5jdGlvbihmb3JtRGF0YSwga2V5LCB2YWwpe31cbiAgICAgICAgICAgIH0pLnByb2dyZXNzKGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncGVyY2VudDogJyArIHBhcnNlSW50KDEwMC4wICogZXZ0LmxvYWRlZCAvIGV2dC50b3RhbCkpO1xuICAgICAgICAgICAgfSkuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcbiAgICAgICAgICAgICAgICAvLyBmaWxlIGlzIHVwbG9hZGVkIHN1Y2Nlc3NmdWxseVxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUudHJhZWdlci5iaWxkZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUudHJhZWdlci5iaWxkZXIgPSBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmlsZS50bXBfbmFtZSA9IGRhdGEuZm9sZGVyO1xuICAgICAgICAgICAgICAgICRzY29wZS50cmFlZ2VyLmJpbGRlci5wdXNoKGZpbGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLy5lcnJvciguLi4pXG4gICAgICAgICAgICAvLy50aGVuKHN1Y2Nlc3MsIGVycm9yLCBwcm9ncmVzcyk7XG4gICAgICAgICAgICAvLy54aHIoZnVuY3Rpb24oeGhyKXt4aHIudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoLi4uKX0pLy8gYWNjZXNzIGFuZCBhdHRhY2ggYW55IGV2ZW50IGxpc3RlbmVyIHRvIFhNTEh0dHBSZXF1ZXN0LlxuICAgICAgICB9O1xuXG4gICAgICAgIC8vJGZpbGVzOiBhbiBhcnJheSBvZiBmaWxlcyBzZWxlY3RlZCwgZWFjaCBmaWxlIGhhcyBuYW1lLCBzaXplLCBhbmQgdHlwZS5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAkZmlsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBmaWxlID0gJGZpbGVzW2ldO1xuICAgICAgICAgICAgJHNjb3BlLnVwbG9hZCA9IGRvVXBsb2FkKGZpbGUpO1xuICAgICAgICB9XG4gICAgfTtcblxuXG4gICAgLy8gQWRyZXNzZW5cbiAgICAkc2NvcGUubmV3QWRyZXNzZSA9IHt9O1xuICAgICRzY29wZS5hZGRBZHJlc3NlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgkc2NvcGUudHJhZWdlci5hZHJlc3NlbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAkc2NvcGUudHJhZWdlci5hZHJlc3NlbiA9IFtdO1xuICAgICAgICB9XG4gICAgICAgICRzY29wZS50cmFlZ2VyLmFkcmVzc2VuLnB1c2goJHNjb3BlLm5ld0FkcmVzc2UpO1xuICAgICAgICAkc2NvcGUubmV3QWRyZXNzZSA9IHt9O1xuICAgIH07XG5cbiAgICAkc2NvcGUuaXNBZHJlc3NlVmFsaWQgPSBmdW5jdGlvbihhZHJlc3NlKSB7XG4gICAgICAgIGlmIChhZHJlc3NlLnN0cmFzc2UgPT09IHVuZGVmaW5lZCB8fCBhZHJlc3NlLnN0cmFzc2UubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAoYWRyZXNzZS5vcnQgPT09IHVuZGVmaW5lZCB8fCBhZHJlc3NlLm9ydC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG59XSk7IiwiYW5ndWxhci5tb2R1bGUoICdwbHVzT25lJywgW10gKVxuXG4uZGlyZWN0aXZlKCAncGx1c09uZScsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIGxpbms6IGZ1bmN0aW9uKCBzY29wZSwgZWxlbWVudCwgYXR0cnMgKSB7XG4gICAgICBnYXBpLnBsdXNvbmUucmVuZGVyKCBlbGVtZW50WzBdLCB7XG4gICAgICAgIFwic2l6ZVwiOiBcIm1lZGl1bVwiLFxuICAgICAgICBcImhyZWZcIjogXCJodHRwOi8vYml0Lmx5L25nQm9pbGVycGxhdGVcIlxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufSlcblxuO1xuXG4iLCJ2YXIganVnZW5kc3RhZHRwbGFuQXBpID0gYW5ndWxhci5tb2R1bGUoJ2p1Z2VuZHN0YWR0cGxhbi5hcGknLCBbJ25nUmVzb3VyY2UnXSk7XG5cbnZhciBiYWNrZW5kUHJlZml4ID0gJy9hcHBfZGV2LnBocCc7XG5cbmp1Z2VuZHN0YWR0cGxhbkFwaS5wcm92aWRlcignUGluJywgZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kZ2V0ID0gWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XG4gICAgICAgIHZhciBiYWNrZW5kVXJsID0gYmFja2VuZFByZWZpeCArICcvcGlucyc7XG4gICAgICAgIHJldHVybiAkcmVzb3VyY2UoYmFja2VuZFVybCwge30sIHtcbiAgICAgICAgICAgIGdldDoge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICAgICAgdXJsOiBiYWNrZW5kVXJsICsgJy86aWQnLFxuICAgICAgICAgICAgICAgIHBhcmFtczogeyBpZDonQGlkJ31cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1cGRhdGU6IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgICAgIHVybDogYmFja2VuZFVybCArICcvdXBkYXRlLzppZCcsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7IGlkOidAaWQnfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNhdmU6IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICB1cmw6IGJhY2tlbmRVcmwgKyAnL2NyZWF0ZSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWxldGU6IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICAgICAgICAgIHVybDogYmFja2VuZFVybCArICcvZGVsZXRlLzppZCcsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7IGlkOidAaWQnfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XTtcbn0pO1xuXG5qdWdlbmRzdGFkdHBsYW5BcGkucHJvdmlkZXIoJ1RyYWVnZXInLCBmdW5jdGlvbigpIHtcbiAgICB0aGlzLiRnZXQgPSBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcbiAgICAgICAgdmFyIGJhY2tlbmRVcmwgPSBiYWNrZW5kUHJlZml4ICsgJy90cmFlZ2VyJztcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShiYWNrZW5kVXJsLCB7fSwge1xuICAgICAgICAgICAgZ2V0OiB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICB1cmw6IGJhY2tlbmRVcmwgKyAnLzppZCcsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7IGlkOidAaWQnfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVwZGF0ZToge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICAgICAgdXJsOiBiYWNrZW5kVXJsICsgJy91cGRhdGUvOmlkJyxcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHsgaWQ6J0BpZCd9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2F2ZToge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIHVybDogYmFja2VuZFVybCArICcvY3JlYXRlJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlbGV0ZToge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgICAgICAgICAgdXJsOiBiYWNrZW5kVXJsICsgJy9kZWxldGUvOmlkJyxcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHsgaWQ6J0BpZCd9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1dO1xufSk7XG5cbmp1Z2VuZHN0YWR0cGxhbkFwaS5wcm92aWRlcignS2F0ZWdvcmllJywgZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kZ2V0ID0gWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XG4gICAgICAgIHZhciBiYWNrZW5kVXJsID0gYmFja2VuZFByZWZpeCArICcva2F0ZWdvcmllJztcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShiYWNrZW5kVXJsKTtcbiAgICB9XTtcbn0pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==