angular.module("jugendstadtplan.links",[]),angular.module("jugendstadtplan.pins",["ui.router","jugendstadtplan.links"]),angular.module("jugendstadtplan.startseite",["ui.router","leaflet-directive"]),angular.module("jugendstadtplan.traeger",["ui.router","jugendstadtplan.links"]);var Jugendstadtplan=Jugendstadtplan||{};Jugendstadtplan.Controllers=angular.module("jugendstadtplan.controllers",[]),angular.module("jugendstadtplan",["ngResource","ngSanitize","ui.router","leaflet-directive","textAngular","angularFileUpload","jugendstadtplan.api","jugendstadtplan.startseite","jugendstadtplan.pins","jugendstadtplan.traeger","jugendstadtplan.controllers"]).config(function(e,n){n.otherwise("/startseite")}).run(function(){}).controller("AppCtrl",["$scope","$location",function(e,n){e.$on("$stateChangeSuccess",function(n,t,r,a,i){angular.isDefined(t.data.pageTitle)&&(e.pageTitle=t.data.pageTitle+" | Jugendstadtplan")})}]),Jugendstadtplan.Controllers.controller("LinksFormController",["$scope",function(e){e.newLink={},e.addLink=function(){void 0===e.model.links&&(e.model.links=[]),e.model.links.push(e.newLink),e.newLink={}},e.isLinkValid=function(e){return void 0===e.titel||0===e.titel.length?!1:void 0===e.url||0===e.url.length?!1:!0}}]),angular.module("jugendstadtplan.pins").config(function(e){e.state("Detail: Pin",{url:"/pin/{id:[0-9]+}",views:{main:{controller:"PinDetailController",templateUrl:"src/app/pins/views/detail.tpl.html"}},resolve:{pinDetail:["$stateParams","Pin",function(e,n){return n.get({},{id:e.id})}]},data:{pageTitle:"Pin"}})}),Jugendstadtplan.Controllers.controller("PinDetailController",["$scope","pinDetail",function(e,n){e.markers=[],e.center={lat:50.732829246726,lng:7.0937004090117,zoom:13},n.$promise.then(function(){e.pin=n,angular.extend(e,{defaults:{scrollWheelZoom:!1}}),e.center={lat:n.latitude,lng:n.longitude,zoom:15};var t={lat:n.latitude,lng:n.longitude,title:n.titel,focus:!0,message:"<h3>"+n.titel+"</h3>"+n.beschreibung};e.markers.push(t)},function(){angular.extend(e,{defaults:{scrollWheelZoom:!1}})})}]),angular.module("jugendstadtplan.pins").config(function(e){e.state("Form: Pin",{url:"/pin/create",views:{main:{controller:"PinFormController",templateUrl:"src/app/pins/views/form.tpl.html"}},data:{pageTitle:"Pin erstellen"}})}),Jugendstadtplan.Controllers.controller("PinFormController",["$scope","$location","Pin","Traeger","Kategorie",function(e,n,t,r,a){e.kategorien=a.query(),e.pin=new t,e.pins=t.query(),e.traegers=r.query(),angular.extend(e,{center:{lat:50.732829246726,lng:7.0937004090117,zoom:13},defaults:{scrollWheelZoom:!1},events:{}}),e.pin.markers=[],e.$on("leafletDirectiveMap.click",function(n,t){var r=t.leafletEvent;e.pin.markers[0]={lat:r.latlng.lat,lng:r.latlng.lng,draggable:!0,focus:!0}}),e.newPin=function(){e.pin=new t,e.pin.markers=[],e.editing=!1},e.save=function(){e.pin.id?t.update(e.pin):e.pin.$save().then(function(n){e.pins.push(n)}),e.newPin()},e.setActivePin=function(n){e.pin=n,e.pin.markers=[],null!=n.longitude&&(e.pin.markers[0]={lat:n.latitude,lng:n.longitude,draggable:!0,focus:!0}),e.editing=!0},e.remove=function(n){t["delete"](n,function(){var t=e.pins.indexOf(n);-1!=t&&e.pins.splice(t,1)})},e.barrierefreiheitsgrade=["Gut","Teilweise","Nicht barrierefrei"],e.kostenarten=["Kostenlos","Kostenpflichtig"],e.mindestalters=["ab 12","ab 16","ab 18","ab 21"],e.newAnsprechpartner={},e.addAnsprechpartner=function(){void 0===e.pin.ansprechpartner&&(e.pin.ansprechpartner=[]),e.pin.ansprechpartner.push(e.newAnsprechpartner),e.newAnsprechpartner={}},e.isAnsprechpartnerValid=function(e){return void 0===e.name||0===e.name.length?!1:void 0===e.email||0===e.email.length?!1:!0},e.wochentage=["Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"],e.newTermin={},e.addTermin=function(){void 0===e.pin.termine&&(e.pin.termine=[]),e.pin.termine.push(e.newTermin),e.newTermin={}},e.isTerminValid=function(e){return void 0===e.beginn||0===e.beginn?!1:e.ganztaegig===!0||void 0!==e.beginn_uhrzeit&&0!==e.beginn_uhrzeit?!0:!1},e.woche_des_monats=[{id:0,label:"Jede Woche"},{id:1,label:"Jede 1. Woche"},{id:2,label:"Jede 2. Woche"},{id:3,label:"Jede 3. Woche"},{id:4,label:"Jede 4. Woche"},{id:5,label:"Jede 5. Woche"}],e.newWiederholung={},e.addWiederholung=function(){void 0===e.newTermin.wiederholungen&&(e.newTermin.wiederholungen=[]),e.newTermin.wiederholungen.push(e.newWiederholung),e.newWiederholung={}},e.isWiederholungValid=function(e){return void 0===e.wochentag||0===e.wochentag?!1:!0}}]),angular.module("jugendstadtplan.pins").config(function(e){e.state("Liste: Pin",{url:"/pins",views:{main:{controller:"PinsController",templateUrl:"src/app/pins/views/list.tpl.html"}},data:{pageTitle:"Pins"}})}),Jugendstadtplan.Controllers.controller("PinsController",["$scope","$location","Pin",function(e,n,t){e.pins=t.query(),e.viewPin=function(e){n.path("/pin/"+e.id)}}]),angular.module("jugendstadtplan.startseite").config(function(e){e.state("Startseite",{url:"/startseite",views:{main:{controller:"StartseiteController",templateUrl:"src/app/startseite/views/startseite.tpl.html"}},data:{pageTitle:"Startseite"}})}),angular.module("jugendstadtplan.startseite").controller("StartseiteController",["$scope","$location","Pin",function(e,n,t){angular.extend(e,{center:{lat:50.732829246726,lng:7.0937004090117,zoom:13},defaults:{scrollWheelZoom:!1}}),e.markers=[],t.query(function(n){angular.forEach(n,function(n){if(null!=n.longitude){var t={lat:n.latitude,lng:n.longitude,title:n.titel,message:"<h3>"+n.titel+"</h3>"+n.beschreibung+'<small><a href="/#/pin/'+n.id+'">Mehr</a></small>'};e.markers.push(t)}})})}]),angular.module("jugendstadtplan.traeger").config(function(e){e.state("Liste: Traeger",{url:"/traeger",views:{main:{controller:"TraegerController",templateUrl:"src/app/traeger/views/liste.tpl.html"}},data:{pageTitle:"Träger"}})}),Jugendstadtplan.Controllers.controller("TraegerController",["$scope","$location","Traeger",function(e,n,t){e.traeger=t.query(),e.viewTraeger=function(e){n.path("/traeger/"+e.id)}}]),angular.module("jugendstadtplan.traeger").config(function(e){e.state("Detail: Traeger",{url:"/traeger/{id:[0-9]+}",views:{main:{controller:"TraegerDetailController",templateUrl:"src/app/traeger/views/detail.tpl.html"}},resolve:{traegerDetail:["$stateParams","Traeger",function(e,n){return n.get({},{id:e.id})}]},data:{pageTitle:"Träger"}})}),Jugendstadtplan.Controllers.controller("TraegerDetailController",["$scope","traegerDetail",function(e,n){e.traeger=n,angular.extend(e,{center:{lat:50.732829246726,lng:7.0937004090117,zoom:13},defaults:{scrollWheelZoom:!1}}),e.markers=[],n.$promise.then(function(){angular.forEach(n.pins,function(n,t){var r={lat:n.latitude,lng:n.longitude,title:n.titel,message:"<h3>"+n.titel+"</h3>"+n.beschreibung+'<small><a href="/#/pin/'+n.id+'">Mehr</a></small>'};e.markers.push(r)})})}]),angular.module("jugendstadtplan.traeger").config(function(e){e.state("Form: Traeger",{url:"/traeger/create",views:{main:{controller:"TraegerFormController",templateUrl:"src/app/traeger/views/form.tpl.html"}},data:{pageTitle:"Träger erstellen"}})}),Jugendstadtplan.Controllers.controller("TraegerFormController",["$scope","$location","Traeger","Kategorie","$upload",function(e,n,t,r,a){e.kategorien=r.query(),e.traeger=new t,e.traegers=t.query(),e.newTraeger=function(){e.traeger=new t,e.editing=!1},e.save=function(){e.traeger.id?t.update(e.traeger).then(function(){e.newTraeger()},function(){alert("Ein Träger mit dieser Email-Adresse existiert bereits!")}):e.traeger.$save().then(function(n){e.traegers.push(n),e.newTraeger()},function(){alert("Ein Träger mit dieser Email-Adresse existiert bereits!")})},e.setActiveTraeger=function(n){e.traeger=n,e.editing=!0},e.remove=function(n){t["delete"](n,function(){var t=e.traegers.indexOf(n);-1!=t&&e.traegers.splice(t,1)})},e.onFileSelect=function(n){for(var t=function(n){a.upload({url:"app_dev.php/img/upload",method:"POST",data:{myObj:e.myModelObj},file:n}).progress(function(e){console.log("percent: "+parseInt(100*e.loaded/e.total))}).success(function(t,r,a,i){void 0===e.traeger.bilder&&(e.traeger.bilder=[]),n.tmp_name=t.folder,e.traeger.bilder.push(n)})},r=0;r<n.length;r++){var i=n[r];e.upload=t(i)}},e.newAnsprechpartner={},e.addAnsprechpartner=function(){void 0===e.traeger.ansprechpartner&&(e.traeger.ansprechpartner=[]),e.traeger.ansprechpartner.push(e.newAnsprechpartner),e.newAnsprechpartner={}},e.isAnsprechpartnerValid=function(e){return void 0===e.name||0===e.name.length?!1:void 0===e.email||0===e.email.length?!1:!0},e.newAdresse={},e.addAdresse=function(){void 0===e.traeger.adressen&&(e.traeger.adressen=[]),e.traeger.adressen.push(e.newAdresse),e.newAdresse={}},e.isAdresseValid=function(e){return void 0===e.strasse||0===e.strasse.length?!1:void 0===e.ort||0===e.ort.length?!1:!0}}]),angular.module("plusOne",[]).directive("plusOne",function(){return{link:function(e,n,t){gapi.plusone.render(n[0],{size:"medium",href:"http://bit.ly/ngBoilerplate"})}}});var jugendstadtplanApi=angular.module("jugendstadtplan.api",["ngResource"]),backendPrefix="/app_dev.php";jugendstadtplanApi.provider("Pin",function(){this.$get=["$resource",function(e){var n=backendPrefix+"/pins";return e(n,{},{get:{method:"GET",url:n+"/:id",params:{id:"@id"}},update:{method:"PUT",url:n+"/update/:id",params:{id:"@id"}},save:{method:"POST",url:n+"/create"},"delete":{method:"DELETE",url:n+"/delete/:id",params:{id:"@id"}}})}]}),jugendstadtplanApi.provider("Traeger",function(){this.$get=["$resource",function(e){var n=backendPrefix+"/traeger";return e(n,{},{get:{method:"GET",url:n+"/:id",params:{id:"@id"}},update:{method:"PUT",url:n+"/update/:id",params:{id:"@id"}},save:{method:"POST",url:n+"/create"},"delete":{method:"DELETE",url:n+"/delete/:id",params:{id:"@id"}}})}]}),jugendstadtplanApi.provider("Kategorie",function(){this.$get=["$resource",function(e){var n=backendPrefix+"/kategorie";return e(n)}]});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9saW5rcy9MaW5rc01vZHVsZS5qcyIsImFwcC9waW5zL1BpbnNNb2R1bGUuanMiLCJhcHAvc3RhcnRzZWl0ZS9TdGFydHNlaXRlTW9kdWxlLmpzIiwiYXBwL3RyYWVnZXIvVHJhZWdlck1vZHVsZS5qcyIsImFwcC9hcHAuanMiLCJhcHAvbGlua3MvTGlua3NGb3JtQ29udHJvbGxlci5qcyIsImFwcC9waW5zL1BpbkRldGFpbENvbnRyb2xsZXIuanMiLCJhcHAvcGlucy9QaW5Gb3JtQ29udHJvbGxlci5qcyIsImFwcC9waW5zL1BpbnNDb250cm9sbGVyLmpzIiwiYXBwL3N0YXJ0c2VpdGUvU3RhcnRzZWl0ZUNvbnRyb2xsZXIuanMiLCJhcHAvdHJhZWdlci9UcmFlZ2VyQ29udHJvbGxlci5qcyIsImFwcC90cmFlZ2VyL1RyYWVnZXJEZXRhaWxDb250cm9sbGVyLmpzIiwiYXBwL3RyYWVnZXIvVHJhZWdlckZvcm1Db250cm9sbGVyLmpzIiwiY29tbW9uL3BsdXNPbmUvcGx1c09uZS5qcyIsImNvbW1vbi9yZXNvdXJjZXMvSnVnZW5kc3RhZHRwbGFuQXBpLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJKdWdlbmRzdGFkdHBsYW4iLCJDb250cm9sbGVycyIsImNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwib3RoZXJ3aXNlIiwicnVuIiwiY29udHJvbGxlciIsIiRzY29wZSIsIiRsb2NhdGlvbiIsIiRvbiIsImV2ZW50IiwidG9TdGF0ZSIsInRvUGFyYW1zIiwiZnJvbVN0YXRlIiwiZnJvbVBhcmFtcyIsImlzRGVmaW5lZCIsImRhdGEiLCJwYWdlVGl0bGUiLCJuZXdMaW5rIiwiYWRkTGluayIsInVuZGVmaW5lZCIsIm1vZGVsIiwibGlua3MiLCJwdXNoIiwiaXNMaW5rVmFsaWQiLCJsaW5rIiwidGl0ZWwiLCJsZW5ndGgiLCJ1cmwiLCJzdGF0ZSIsInZpZXdzIiwibWFpbiIsInRlbXBsYXRlVXJsIiwicmVzb2x2ZSIsInBpbkRldGFpbCIsIiRzdGF0ZVBhcmFtcyIsIlBpbiIsImdldCIsImlkIiwibWFya2VycyIsImNlbnRlciIsImxhdCIsImxuZyIsInpvb20iLCIkcHJvbWlzZSIsInRoZW4iLCJwaW4iLCJleHRlbmQiLCJkZWZhdWx0cyIsInNjcm9sbFdoZWVsWm9vbSIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwibWFya2VyIiwidGl0bGUiLCJmb2N1cyIsIm1lc3NhZ2UiLCJiZXNjaHJlaWJ1bmciLCJUcmFlZ2VyIiwiS2F0ZWdvcmllIiwia2F0ZWdvcmllbiIsInF1ZXJ5IiwicGlucyIsInRyYWVnZXJzIiwiZXZlbnRzIiwiYXJncyIsImxlYWZFdmVudCIsImxlYWZsZXRFdmVudCIsImxhdGxuZyIsImRyYWdnYWJsZSIsIm5ld1BpbiIsImVkaXRpbmciLCJzYXZlIiwidXBkYXRlIiwiJHNhdmUiLCJyZXNwb25zZSIsInNldEFjdGl2ZVBpbiIsInJlbW92ZSIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsImJhcnJpZXJlZnJlaWhlaXRzZ3JhZGUiLCJrb3N0ZW5hcnRlbiIsIm1pbmRlc3RhbHRlcnMiLCJuZXdBbnNwcmVjaHBhcnRuZXIiLCJhZGRBbnNwcmVjaHBhcnRuZXIiLCJhbnNwcmVjaHBhcnRuZXIiLCJpc0Fuc3ByZWNocGFydG5lclZhbGlkIiwibmFtZSIsImVtYWlsIiwid29jaGVudGFnZSIsIm5ld1Rlcm1pbiIsImFkZFRlcm1pbiIsInRlcm1pbmUiLCJpc1Rlcm1pblZhbGlkIiwidGVybWluIiwiYmVnaW5uIiwiZ2FuenRhZWdpZyIsImJlZ2lubl91aHJ6ZWl0Iiwid29jaGVfZGVzX21vbmF0cyIsImxhYmVsIiwibmV3V2llZGVyaG9sdW5nIiwiYWRkV2llZGVyaG9sdW5nIiwid2llZGVyaG9sdW5nZW4iLCJpc1dpZWRlcmhvbHVuZ1ZhbGlkIiwid2llZGVyaG9sdW5nIiwid29jaGVudGFnIiwidmlld1BpbiIsInBhdGgiLCJmb3JFYWNoIiwiaXRlbSIsInRyYWVnZXIiLCJ2aWV3VHJhZWdlciIsInRyYWVnZXJEZXRhaWwiLCJrZXkiLCIkdXBsb2FkIiwibmV3VHJhZWdlciIsImFsZXJ0Iiwic2V0QWN0aXZlVHJhZWdlciIsIm9uRmlsZVNlbGVjdCIsIiRmaWxlcyIsImRvVXBsb2FkIiwiZmlsZSIsInVwbG9hZCIsIm1ldGhvZCIsIm15T2JqIiwibXlNb2RlbE9iaiIsInByb2dyZXNzIiwiZXZ0IiwiY29uc29sZSIsImxvZyIsInBhcnNlSW50IiwibG9hZGVkIiwidG90YWwiLCJzdWNjZXNzIiwic3RhdHVzIiwiaGVhZGVycyIsImJpbGRlciIsInRtcF9uYW1lIiwiZm9sZGVyIiwiaSIsIm5ld0FkcmVzc2UiLCJhZGRBZHJlc3NlIiwiYWRyZXNzZW4iLCJpc0FkcmVzc2VWYWxpZCIsImFkcmVzc2UiLCJzdHJhc3NlIiwib3J0IiwiZGlyZWN0aXZlIiwic2NvcGUiLCJlbGVtZW50IiwiYXR0cnMiLCJnYXBpIiwicGx1c29uZSIsInJlbmRlciIsInNpemUiLCJocmVmIiwianVnZW5kc3RhZHRwbGFuQXBpIiwiYmFja2VuZFByZWZpeCIsInByb3ZpZGVyIiwidGhpcyIsIiRnZXQiLCIkcmVzb3VyY2UiLCJiYWNrZW5kVXJsIiwicGFyYW1zIiwiZGVsZXRlIl0sIm1hcHBpbmdzIjoiQUFBQUEsUUFBQUMsT0FBQSw0QkNBQUQsUUFBQUMsT0FBQSx3QkFDQSxZQUFBLDBCQ0RBRCxRQUFBQyxPQUFBLDhCQUNBLFlBQ0Esc0JDRkFELFFBQUFDLE9BQUEsMkJBQ0EsWUFBQSx5QkNEQSxJQUFBQyxpQkFBQUEsbUJBQ0FBLGlCQUFBQyxZQUFBSCxRQUFBQyxPQUFBLGtDQUVBRCxRQUFBQyxPQUFBLG1CQUNBLGFBQ0EsYUFDQSxZQUNBLG9CQUNBLGNBQ0Esb0JBQ0Esc0JBQ0EsNkJBQ0EsdUJBQ0EsMEJBQ0EsZ0NBR0FHLE9BQUEsU0FBQUMsRUFBQUMsR0FDQUEsRUFBQUMsVUFBQSxpQkFHQUMsSUFBQSxjQUdBQyxXQUFBLFdBQUEsU0FBQSxZQUFBLFNBQUFDLEVBQUFDLEdBQ0FELEVBQUFFLElB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QSxXQUNBQyxLQUFBQyxNQUFBLFlBQUEsU0FBQUMsR0FDQSxHQUFBQyxHQUFBTCxjQUFBLFVBQ0EsT0FBQUksR0FBQUMsTUFDQTdILEtBQ0FzRixPQUFBLE1BQ0EvRixJQUFBc0ksRUFBQSxPQUNBQyxRQUFBN0gsR0FBQSxRQUVBa0MsUUFDQW1ELE9BQUEsTUFDQS9GLElBQUFzSSxFQUFBLGNBQ0FDLFFBQUE3SCxHQUFBLFFBRUFpQyxNQUNBb0QsT0FBQSxPQUNBL0YsSUFBQXNJLEVBQUEsV0FFQUUsVUFDQXpDLE9BQUEsU0FDQS9GLElBQUFzSSxFQUFBLGNBQ0FDLFFBQUE3SCxHQUFBLGNBTUFzSCxtQkFBQUUsU0FBQSxZQUFBLFdBQ0FDLEtBQUFDLE1BQUEsWUFBQSxTQUFBQyxHQUNBLEdBQUFDLEdBQUFMLGNBQUEsWUFDQSxPQUFBSSxHQUFBQyIsImZpbGUiOiJqdWdlbmRzdGFkdHBsYW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiYW5ndWxhci5tb2R1bGUoICdqdWdlbmRzdGFkdHBsYW4ubGlua3MnLCBbXG5dKTsiLCJhbmd1bGFyLm1vZHVsZSggJ2p1Z2VuZHN0YWR0cGxhbi5waW5zJywgW1xuICAndWkucm91dGVyJywgJ2p1Z2VuZHN0YWR0cGxhbi5saW5rcydcbl0pOyIsImFuZ3VsYXIubW9kdWxlKCAnanVnZW5kc3RhZHRwbGFuLnN0YXJ0c2VpdGUnLCBbXG4gICd1aS5yb3V0ZXInLFxuICAnbGVhZmxldC1kaXJlY3RpdmUnXG5dKTsiLCJhbmd1bGFyLm1vZHVsZSggJ2p1Z2VuZHN0YWR0cGxhbi50cmFlZ2VyJywgW1xuICAndWkucm91dGVyJywgJ2p1Z2VuZHN0YWR0cGxhbi5saW5rcydcbl0pOyIsInZhciBKdWdlbmRzdGFkdHBsYW4gPSBKdWdlbmRzdGFkdHBsYW4gfHwge307XG5KdWdlbmRzdGFkdHBsYW4uQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnanVnZW5kc3RhZHRwbGFuLmNvbnRyb2xsZXJzJywgW10pO1xuXG5hbmd1bGFyLm1vZHVsZSggJ2p1Z2VuZHN0YWR0cGxhbicsIFtcbiAgJ25nUmVzb3VyY2UnLFxuICAnbmdTYW5pdGl6ZScsXG4gICd1aS5yb3V0ZXInLFxuICAnbGVhZmxldC1kaXJlY3RpdmUnLFxuICAndGV4dEFuZ3VsYXInLFxuICAnYW5ndWxhckZpbGVVcGxvYWQnLFxuICAnanVnZW5kc3RhZHRwbGFuLmFwaScsXG4gICdqdWdlbmRzdGFkdHBsYW4uc3RhcnRzZWl0ZScsXG4gICdqdWdlbmRzdGFkdHBsYW4ucGlucycsXG4gICdqdWdlbmRzdGFkdHBsYW4udHJhZWdlcicsXG4gICdqdWdlbmRzdGFkdHBsYW4uY29udHJvbGxlcnMnXG5dKVxuXG4uY29uZmlnKCBmdW5jdGlvbiBteUFwcENvbmZpZyAoICRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIgKSB7XG4gICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoICcvc3RhcnRzZWl0ZScgKTtcbn0pXG5cbi5ydW4oIGZ1bmN0aW9uIHJ1biAoKSB7XG59KVxuXG4uY29udHJvbGxlciggJ0FwcEN0cmwnLCBbICckc2NvcGUnLCAnJGxvY2F0aW9uJywgZnVuY3Rpb24gQXBwQ3RybCggJHNjb3BlLCAkbG9jYXRpb24gKXtcbiAgJHNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3VjY2VzcycsIGZ1bmN0aW9uKGV2ZW50LCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbVN0YXRlLCBmcm9tUGFyYW1zKXtcbiAgICBpZiAoIGFuZ3VsYXIuaXNEZWZpbmVkKCB0b1N0YXRlLmRhdGEucGFnZVRpdGxlICkgKSB7XG4gICAgICAkc2NvcGUucGFnZVRpdGxlID0gdG9TdGF0ZS5kYXRhLnBhZ2VUaXRsZSArICcgfCBKdWdlbmRzdGFkdHBsYW4nIDtcbiAgICB9XG4gIH0pO1xufV0pXG5cbjsiLCJKdWdlbmRzdGFkdHBsYW4uQ29udHJvbGxlcnMuY29udHJvbGxlciggJ0xpbmtzRm9ybUNvbnRyb2xsZXInLCBbICckc2NvcGUnLFxuICAgIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAvLyBMaW5rc1xuICAgICAgICAvLyBMaW5rc1xuICAgICAgICAkc2NvcGUubmV3TGluayA9IHt9O1xuICAgICAgICAkc2NvcGUuYWRkTGluayA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCRzY29wZS5tb2RlbC5saW5rcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLm1vZGVsLmxpbmtzID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkc2NvcGUubW9kZWwubGlua3MucHVzaCgkc2NvcGUubmV3TGluayk7XG4gICAgICAgICAgICAkc2NvcGUubmV3TGluayA9IHt9O1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5pc0xpbmtWYWxpZCA9IGZ1bmN0aW9uKGxpbmspIHtcbiAgICAgICAgICAgIGlmIChsaW5rLnRpdGVsID09PSB1bmRlZmluZWQgfHwgbGluay50aXRlbC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxpbmsudXJsID09PSB1bmRlZmluZWQgfHwgbGluay51cmwubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG4gICAgfV0pOyIsImFuZ3VsYXIubW9kdWxlKCdqdWdlbmRzdGFkdHBsYW4ucGlucycpLmNvbmZpZyhmdW5jdGlvbiBjb25maWcoICRzdGF0ZVByb3ZpZGVyICkge1xuICBcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoICdEZXRhaWw6IFBpbicsIHtcbiAgICB1cmw6ICcvcGluL3tpZDpbMC05XSt9JyxcbiAgICB2aWV3czoge1xuICAgICAgXCJtYWluXCI6IHtcbiAgICAgICAgY29udHJvbGxlcjogJ1BpbkRldGFpbENvbnRyb2xsZXInLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ3NyYy9hcHAvcGlucy92aWV3cy9kZXRhaWwudHBsLmh0bWwnXG4gICAgICB9XG4gICAgfSxcbiAgICByZXNvbHZlOiB7XG4gICAgICBwaW5EZXRhaWw6IFsgJyRzdGF0ZVBhcmFtcycsICdQaW4nLCBmdW5jdGlvbigkc3RhdGVQYXJhbXMsIFBpbikge1xuICAgICAgICByZXR1cm4gUGluLmdldCh7fSx7aWQ6ICRzdGF0ZVBhcmFtcy5pZH0pO1xuICAgICAgfV1cbiAgICB9LFxuICAgIGRhdGE6eyBwYWdlVGl0bGU6ICdQaW4nIH1cbiAgfSk7XG5cbn0pO1xuXG5KdWdlbmRzdGFkdHBsYW4uQ29udHJvbGxlcnMuY29udHJvbGxlciggJ1BpbkRldGFpbENvbnRyb2xsZXInLCBbICckc2NvcGUnLCAncGluRGV0YWlsJywgZnVuY3Rpb24gUGluRGV0YWlsQ29udHJvbGxlciggJHNjb3BlLCBwaW5EZXRhaWwgKSB7XG4gICAgJHNjb3BlLm1hcmtlcnMgPSBbXTtcbiAgICAkc2NvcGUuY2VudGVyID0ge1xuICAgICAgICBsYXQ6IDUwLjczMjgyOTI0NjcyNixcbiAgICAgICAgbG5nOiA3LjA5MzcwMDQwOTAxMTcsXG4gICAgICAgIHpvb206IDEzXG4gICAgfTtcblxuICAgIHBpbkRldGFpbC4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJHNjb3BlLnBpbiA9IHBpbkRldGFpbDtcblxuICAgICAgICAgICAgYW5ndWxhci5leHRlbmQoJHNjb3BlLCB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdHM6IHtcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsV2hlZWxab29tOiBmYWxzZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkc2NvcGUuY2VudGVyID0ge1xuICAgICAgICAgICAgICAgIGxhdDogcGluRGV0YWlsLmxhdGl0dWRlLFxuICAgICAgICAgICAgICAgIGxuZzogcGluRGV0YWlsLmxvbmdpdHVkZSxcbiAgICAgICAgICAgICAgICB6b29tOiAxNVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIG1hcmtlciA9IHtcbiAgICAgICAgICAgICAgICBsYXQ6IHBpbkRldGFpbC5sYXRpdHVkZSxcbiAgICAgICAgICAgICAgICBsbmc6IHBpbkRldGFpbC5sb25naXR1ZGUsXG4gICAgICAgICAgICAgICAgdGl0bGU6IHBpbkRldGFpbC50aXRlbCxcbiAgICAgICAgICAgICAgICBmb2N1czogdHJ1ZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnPGgzPicgKyBwaW5EZXRhaWwudGl0ZWwgKyAnPC9oMz4nICsgcGluRGV0YWlsLmJlc2NocmVpYnVuZyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAkc2NvcGUubWFya2Vycy5wdXNoKG1hcmtlcik7XG4gICAgICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgYW5ndWxhci5leHRlbmQoJHNjb3BlLCB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdHM6IHtcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsV2hlZWxab29tOiBmYWxzZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgKTtcbn1dKTsiLCJhbmd1bGFyLm1vZHVsZSgnanVnZW5kc3RhZHRwbGFuLnBpbnMnKS5jb25maWcoZnVuY3Rpb24gY29uZmlnKCAkc3RhdGVQcm92aWRlciApIHtcblxuICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCAnRm9ybTogUGluJywge1xuICAgICAgICB1cmw6ICcvcGluL2NyZWF0ZScsXG4gICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgICBcIm1haW5cIjoge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdQaW5Gb3JtQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdzcmMvYXBwL3BpbnMvdmlld3MvZm9ybS50cGwuaHRtbCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZGF0YTp7IHBhZ2VUaXRsZTogJ1BpbiBlcnN0ZWxsZW4nIH1cbiAgICB9KTtcblxufSk7XG5cbkp1Z2VuZHN0YWR0cGxhbi5Db250cm9sbGVycy5jb250cm9sbGVyKCAnUGluRm9ybUNvbnRyb2xsZXInLCBbICckc2NvcGUnLCAnJGxvY2F0aW9uJywgJ1BpbicsICdUcmFlZ2VyJywgJ0thdGVnb3JpZScsIGZ1bmN0aW9uIFBpbkZvcm1Db250cm9sbGVyKCAkc2NvcGUsICRsb2NhdGlvbiwgUGluLCBUcmFlZ2VyLCBLYXRlZ29yaWUgKSB7XG4gICAgJHNjb3BlLmthdGVnb3JpZW4gPSBLYXRlZ29yaWUucXVlcnkoKTtcbiAgICAkc2NvcGUucGluID0gbmV3IFBpbigpO1xuICAgICRzY29wZS5waW5zID0gUGluLnF1ZXJ5KCk7XG4gICAgJHNjb3BlLnRyYWVnZXJzID0gVHJhZWdlci5xdWVyeSgpO1xuXG4gICAgYW5ndWxhci5leHRlbmQoJHNjb3BlLCB7XG4gICAgICAgIGNlbnRlcjoge1xuICAgICAgICAgICAgbGF0OiA1MC43MzI4MjkyNDY3MjYsXG4gICAgICAgICAgICBsbmc6IDcuMDkzNzAwNDA5MDExNyxcbiAgICAgICAgICAgIHpvb206IDEzXG4gICAgICAgIH0sXG4gICAgICAgIGRlZmF1bHRzOiB7XG4gICAgICAgICAgICBzY3JvbGxXaGVlbFpvb206IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIGV2ZW50czoge31cbiAgICB9KTtcblxuICAgICRzY29wZS5waW4ubWFya2VycyA9IFtdO1xuICAgICRzY29wZS4kb24oXCJsZWFmbGV0RGlyZWN0aXZlTWFwLmNsaWNrXCIsIGZ1bmN0aW9uKGV2ZW50LCBhcmdzKXtcbiAgICAgICAgdmFyIGxlYWZFdmVudCA9IGFyZ3MubGVhZmxldEV2ZW50O1xuXG4gICAgICAgICRzY29wZS5waW4ubWFya2Vyc1swXSA9IHtcbiAgICAgICAgICAgIGxhdDogbGVhZkV2ZW50LmxhdGxuZy5sYXQsXG4gICAgICAgICAgICBsbmc6IGxlYWZFdmVudC5sYXRsbmcubG5nLFxuICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlLFxuICAgICAgICAgICAgZm9jdXM6IHRydWVcbiAgICAgICAgfTtcbiAgICB9KTtcblxuICAgICRzY29wZS5uZXdQaW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgJHNjb3BlLnBpbiA9IG5ldyBQaW4oKTtcbiAgICAgICAgJHNjb3BlLnBpbi5tYXJrZXJzID0gW107XG4gICAgICAgICRzY29wZS5lZGl0aW5nID0gZmFsc2U7XG4gICAgfTtcblxuICAgICRzY29wZS5zYXZlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgkc2NvcGUucGluLmlkKSB7XG4gICAgICAgICAgICBQaW4udXBkYXRlKCRzY29wZS5waW4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJHNjb3BlLnBpbi4kc2F2ZSgpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUucGlucy5wdXNoKHJlc3BvbnNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgICRzY29wZS5uZXdQaW4oKTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLnNldEFjdGl2ZVBpbiA9IGZ1bmN0aW9uKHBpbikge1xuICAgICAgICAkc2NvcGUucGluID0gcGluO1xuICAgICAgICAkc2NvcGUucGluLm1hcmtlcnMgPSBbXTtcbiAgICAgICAgaWYgKHBpbi5sb25naXR1ZGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgJHNjb3BlLnBpbi5tYXJrZXJzWzBdID0ge1xuICAgICAgICAgICAgICAgIGxhdDogcGluLmxhdGl0dWRlLFxuICAgICAgICAgICAgICAgIGxuZzogcGluLmxvbmdpdHVkZSxcbiAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgZm9jdXM6IHRydWVcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgJHNjb3BlLmVkaXRpbmcgPSB0cnVlO1xuICAgIH07XG5cbiAgICAkc2NvcGUucmVtb3ZlID0gZnVuY3Rpb24ocGluKSB7XG4gICAgICAgIFBpbi5kZWxldGUocGluLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9ICRzY29wZS5waW5zLmluZGV4T2YocGluKTtcbiAgICAgICAgICAgIGlmIChpbmRleCAhPSAtMSkge1xuICAgICAgICAgICAgICAgICRzY29wZS5waW5zLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cblxuICAgIC8vIEJhcnJpZXJlZnJlaWhlaXRzZ3JhZGVcbiAgICAkc2NvcGUuYmFycmllcmVmcmVpaGVpdHNncmFkZSA9IFsgJ0d1dCcsICdUZWlsd2Vpc2UnLCAnTmljaHQgYmFycmllcmVmcmVpJyBdO1xuXG5cbiAgICAvLyBLb3N0ZW5hcnRlblxuICAgICRzY29wZS5rb3N0ZW5hcnRlbiA9IFsgJ0tvc3RlbmxvcycsICdLb3N0ZW5wZmxpY2h0aWcnIF07XG5cblxuICAgIC8vIE1pbmRlc3RhbHRlclxuICAgICRzY29wZS5taW5kZXN0YWx0ZXJzID0gWyAnYWIgMTInLCAnYWIgMTYnLCAnYWIgMTgnLCAnYWIgMjEnIF07XG5cblxuICAgIC8vIEFuc3ByZWNocGFydG5lclxuICAgICRzY29wZS5uZXdBbnNwcmVjaHBhcnRuZXIgPSB7fTtcbiAgICAkc2NvcGUuYWRkQW5zcHJlY2hwYXJ0bmVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgkc2NvcGUucGluLmFuc3ByZWNocGFydG5lciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAkc2NvcGUucGluLmFuc3ByZWNocGFydG5lciA9IFtdO1xuICAgICAgICB9XG4gICAgICAgICRzY29wZS5waW4uYW5zcHJlY2hwYXJ0bmVyLnB1c2goJHNjb3BlLm5ld0Fuc3ByZWNocGFydG5lcik7XG4gICAgICAgICRzY29wZS5uZXdBbnNwcmVjaHBhcnRuZXIgPSB7fTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmlzQW5zcHJlY2hwYXJ0bmVyVmFsaWQgPSBmdW5jdGlvbihhbnNwcmVjaHBhcnRuZXIpIHtcbiAgICAgICAgaWYgKGFuc3ByZWNocGFydG5lci5uYW1lID09PSB1bmRlZmluZWQgfHwgYW5zcHJlY2hwYXJ0bmVyLm5hbWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAoYW5zcHJlY2hwYXJ0bmVyLmVtYWlsID09PSB1bmRlZmluZWQgfHwgYW5zcHJlY2hwYXJ0bmVyLmVtYWlsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cblxuICAgIC8vIFdvY2hlbnRhZ2VcbiAgICAkc2NvcGUud29jaGVudGFnZSA9IFsgJ01vbnRhZycsICdEaWVuc3RhZycsICdNaXR0d29jaCcsICdEb25uZXJzdGFnJywgJ0ZyZWl0YWcnLCAnU2Ftc3RhZycsICdTb25udGFnJyBdO1xuXG5cbiAgICAvLyBUZXJtaW5cbiAgICAkc2NvcGUubmV3VGVybWluID0ge307XG4gICAgJHNjb3BlLmFkZFRlcm1pbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoJHNjb3BlLnBpbi50ZXJtaW5lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICRzY29wZS5waW4udGVybWluZSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgICRzY29wZS5waW4udGVybWluZS5wdXNoKCRzY29wZS5uZXdUZXJtaW4pO1xuICAgICAgICAkc2NvcGUubmV3VGVybWluID0ge307XG4gICAgfTtcblxuICAgICRzY29wZS5pc1Rlcm1pblZhbGlkID0gZnVuY3Rpb24odGVybWluKSB7XG4gICAgICAgIGlmICh0ZXJtaW4uYmVnaW5uID09PSB1bmRlZmluZWQgfHwgdGVybWluLmJlZ2lubiA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKHRlcm1pbi5nYW56dGFlZ2lnICE9PSB0cnVlICYmICh0ZXJtaW4uYmVnaW5uX3VocnplaXQgPT09IHVuZGVmaW5lZCB8fCB0ZXJtaW4uYmVnaW5uX3VocnplaXQgPT09IDApKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuXG4gICAgLy8gV2llZGVyaG9sdW5nXG4gICAgJHNjb3BlLndvY2hlX2Rlc19tb25hdHMgPSBbXG4gICAgICAgIHsgaWQ6IDAsIGxhYmVsOiAnSmVkZSBXb2NoZScgfSxcbiAgICAgICAgeyBpZDogMSwgbGFiZWw6ICdKZWRlIDEuIFdvY2hlJyB9LFxuICAgICAgICB7IGlkOiAyLCBsYWJlbDogJ0plZGUgMi4gV29jaGUnIH0sXG4gICAgICAgIHsgaWQ6IDMsIGxhYmVsOiAnSmVkZSAzLiBXb2NoZScgfSxcbiAgICAgICAgeyBpZDogNCwgbGFiZWw6ICdKZWRlIDQuIFdvY2hlJyB9LFxuICAgICAgICB7IGlkOiA1LCBsYWJlbDogJ0plZGUgNS4gV29jaGUnIH1cbiAgICBdO1xuICAgICRzY29wZS5uZXdXaWVkZXJob2x1bmcgPSB7fTtcbiAgICAkc2NvcGUuYWRkV2llZGVyaG9sdW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgkc2NvcGUubmV3VGVybWluLndpZWRlcmhvbHVuZ2VuID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICRzY29wZS5uZXdUZXJtaW4ud2llZGVyaG9sdW5nZW4gPSBbXTtcbiAgICAgICAgfVxuICAgICAgICAkc2NvcGUubmV3VGVybWluLndpZWRlcmhvbHVuZ2VuLnB1c2goJHNjb3BlLm5ld1dpZWRlcmhvbHVuZyk7XG4gICAgICAgICRzY29wZS5uZXdXaWVkZXJob2x1bmcgPSB7fTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmlzV2llZGVyaG9sdW5nVmFsaWQgPSBmdW5jdGlvbih3aWVkZXJob2x1bmcpIHtcbiAgICAgICAgaWYgKHdpZWRlcmhvbHVuZy53b2NoZW50YWcgPT09IHVuZGVmaW5lZCB8fCB3aWVkZXJob2x1bmcud29jaGVudGFnID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxufV0pOyIsImFuZ3VsYXIubW9kdWxlKCdqdWdlbmRzdGFkdHBsYW4ucGlucycpLmNvbmZpZyhmdW5jdGlvbiBjb25maWcoICRzdGF0ZVByb3ZpZGVyICkge1xuICBcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoICdMaXN0ZTogUGluJywge1xuICAgIHVybDogJy9waW5zJyxcbiAgICB2aWV3czoge1xuICAgICAgXCJtYWluXCI6IHtcbiAgICAgICAgY29udHJvbGxlcjogJ1BpbnNDb250cm9sbGVyJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdzcmMvYXBwL3BpbnMvdmlld3MvbGlzdC50cGwuaHRtbCdcbiAgICAgIH1cbiAgICB9LFxuICAgIGRhdGE6eyBwYWdlVGl0bGU6ICdQaW5zJyB9XG4gIH0pO1xuXG59KTtcblxuSnVnZW5kc3RhZHRwbGFuLkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoICdQaW5zQ29udHJvbGxlcicsIFsgJyRzY29wZScsICckbG9jYXRpb24nLCAnUGluJywgZnVuY3Rpb24gUGluc0NvbnRyb2xsZXIoICRzY29wZSwgJGxvY2F0aW9uLCBQaW4gKSB7XG4gICAgJHNjb3BlLnBpbnMgPSBQaW4ucXVlcnkoKTtcblxuICAgICRzY29wZS52aWV3UGluID0gZnVuY3Rpb24gKHBpbikge1xuICAgICAgJGxvY2F0aW9uLnBhdGgoJy9waW4vJytwaW4uaWQpO1xuICAgIH07XG5cbn1dKTsiLCJhbmd1bGFyLm1vZHVsZSgnanVnZW5kc3RhZHRwbGFuLnN0YXJ0c2VpdGUnKS5jb25maWcoZnVuY3Rpb24gY29uZmlnKCAkc3RhdGVQcm92aWRlciApIHtcbiAgXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCAnU3RhcnRzZWl0ZScsIHtcbiAgICB1cmw6ICcvc3RhcnRzZWl0ZScsXG4gICAgdmlld3M6IHtcbiAgICAgIFwibWFpblwiOiB7XG4gICAgICAgIGNvbnRyb2xsZXI6ICdTdGFydHNlaXRlQ29udHJvbGxlcicsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnc3JjL2FwcC9zdGFydHNlaXRlL3ZpZXdzL3N0YXJ0c2VpdGUudHBsLmh0bWwnXG4gICAgICB9XG4gICAgfSxcbiAgICBkYXRhOnsgcGFnZVRpdGxlOiAnU3RhcnRzZWl0ZScgfVxuICB9KTtcblxufSk7XG5cbmFuZ3VsYXIubW9kdWxlKCdqdWdlbmRzdGFkdHBsYW4uc3RhcnRzZWl0ZScpLmNvbnRyb2xsZXIoICdTdGFydHNlaXRlQ29udHJvbGxlcicsIFsgJyRzY29wZScsICckbG9jYXRpb24nLCAnUGluJywgZnVuY3Rpb24gU3RhcnRzZWl0ZUNvbnRyb2xsZXIoICRzY29wZSwgJGxvY2F0aW9uLCBQaW4gKSB7XG4gICAgIGFuZ3VsYXIuZXh0ZW5kKCRzY29wZSwge1xuICAgICAgICBjZW50ZXI6IHtcbiAgICAgICAgICAgIGxhdDogNTAuNzMyODI5MjQ2NzI2LFxuICAgICAgICAgICAgbG5nOiA3LjA5MzcwMDQwOTAxMTcsXG4gICAgICAgICAgICB6b29tOiAxM1xuICAgICAgICB9LFxuICAgICAgICBkZWZhdWx0czoge1xuICAgICAgICAgICAgc2Nyb2xsV2hlZWxab29tOiBmYWxzZVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAkc2NvcGUubWFya2VycyA9IFtdO1xuXG4gICAgUGluLnF1ZXJ5KGZ1bmN0aW9uKHBpbnMpIHtcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKHBpbnMsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgIGlmIChpdGVtLmxvbmdpdHVkZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1hcmtlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgbGF0OiBpdGVtLmxhdGl0dWRlLFxuICAgICAgICAgICAgICAgICAgICBsbmc6IGl0ZW0ubG9uZ2l0dWRlLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogaXRlbS50aXRlbCxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJzxoMz4nICsgaXRlbS50aXRlbCArICc8L2gzPicgKyBpdGVtLmJlc2NocmVpYnVuZyArICc8c21hbGw+PGEgaHJlZj1cIicgKyAnLyMvcGluLycgKyBpdGVtLmlkICsgJ1wiPk1laHI8L2E+PC9zbWFsbD4nXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAkc2NvcGUubWFya2Vycy5wdXNoKG1hcmtlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG59XSk7IiwiYW5ndWxhci5tb2R1bGUoJ2p1Z2VuZHN0YWR0cGxhbi50cmFlZ2VyJykuY29uZmlnKGZ1bmN0aW9uIGNvbmZpZyggJHN0YXRlUHJvdmlkZXIgKSB7XG4gIFxuICAkc3RhdGVQcm92aWRlci5zdGF0ZSggJ0xpc3RlOiBUcmFlZ2VyJywge1xuICAgIHVybDogJy90cmFlZ2VyJyxcbiAgICB2aWV3czoge1xuICAgICAgXCJtYWluXCI6IHtcbiAgICAgICAgY29udHJvbGxlcjogJ1RyYWVnZXJDb250cm9sbGVyJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdzcmMvYXBwL3RyYWVnZXIvdmlld3MvbGlzdGUudHBsLmh0bWwnXG4gICAgICB9XG4gICAgfSxcbiAgICBkYXRhOnsgcGFnZVRpdGxlOiAnVHLDpGdlcicgfVxuICB9KTtcblxufSk7XG5cbkp1Z2VuZHN0YWR0cGxhbi5Db250cm9sbGVycy5jb250cm9sbGVyKCAnVHJhZWdlckNvbnRyb2xsZXInLCBbICckc2NvcGUnLCAnJGxvY2F0aW9uJywgJ1RyYWVnZXInLCBmdW5jdGlvbiBUcmFlZ2VyQ29udHJvbGxlciggJHNjb3BlLCAkbG9jYXRpb24sIFRyYWVnZXIgKSB7XG4gICAgJHNjb3BlLnRyYWVnZXIgPSBUcmFlZ2VyLnF1ZXJ5KCk7XG5cbiAgICAkc2NvcGUudmlld1RyYWVnZXIgPSBmdW5jdGlvbiAodHJhZWdlcikge1xuICAgICAgJGxvY2F0aW9uLnBhdGgoJy90cmFlZ2VyLycrdHJhZWdlci5pZCk7XG4gICAgfTtcblxufV0pOyIsImFuZ3VsYXIubW9kdWxlKCdqdWdlbmRzdGFkdHBsYW4udHJhZWdlcicpLmNvbmZpZyhmdW5jdGlvbiBjb25maWcoICRzdGF0ZVByb3ZpZGVyICkge1xuICBcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoICdEZXRhaWw6IFRyYWVnZXInLCB7XG4gICAgdXJsOiAnL3RyYWVnZXIve2lkOlswLTldK30nLFxuICAgIHZpZXdzOiB7XG4gICAgICBcIm1haW5cIjoge1xuICAgICAgICBjb250cm9sbGVyOiAnVHJhZWdlckRldGFpbENvbnRyb2xsZXInLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ3NyYy9hcHAvdHJhZWdlci92aWV3cy9kZXRhaWwudHBsLmh0bWwnXG4gICAgICB9XG4gICAgfSxcbiAgICByZXNvbHZlOiB7XG4gICAgICB0cmFlZ2VyRGV0YWlsOiBbICckc3RhdGVQYXJhbXMnLCAnVHJhZWdlcicsIGZ1bmN0aW9uKCRzdGF0ZVBhcmFtcywgVHJhZWdlcikge1xuICAgICAgICByZXR1cm4gVHJhZWdlci5nZXQoe30se2lkOiAkc3RhdGVQYXJhbXMuaWR9KTtcbiAgICAgIH1dXG4gICAgfSxcbiAgICBkYXRhOnsgcGFnZVRpdGxlOiAnVHLDpGdlcicgfVxuICB9KTtcblxufSk7XG5cbkp1Z2VuZHN0YWR0cGxhbi5Db250cm9sbGVycy5jb250cm9sbGVyKCAnVHJhZWdlckRldGFpbENvbnRyb2xsZXInLCBbICckc2NvcGUnLCAndHJhZWdlckRldGFpbCcsIGZ1bmN0aW9uIFRyYWVnZXJEZXRhaWxDb250cm9sbGVyKCAkc2NvcGUsIHRyYWVnZXJEZXRhaWwgKSB7XG4gICAgJHNjb3BlLnRyYWVnZXIgPSB0cmFlZ2VyRGV0YWlsO1xuXG4gICAgYW5ndWxhci5leHRlbmQoJHNjb3BlLCB7XG4gICAgICAgIGNlbnRlcjoge1xuICAgICAgICAgICAgbGF0OiA1MC43MzI4MjkyNDY3MjYsXG4gICAgICAgICAgICBsbmc6IDcuMDkzNzAwNDA5MDExNyxcbiAgICAgICAgICAgIHpvb206IDEzXG4gICAgICAgIH0sXG4gICAgICAgIGRlZmF1bHRzOiB7XG4gICAgICAgICAgICBzY3JvbGxXaGVlbFpvb206IGZhbHNlXG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgICRzY29wZS5tYXJrZXJzID0gW107XG5cbiAgICB0cmFlZ2VyRGV0YWlsLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh0cmFlZ2VyRGV0YWlsLnBpbnMsIGZ1bmN0aW9uKGl0ZW0sIGtleSkge1xuICAgICAgICAgICAgdmFyIG1hcmtlciA9IHtcbiAgICAgICAgICAgICAgICBsYXQ6IGl0ZW0ubGF0aXR1ZGUsXG4gICAgICAgICAgICAgICAgbG5nOiBpdGVtLmxvbmdpdHVkZSxcbiAgICAgICAgICAgICAgICB0aXRsZTogaXRlbS50aXRlbCxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnPGgzPicgKyBpdGVtLnRpdGVsICsgJzwvaDM+JyArIGl0ZW0uYmVzY2hyZWlidW5nICsgJzxzbWFsbD48YSBocmVmPVwiJyArICcvIy9waW4vJytpdGVtLmlkICsgJ1wiPk1laHI8L2E+PC9zbWFsbD4nXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgJHNjb3BlLm1hcmtlcnMucHVzaChtYXJrZXIpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1dKTsiLCJhbmd1bGFyLm1vZHVsZSgnanVnZW5kc3RhZHRwbGFuLnRyYWVnZXInKS5jb25maWcoZnVuY3Rpb24gY29uZmlnKCAkc3RhdGVQcm92aWRlciApIHtcblxuICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCAnRm9ybTogVHJhZWdlcicsIHtcbiAgICAgICAgdXJsOiAnL3RyYWVnZXIvY3JlYXRlJyxcbiAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgIFwibWFpblwiOiB7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ1RyYWVnZXJGb3JtQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdzcmMvYXBwL3RyYWVnZXIvdmlld3MvZm9ybS50cGwuaHRtbCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZGF0YTp7IHBhZ2VUaXRsZTogJ1Ryw6RnZXIgZXJzdGVsbGVuJyB9XG4gICAgfSk7XG5cbn0pO1xuXG5KdWdlbmRzdGFkdHBsYW4uQ29udHJvbGxlcnMuY29udHJvbGxlciggJ1RyYWVnZXJGb3JtQ29udHJvbGxlcicsIFsgJyRzY29wZScsICckbG9jYXRpb24nLCAnVHJhZWdlcicsICdLYXRlZ29yaWUnLCAnJHVwbG9hZCcsIGZ1bmN0aW9uIFRyYWVnZXJGb3JtQ29udHJvbGxlciggJHNjb3BlLCAkbG9jYXRpb24sIFRyYWVnZXIsIEthdGVnb3JpZSwgJHVwbG9hZCApIHtcbiAgICAkc2NvcGUua2F0ZWdvcmllbiA9IEthdGVnb3JpZS5xdWVyeSgpO1xuICAgICRzY29wZS50cmFlZ2VyID0gbmV3IFRyYWVnZXIoKTtcbiAgICAkc2NvcGUudHJhZWdlcnMgPSBUcmFlZ2VyLnF1ZXJ5KCk7XG5cbiAgICAkc2NvcGUubmV3VHJhZWdlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAkc2NvcGUudHJhZWdlciA9IG5ldyBUcmFlZ2VyKCk7XG4gICAgICAgICRzY29wZS5lZGl0aW5nID0gZmFsc2U7XG4gICAgfTtcblxuICAgICRzY29wZS5zYXZlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgkc2NvcGUudHJhZWdlci5pZCkge1xuICAgICAgICAgICAgVHJhZWdlci51cGRhdGUoJHNjb3BlLnRyYWVnZXIpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLm5ld1RyYWVnZXIoKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGFsZXJ0KCdFaW4gVHLDpGdlciBtaXQgZGllc2VyIEVtYWlsLUFkcmVzc2UgZXhpc3RpZXJ0IGJlcmVpdHMhJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICRzY29wZS50cmFlZ2VyLiRzYXZlKCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICRzY29wZS50cmFlZ2Vycy5wdXNoKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV3VHJhZWdlcigpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgYWxlcnQoJ0VpbiBUcsOkZ2VyIG1pdCBkaWVzZXIgRW1haWwtQWRyZXNzZSBleGlzdGllcnQgYmVyZWl0cyEnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgICRzY29wZS5zZXRBY3RpdmVUcmFlZ2VyID0gZnVuY3Rpb24odHJhZWdlcikge1xuICAgICAgICAkc2NvcGUudHJhZWdlciA9IHRyYWVnZXI7XG4gICAgICAgICRzY29wZS5lZGl0aW5nID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLnJlbW92ZSA9IGZ1bmN0aW9uKHRyYWVnZXIpIHtcbiAgICAgICAgVHJhZWdlci5kZWxldGUodHJhZWdlciwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSAkc2NvcGUudHJhZWdlcnMuaW5kZXhPZih0cmFlZ2VyKTtcbiAgICAgICAgICAgIGlmIChpbmRleCAhPSAtMSkge1xuICAgICAgICAgICAgICAgICRzY29wZS50cmFlZ2Vycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLy8gQmlsZGVyXG4gICAgJHNjb3BlLm9uRmlsZVNlbGVjdCA9IGZ1bmN0aW9uKCRmaWxlcykge1xuICAgICAgICB2YXIgZG9VcGxvYWQgPSBmdW5jdGlvbihmaWxlKSB7XG4gICAgICAgICAgICAkdXBsb2FkLnVwbG9hZCh7XG4gICAgICAgICAgICAgICAgdXJsOiAnYXBwX2Rldi5waHAvaW1nL3VwbG9hZCcsIC8vdXBsb2FkLnBocCBzY3JpcHQsIG5vZGUuanMgcm91dGUsIG9yIHNlcnZsZXQgdXJsXG4gICAgICAgICAgICAgICAgLy8gbWV0aG9kOiAnUE9TVCcgb3IgJ1BVVCcsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgLy8gaGVhZGVyczogeydoZWFkZXIta2V5JzogJ2hlYWRlci12YWx1ZSd9LFxuICAgICAgICAgICAgICAgIC8vIHdpdGhDcmVkZW50aWFsczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBkYXRhOiB7bXlPYmo6ICRzY29wZS5teU1vZGVsT2JqfSxcbiAgICAgICAgICAgICAgICBmaWxlOiBmaWxlIC8vIG9yIGxpc3Qgb2YgZmlsZXM6ICRmaWxlcyBmb3IgaHRtbDUgb25seVxuICAgICAgICAgICAgICAgIC8vIGZpbGVOYW1lOiAnZG9jLmpwZycgb3IgWycxLmpwZycsICcyLmpwZycsIC4uLl0gLy8gdG8gbW9kaWZ5IHRoZSBuYW1lIG9mIHRoZSBmaWxlXG4gICAgICAgICAgICAgICAgLyogY3VzdG9taXplIGZpbGUgZm9ybURhdGEgbmFtZSAoJ0NvbnRlbnQtRGVzcG9zaXRpb24nKSwgc2VydmVyIHNpZGUgZmlsZSB2YXJpYWJsZSBuYW1lLlxuICAgICAgICAgICAgICAgICBEZWZhdWx0IGlzICdmaWxlJyAqL1xuICAgICAgICAgICAgICAgIC8vZmlsZUZvcm1EYXRhTmFtZTogbXlGaWxlLCAvL29yIGEgbGlzdCBvZiBuYW1lcyBmb3IgbXVsdGlwbGUgZmlsZXMgKGh0bWw1KS5cbiAgICAgICAgICAgICAgICAvKiBjdXN0b21pemUgaG93IGRhdGEgaXMgYWRkZWQgdG8gZm9ybURhdGEuIFNlZSAjNDAjaXNzdWVjb21tZW50LTI4NjEyMDAwIGZvciBzYW1wbGUgY29kZSAqL1xuICAgICAgICAgICAgICAgIC8vZm9ybURhdGFBcHBlbmRlcjogZnVuY3Rpb24oZm9ybURhdGEsIGtleSwgdmFsKXt9XG4gICAgICAgICAgICB9KS5wcm9ncmVzcyhmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3BlcmNlbnQ6ICcgKyBwYXJzZUludCgxMDAuMCAqIGV2dC5sb2FkZWQgLyBldnQudG90YWwpKTtcbiAgICAgICAgICAgIH0pLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgLy8gZmlsZSBpcyB1cGxvYWRlZCBzdWNjZXNzZnVsbHlcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnRyYWVnZXIuYmlsZGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRyYWVnZXIuYmlsZGVyID0gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbGUudG1wX25hbWUgPSBkYXRhLmZvbGRlcjtcbiAgICAgICAgICAgICAgICAkc2NvcGUudHJhZWdlci5iaWxkZXIucHVzaChmaWxlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8uZXJyb3IoLi4uKVxuICAgICAgICAgICAgLy8udGhlbihzdWNjZXNzLCBlcnJvciwgcHJvZ3Jlc3MpO1xuICAgICAgICAgICAgLy8ueGhyKGZ1bmN0aW9uKHhocil7eGhyLnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKC4uLil9KS8vIGFjY2VzcyBhbmQgYXR0YWNoIGFueSBldmVudCBsaXN0ZW5lciB0byBYTUxIdHRwUmVxdWVzdC5cbiAgICAgICAgfTtcblxuICAgICAgICAvLyRmaWxlczogYW4gYXJyYXkgb2YgZmlsZXMgc2VsZWN0ZWQsIGVhY2ggZmlsZSBoYXMgbmFtZSwgc2l6ZSwgYW5kIHR5cGUuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJGZpbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZmlsZSA9ICRmaWxlc1tpXTtcbiAgICAgICAgICAgICRzY29wZS51cGxvYWQgPSBkb1VwbG9hZChmaWxlKTtcbiAgICAgICAgfVxuICAgIH07XG5cblxuICAgIC8vIEFuc3ByZWNocGFydG5lclxuICAgICRzY29wZS5uZXdBbnNwcmVjaHBhcnRuZXIgPSB7fTtcbiAgICAkc2NvcGUuYWRkQW5zcHJlY2hwYXJ0bmVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgkc2NvcGUudHJhZWdlci5hbnNwcmVjaHBhcnRuZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgJHNjb3BlLnRyYWVnZXIuYW5zcHJlY2hwYXJ0bmVyID0gW107XG4gICAgICAgIH1cbiAgICAgICAgJHNjb3BlLnRyYWVnZXIuYW5zcHJlY2hwYXJ0bmVyLnB1c2goJHNjb3BlLm5ld0Fuc3ByZWNocGFydG5lcik7XG4gICAgICAgICRzY29wZS5uZXdBbnNwcmVjaHBhcnRuZXIgPSB7fTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmlzQW5zcHJlY2hwYXJ0bmVyVmFsaWQgPSBmdW5jdGlvbihhbnNwcmVjaHBhcnRuZXIpIHtcbiAgICAgICAgaWYgKGFuc3ByZWNocGFydG5lci5uYW1lID09PSB1bmRlZmluZWQgfHwgYW5zcHJlY2hwYXJ0bmVyLm5hbWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAoYW5zcHJlY2hwYXJ0bmVyLmVtYWlsID09PSB1bmRlZmluZWQgfHwgYW5zcHJlY2hwYXJ0bmVyLmVtYWlsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cblxuICAgIC8vIEFkcmVzc2VuXG4gICAgJHNjb3BlLm5ld0FkcmVzc2UgPSB7fTtcbiAgICAkc2NvcGUuYWRkQWRyZXNzZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoJHNjb3BlLnRyYWVnZXIuYWRyZXNzZW4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgJHNjb3BlLnRyYWVnZXIuYWRyZXNzZW4gPSBbXTtcbiAgICAgICAgfVxuICAgICAgICAkc2NvcGUudHJhZWdlci5hZHJlc3Nlbi5wdXNoKCRzY29wZS5uZXdBZHJlc3NlKTtcbiAgICAgICAgJHNjb3BlLm5ld0FkcmVzc2UgPSB7fTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmlzQWRyZXNzZVZhbGlkID0gZnVuY3Rpb24oYWRyZXNzZSkge1xuICAgICAgICBpZiAoYWRyZXNzZS5zdHJhc3NlID09PSB1bmRlZmluZWQgfHwgYWRyZXNzZS5zdHJhc3NlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKGFkcmVzc2Uub3J0ID09PSB1bmRlZmluZWQgfHwgYWRyZXNzZS5vcnQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxufV0pOyIsImFuZ3VsYXIubW9kdWxlKCAncGx1c09uZScsIFtdIClcblxuLmRpcmVjdGl2ZSggJ3BsdXNPbmUnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICBsaW5rOiBmdW5jdGlvbiggc2NvcGUsIGVsZW1lbnQsIGF0dHJzICkge1xuICAgICAgZ2FwaS5wbHVzb25lLnJlbmRlciggZWxlbWVudFswXSwge1xuICAgICAgICBcInNpemVcIjogXCJtZWRpdW1cIixcbiAgICAgICAgXCJocmVmXCI6IFwiaHR0cDovL2JpdC5seS9uZ0JvaWxlcnBsYXRlXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn0pXG5cbjtcblxuIiwidmFyIGp1Z2VuZHN0YWR0cGxhbkFwaSA9IGFuZ3VsYXIubW9kdWxlKCdqdWdlbmRzdGFkdHBsYW4uYXBpJywgWyduZ1Jlc291cmNlJ10pO1xuXG52YXIgYmFja2VuZFByZWZpeCA9ICcvYXBwX2Rldi5waHAnO1xuXG5qdWdlbmRzdGFkdHBsYW5BcGkucHJvdmlkZXIoJ1BpbicsIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuJGdldCA9IFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xuICAgICAgICB2YXIgYmFja2VuZFVybCA9IGJhY2tlbmRQcmVmaXggKyAnL3BpbnMnO1xuICAgICAgICByZXR1cm4gJHJlc291cmNlKGJhY2tlbmRVcmwsIHt9LCB7XG4gICAgICAgICAgICBnZXQ6IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgICAgIHVybDogYmFja2VuZFVybCArICcvOmlkJyxcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHsgaWQ6J0BpZCd9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdXBkYXRlOiB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgICAgICB1cmw6IGJhY2tlbmRVcmwgKyAnL3VwZGF0ZS86aWQnLFxuICAgICAgICAgICAgICAgIHBhcmFtczogeyBpZDonQGlkJ31cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzYXZlOiB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgdXJsOiBiYWNrZW5kVXJsICsgJy9jcmVhdGUnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVsZXRlOiB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgICAgICAgICB1cmw6IGJhY2tlbmRVcmwgKyAnL2RlbGV0ZS86aWQnLFxuICAgICAgICAgICAgICAgIHBhcmFtczogeyBpZDonQGlkJ31cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfV07XG59KTtcblxuanVnZW5kc3RhZHRwbGFuQXBpLnByb3ZpZGVyKCdUcmFlZ2VyJywgZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kZ2V0ID0gWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XG4gICAgICAgIHZhciBiYWNrZW5kVXJsID0gYmFja2VuZFByZWZpeCArICcvdHJhZWdlcic7XG4gICAgICAgIHJldHVybiAkcmVzb3VyY2UoYmFja2VuZFVybCwge30sIHtcbiAgICAgICAgICAgIGdldDoge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICAgICAgdXJsOiBiYWNrZW5kVXJsICsgJy86aWQnLFxuICAgICAgICAgICAgICAgIHBhcmFtczogeyBpZDonQGlkJ31cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1cGRhdGU6IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgICAgIHVybDogYmFja2VuZFVybCArICcvdXBkYXRlLzppZCcsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7IGlkOidAaWQnfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNhdmU6IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICB1cmw6IGJhY2tlbmRVcmwgKyAnL2NyZWF0ZSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWxldGU6IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICAgICAgICAgIHVybDogYmFja2VuZFVybCArICcvZGVsZXRlLzppZCcsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7IGlkOidAaWQnfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XTtcbn0pO1xuXG5qdWdlbmRzdGFkdHBsYW5BcGkucHJvdmlkZXIoJ0thdGVnb3JpZScsIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuJGdldCA9IFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xuICAgICAgICB2YXIgYmFja2VuZFVybCA9IGJhY2tlbmRQcmVmaXggKyAnL2thdGVnb3JpZSc7XG4gICAgICAgIHJldHVybiAkcmVzb3VyY2UoYmFja2VuZFVybCk7XG4gICAgfV07XG59KTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=