angular.module("jugendstadtplan.pins",["ui.router"]),angular.module("jugendstadtplan.startseite",["ui.router","leaflet-directive"]),angular.module("jugendstadtplan.traeger",["ui.router"]);var Jugendstadtplan=Jugendstadtplan||{};Jugendstadtplan.Controllers=angular.module("jugendstadtplan.controllers",[]),angular.module("jugendstadtplan",["ngResource","ngSanitize","ui.router","leaflet-directive","textAngular","angularFileUpload","jugendstadtplan.api","jugendstadtplan.startseite","jugendstadtplan.pins","jugendstadtplan.traeger","jugendstadtplan.controllers"]).config(function(e,n){n.otherwise("/startseite")}).run(function(){}).controller("AppCtrl",["$scope","$location",function(e,n){e.$on("$stateChangeSuccess",function(n,t,r,a,i){angular.isDefined(t.data.pageTitle)&&(e.pageTitle=t.data.pageTitle+" | Jugendstadtplan")})}]),angular.module("jugendstadtplan.pins").config(function(e){e.state("Detail: Pin",{url:"/pin/{id:[0-9]+}",views:{main:{controller:"PinDetailController",templateUrl:"src/app/pins/views/detail.tpl.html"}},resolve:{pinDetail:["$stateParams","Pin",function(e,n){return n.get({},{id:e.id})}]},data:{pageTitle:"Pin"}})}),Jugendstadtplan.Controllers.controller("PinDetailController",["$scope","pinDetail",function(e,n){e.markers=[],e.center={lat:50.732829246726,lng:7.0937004090117,zoom:13},n.$promise.then(function(){e.pin=n,angular.extend(e,{defaults:{scrollWheelZoom:!1}}),e.center={lat:n.latitude,lng:n.longitude,zoom:15};var t={lat:n.latitude,lng:n.longitude,title:n.titel,focus:!0,message:"<h3>"+n.titel+"</h3>"+n.beschreibung};e.markers.push(t)},function(){angular.extend(e,{defaults:{scrollWheelZoom:!1}})})}]),angular.module("jugendstadtplan.pins").config(function(e){e.state("Form: Pin",{url:"/pin/create",views:{main:{controller:"PinFormController",templateUrl:"src/app/pins/views/form.tpl.html"}},data:{pageTitle:"Pin erstellen"}})}),Jugendstadtplan.Controllers.controller("PinFormController",["$scope","$location","Pin","Traeger","Kategorie",function(e,n,t,r,a){e.kategorien=a.query(),e.pin=new t,e.pins=t.query(),e.traegers=r.query(),angular.extend(e,{center:{lat:50.732829246726,lng:7.0937004090117,zoom:13},defaults:{scrollWheelZoom:!1},events:{}}),e.pin.markers=[],e.$on("leafletDirectiveMap.click",function(n,t){var r=t.leafletEvent;e.pin.markers[0]={lat:r.latlng.lat,lng:r.latlng.lng,draggable:!0,focus:!0}}),e.newPin=function(){e.pin=new t,e.pin.markers=[],e.editing=!1},e.save=function(){e.pin.id?t.update(e.pin):e.pin.$save().then(function(n){e.pins.push(n)}),e.newPin()},e.setActivePin=function(n){e.pin=n,e.pin.markers=[],null!=n.longitude&&(e.pin.markers[0]={lat:n.latitude,lng:n.longitude,draggable:!0,focus:!0}),e.editing=!0},e.remove=function(n){t["delete"](n,function(){var t=e.pins.indexOf(n);-1!=t&&e.pins.splice(t,1)})},e.barrierefreiheitsgrade=["Gut","Teilweise","Nicht barrierefrei"],e.kostenarten=["Kostenlos","Kostenpflichtig"],e.mindestalters=["ab 12","ab 16","ab 18","ab 21"],e.newAnsprechpartner={},e.addAnsprechpartner=function(){void 0===e.pin.ansprechpartner&&(e.pin.ansprechpartner=[]),e.pin.ansprechpartner.push(e.newAnsprechpartner),e.newAnsprechpartner={}},e.isAnsprechpartnerValid=function(e){return void 0===e.name||0===e.name.length?!1:void 0===e.email||0===e.email.length?!1:!0},e.wochentage=["Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"],e.newTermin={},e.addTermin=function(){void 0===e.pin.termine&&(e.pin.termine=[]),e.pin.termine.push(e.newTermin),e.newTermin={}},e.isTerminValid=function(e){return void 0===e.beginn||0===e.beginn?!1:e.ganztaegig===!0||void 0!==e.beginn_uhrzeit&&0!==e.beginn_uhrzeit?!0:!1},e.woche_des_monats=[{id:0,label:"Jede Woche"},{id:1,label:"Jede 1. Woche"},{id:2,label:"Jede 2. Woche"},{id:3,label:"Jede 3. Woche"},{id:4,label:"Jede 4. Woche"},{id:5,label:"Jede 5. Woche"}],e.newWiederholung={},e.addWiederholung=function(){void 0===e.newTermin.wiederholungen&&(e.newTermin.wiederholungen=[]),e.newTermin.wiederholungen.push(e.newWiederholung),e.newWiederholung={}},e.isWiederholungValid=function(e){return void 0===e.wochentag||0===e.wochentag?!1:!0},e.newLink={},e.addLink=function(){void 0===e.pin.links&&(e.pin.links=[]),e.pin.links.push(e.newLink),e.newLink={}},e.isLinkValid=function(e){return void 0===e.titel||0===e.titel.length?!1:void 0===e.url||0===e.url.length?!1:!0}}]),angular.module("jugendstadtplan.pins").config(function(e){e.state("Liste: Pin",{url:"/pins",views:{main:{controller:"PinsController",templateUrl:"src/app/pins/views/list.tpl.html"}},data:{pageTitle:"Pins"}})}),Jugendstadtplan.Controllers.controller("PinsController",["$scope","$location","Pin",function(e,n,t){e.pins=t.query(),e.viewPin=function(e){n.path("/pin/"+e.id)}}]),angular.module("jugendstadtplan.startseite").config(function(e){e.state("Startseite",{url:"/startseite",views:{main:{controller:"StartseiteController",templateUrl:"src/app/startseite/views/startseite.tpl.html"}},data:{pageTitle:"Startseite"}})}),angular.module("jugendstadtplan.startseite").controller("StartseiteController",["$scope","$location","Pin",function(e,n,t){angular.extend(e,{center:{lat:50.732829246726,lng:7.0937004090117,zoom:13},defaults:{scrollWheelZoom:!1}}),e.markers=[],t.query(function(n){angular.forEach(n,function(n){if(null!=n.longitude){var t={lat:n.latitude,lng:n.longitude,title:n.titel,message:"<h3>"+n.titel+"</h3>"+n.beschreibung+'<small><a href="/#/pin/'+n.id+'">Mehr</a></small>'};e.markers.push(t)}})})}]),angular.module("jugendstadtplan.traeger").config(function(e){e.state("Liste: Traeger",{url:"/traeger",views:{main:{controller:"TraegerController",templateUrl:"src/app/traeger/views/liste.tpl.html"}},data:{pageTitle:"Träger"}})}),Jugendstadtplan.Controllers.controller("TraegerController",["$scope","$location","Traeger",function(e,n,t){e.traeger=t.query(),e.viewTraeger=function(e){n.path("/traeger/"+e.id)}}]),angular.module("jugendstadtplan.traeger").config(function(e){e.state("Detail: Traeger",{url:"/traeger/{id:[0-9]+}",views:{main:{controller:"TraegerDetailController",templateUrl:"src/app/traeger/views/detail.tpl.html"}},resolve:{traegerDetail:["$stateParams","Traeger",function(e,n){return n.get({},{id:e.id})}]},data:{pageTitle:"Träger"}})}),Jugendstadtplan.Controllers.controller("TraegerDetailController",["$scope","traegerDetail",function(e,n){e.traeger=n,angular.extend(e,{center:{lat:50.732829246726,lng:7.0937004090117,zoom:13},defaults:{scrollWheelZoom:!1}}),e.markers=[],n.$promise.then(function(){angular.forEach(n.pins,function(n,t){var r={lat:n.latitude,lng:n.longitude,title:n.titel,message:"<h3>"+n.titel+"</h3>"+n.beschreibung+'<small><a href="/#/pin/'+n.id+'">Mehr</a></small>'};e.markers.push(r)})})}]),angular.module("jugendstadtplan.traeger").config(function(e){e.state("Form: Traeger",{url:"/traeger/create",views:{main:{controller:"TraegerFormController",templateUrl:"src/app/traeger/views/form.tpl.html"}},data:{pageTitle:"Träger erstellen"}})}),Jugendstadtplan.Controllers.controller("TraegerFormController",["$scope","$location","Traeger","Kategorie","$upload",function(e,n,t,r,a){e.kategorien=r.query(),e.traeger=new t,e.traegers=t.query(),e.newTraeger=function(){e.traeger=new t,e.editing=!1},e.save=function(){e.traeger.id?t.update(e.traeger).then(function(){e.newTraeger()},function(){alert("Ein Träger mit dieser Email-Adresse existiert bereits!")}):e.traeger.$save().then(function(n){e.traegers.push(n),e.newTraeger()},function(){alert("Ein Träger mit dieser Email-Adresse existiert bereits!")})},e.setActiveTraeger=function(n){e.traeger=n,e.editing=!0},e.remove=function(n){t["delete"](n,function(){var t=e.traegers.indexOf(n);-1!=t&&e.traegers.splice(t,1)})},e.onFileSelect=function(n){for(var t=function(n){a.upload({url:"backend/img/upload",method:"POST",data:{myObj:e.myModelObj},file:n}).progress(function(e){console.log("percent: "+parseInt(100*e.loaded/e.total))}).success(function(t,r,a,i){void 0===e.traeger.bilder&&(e.traeger.bilder=[]),n.tmp_name=t.folder,e.traeger.bilder.push(n)})},r=0;r<n.length;r++){var i=n[r];e.upload=t(i)}},e.newAnsprechpartner={},e.addAnsprechpartner=function(){void 0===e.traeger.ansprechpartner&&(e.traeger.ansprechpartner=[]),e.traeger.ansprechpartner.push(e.newAnsprechpartner),e.newAnsprechpartner={}},e.isAnsprechpartnerValid=function(e){return void 0===e.name||0===e.name.length?!1:void 0===e.email||0===e.email.length?!1:!0},e.newLink={},e.addLink=function(){void 0===e.traeger.links&&(e.traeger.links=[]),e.traeger.links.push(e.newLink),e.newLink={}},e.isLinkValid=function(e){return void 0===e.titel||0===e.titel.length?!1:void 0===e.url||0===e.url.length?!1:!0},e.newAdresse={},e.addAdresse=function(){void 0===e.traeger.adressen&&(e.traeger.adressen=[]),e.traeger.adressen.push(e.newAdresse),e.newAdresse={}},e.isAdresseValid=function(e){return void 0===e.strasse||0===e.strasse.length?!1:void 0===e.ort||0===e.ort.length?!1:!0}}]),angular.module("plusOne",[]).directive("plusOne",function(){return{link:function(e,n,t){gapi.plusone.render(n[0],{size:"medium",href:"http://bit.ly/ngBoilerplate"})}}});var jugendstadtplanApi=angular.module("jugendstadtplan.api",["ngResource"]);jugendstadtplanApi.provider("Pin",function(){this.$get=["$resource",function(e){var n="/backend/pins";return e(n,{},{get:{method:"GET",url:n+"/:id",params:{id:"@id"}},update:{method:"PUT",url:n+"/update/:id",params:{id:"@id"}},save:{method:"POST",url:n+"/create"},"delete":{method:"DELETE",url:n+"/delete/:id",params:{id:"@id"}}})}]}),jugendstadtplanApi.provider("Traeger",function(){this.$get=["$resource",function(e){var n="/backend/traeger";return e(n,{},{get:{method:"GET",url:n+"/:id",params:{id:"@id"}},update:{method:"PUT",url:n+"/update/:id",params:{id:"@id"}},save:{method:"POST",url:n+"/create"},"delete":{method:"DELETE",url:n+"/delete/:id",params:{id:"@id"}}})}]}),jugendstadtplanApi.provider("Kategorie",function(){this.$get=["$resource",function(e){var n="/backend/kategorie";return e(n)}]});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9waW5zL1BpbnNNb2R1bGUuanMiLCJhcHAvc3RhcnRzZWl0ZS9TdGFydHNlaXRlTW9kdWxlLmpzIiwiYXBwL3RyYWVnZXIvVHJhZWdlck1vZHVsZS5qcyIsImFwcC9hcHAuanMiLCJhcHAvcGlucy9QaW5EZXRhaWxDb250cm9sbGVyLmpzIiwiYXBwL3BpbnMvUGluRm9ybUNvbnRyb2xsZXIuanMiLCJhcHAvcGlucy9QaW5zQ29udHJvbGxlci5qcyIsImFwcC9zdGFydHNlaXRlL1N0YXJ0c2VpdGVDb250cm9sbGVyLmpzIiwiYXBwL3RyYWVnZXIvVHJhZWdlckNvbnRyb2xsZXIuanMiLCJhcHAvdHJhZWdlci9UcmFlZ2VyRGV0YWlsQ29udHJvbGxlci5qcyIsImFwcC90cmFlZ2VyL1RyYWVnZXJGb3JtQ29udHJvbGxlci5qcyIsImNvbW1vbi9wbHVzT25lL3BsdXNPbmUuanMiLCJjb21tb24vcmVzb3VyY2VzL0p1Z2VuZHN0YWR0cGxhbkFwaS5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiSnVnZW5kc3RhZHRwbGFuIiwiQ29udHJvbGxlcnMiLCJjb25maWciLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIm90aGVyd2lzZSIsInJ1biIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCIkbG9jYXRpb24iLCIkb24iLCJldmVudCIsInRvU3RhdGUiLCJ0b1BhcmFtcyIsImZyb21TdGF0ZSIsImZyb21QYXJhbXMiLCJpc0RlZmluZWQiLCJkYXRhIiwicGFnZVRpdGxlIiwic3RhdGUiLCJ1cmwiLCJ2aWV3cyIsIm1haW4iLCJ0ZW1wbGF0ZVVybCIsInJlc29sdmUiLCJwaW5EZXRhaWwiLCIkc3RhdGVQYXJhbXMiLCJQaW4iLCJnZXQiLCJpZCIsIm1hcmtlcnMiLCJjZW50ZXIiLCJsYXQiLCJsbmciLCJ6b29tIiwiJHByb21pc2UiLCJ0aGVuIiwicGluIiwiZXh0ZW5kIiwiZGVmYXVsdHMiLCJzY3JvbGxXaGVlbFpvb20iLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsIm1hcmtlciIsInRpdGxlIiwidGl0ZWwiLCJmb2N1cyIsIm1lc3NhZ2UiLCJiZXNjaHJlaWJ1bmciLCJwdXNoIiwiVHJhZWdlciIsIkthdGVnb3JpZSIsImthdGVnb3JpZW4iLCJxdWVyeSIsInBpbnMiLCJ0cmFlZ2VycyIsImV2ZW50cyIsImFyZ3MiLCJsZWFmRXZlbnQiLCJsZWFmbGV0RXZlbnQiLCJsYXRsbmciLCJkcmFnZ2FibGUiLCJuZXdQaW4iLCJlZGl0aW5nIiwic2F2ZSIsInVwZGF0ZSIsIiRzYXZlIiwicmVzcG9uc2UiLCJzZXRBY3RpdmVQaW4iLCJyZW1vdmUiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJiYXJyaWVyZWZyZWloZWl0c2dyYWRlIiwia29zdGVuYXJ0ZW4iLCJtaW5kZXN0YWx0ZXJzIiwibmV3QW5zcHJlY2hwYXJ0bmVyIiwiYWRkQW5zcHJlY2hwYXJ0bmVyIiwidW5kZWZpbmVkIiwiYW5zcHJlY2hwYXJ0bmVyIiwiaXNBbnNwcmVjaHBhcnRuZXJWYWxpZCIsIm5hbWUiLCJsZW5ndGgiLCJlbWFpbCIsIndvY2hlbnRhZ2UiLCJuZXdUZXJtaW4iLCJhZGRUZXJtaW4iLCJ0ZXJtaW5lIiwiaXNUZXJtaW5WYWxpZCIsInRlcm1pbiIsImJlZ2lubiIsImdhbnp0YWVnaWciLCJiZWdpbm5fdWhyemVpdCIsIndvY2hlX2Rlc19tb25hdHMiLCJsYWJlbCIsIm5ld1dpZWRlcmhvbHVuZyIsImFkZFdpZWRlcmhvbHVuZyIsIndpZWRlcmhvbHVuZ2VuIiwiaXNXaWVkZXJob2x1bmdWYWxpZCIsIndpZWRlcmhvbHVuZyIsIndvY2hlbnRhZyIsIm5ld0xpbmsiLCJhZGRMaW5rIiwibGlua3MiLCJpc0xpbmtWYWxpZCIsImxpbmsiLCJ2aWV3UGluIiwicGF0aCIsImZvckVhY2giLCJpdGVtIiwidHJhZWdlciIsInZpZXdUcmFlZ2VyIiwidHJhZWdlckRldGFpbCIsImtleSIsIiR1cGxvYWQiLCJuZXdUcmFlZ2VyIiwiYWxlcnQiLCJzZXRBY3RpdmVUcmFlZ2VyIiwib25GaWxlU2VsZWN0IiwiJGZpbGVzIiwiZG9VcGxvYWQiLCJmaWxlIiwidXBsb2FkIiwibWV0aG9kIiwibXlPYmoiLCJteU1vZGVsT2JqIiwicHJvZ3Jlc3MiLCJldnQiLCJjb25zb2xlIiwibG9nIiwicGFyc2VJbnQiLCJsb2FkZWQiLCJ0b3RhbCIsInN1Y2Nlc3MiLCJzdGF0dXMiLCJoZWFkZXJzIiwiYmlsZGVyIiwidG1wX25hbWUiLCJmb2xkZXIiLCJpIiwibmV3QWRyZXNzZSIsImFkZEFkcmVzc2UiLCJhZHJlc3NlbiIsImlzQWRyZXNzZVZhbGlkIiwiYWRyZXNzZSIsInN0cmFzc2UiLCJvcnQiLCJkaXJlY3RpdmUiLCJzY29wZSIsImVsZW1lbnQiLCJhdHRycyIsImdhcGkiLCJwbHVzb25lIiwicmVuZGVyIiwic2l6ZSIsImhyZWYiLCJqdWdlbmRzdGFkdHBsYW5BcGkiLCJwcm92aWRlciIsInRoaXMiLCIkZ2V0IiwiJHJlc291cmNlIiwiYmFja2VuZFVybCIsInBhcmFtcyIsImRlbGV0ZSJdLCJtYXBwaW5ncyI6IkFBQUFBLFFBQUFDLE9BQUEsd0JBQ0EsY0NEQUQsUUFBQUMsT0FBQSw4QkFDQSxZQUNBLHNCQ0ZBRCxRQUFBQyxPQUFBLDJCQUNBLGFDREEsSUFBQUMsaUJBQUFBLG1CQUNBQSxpQkFBQUMsWUFBQUgsUUFBQUMsT0FBQSxrQ0FFQUQsUUFBQUMsT0FBQSxtQkFDQSxhQUNBLGFBQ0EsWUFDQSxvQkFDQSxjQUNBLG9CQUNBLHNCQUNBLDZCQUNBLHVCQUNBLDBCQUNBLGdDQUdBRyxPQUFBLFNBQUFDLEVBQUFDLEdBQ0FBLEVBQUFDLFVBQUEsaUJBR0FDLElBQUEsY0FHQUMsV0FBQSxXQUFBLFNBQUEsWUFBQSxTQUFBQyxFQUFBQyxHQUNBRCxFQUFBRSxJQUFBLHNCQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBQ0FqQixRQUFBa0IsVUFBQUosRUFBQUssS0FBQUMsYUFDQVYsRUFBQVUsVUFBQU4sRUFBQUssS0FBQUMsVUFBQSwyQkMzQkFwQixR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QSxPQUNBdkcsSUFBQTZJLEVBQUEsV0FFQUUsVUFDQXhDLE9BQUEsU0FDQXZHLElBQUE2SSxFQUFBLGNBQ0FDLFFBQUFySSxHQUFBLGNBTUErSCxtQkFBQUMsU0FBQSxVQUFBLFdBQ0FDLEtBQUFDLE1BQUEsWUFBQSxTQUFBQyxHQUNBLEdBQUFDLEdBQUEsa0JBQ0EsT0FBQUQsR0FBQUMsTUFDQXJJLEtBQ0ErRixPQUFBLE1BQ0F2RyxJQUFBNkksRUFBQSxPQUNBQyxRQUFBckksR0FBQSxRQUVBb0MsUUFDQTBELE9BQUEsTUFDQXZHLElBQUE2SSxFQUFBLGNBQ0FDLFFBQUFySSxHQUFBLFFBRUFtQyxNQUNBMkQsT0FBQSxPQUNBdkcsSUFBQTZJLEVBQUEsV0FFQUUsVUFDQXhDLE9BQUEsU0FDQXZHLElBQUE2SSxFQUFBLGNBQ0FDLFFBQUFySSxHQUFBLGNBTUErSCxtQkFBQUMsU0FBQSxZQUFBLFdBQ0FDLEtBQUFDLE1BQUEsWUFBQSxTQUFBQyxHQUNBLEdBQUFDLEdBQUEsb0JBQ0EsT0FBQUQsR0FBQUMiLCJmaWxlIjoianVnZW5kc3RhZHRwbGFuLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXIubW9kdWxlKCAnanVnZW5kc3RhZHRwbGFuLnBpbnMnLCBbXG4gICd1aS5yb3V0ZXInXG5dKTsiLCJhbmd1bGFyLm1vZHVsZSggJ2p1Z2VuZHN0YWR0cGxhbi5zdGFydHNlaXRlJywgW1xuICAndWkucm91dGVyJyxcbiAgJ2xlYWZsZXQtZGlyZWN0aXZlJ1xuXSk7IiwiYW5ndWxhci5tb2R1bGUoICdqdWdlbmRzdGFkdHBsYW4udHJhZWdlcicsIFtcbiAgJ3VpLnJvdXRlcidcbl0pOyIsInZhciBKdWdlbmRzdGFkdHBsYW4gPSBKdWdlbmRzdGFkdHBsYW4gfHwge307XG5KdWdlbmRzdGFkdHBsYW4uQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnanVnZW5kc3RhZHRwbGFuLmNvbnRyb2xsZXJzJywgW10pO1xuXG5hbmd1bGFyLm1vZHVsZSggJ2p1Z2VuZHN0YWR0cGxhbicsIFtcbiAgJ25nUmVzb3VyY2UnLFxuICAnbmdTYW5pdGl6ZScsXG4gICd1aS5yb3V0ZXInLFxuICAnbGVhZmxldC1kaXJlY3RpdmUnLFxuICAndGV4dEFuZ3VsYXInLFxuICAnYW5ndWxhckZpbGVVcGxvYWQnLFxuICAnanVnZW5kc3RhZHRwbGFuLmFwaScsXG4gICdqdWdlbmRzdGFkdHBsYW4uc3RhcnRzZWl0ZScsXG4gICdqdWdlbmRzdGFkdHBsYW4ucGlucycsXG4gICdqdWdlbmRzdGFkdHBsYW4udHJhZWdlcicsXG4gICdqdWdlbmRzdGFkdHBsYW4uY29udHJvbGxlcnMnXG5dKVxuXG4uY29uZmlnKCBmdW5jdGlvbiBteUFwcENvbmZpZyAoICRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIgKSB7XG4gICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoICcvc3RhcnRzZWl0ZScgKTtcbn0pXG5cbi5ydW4oIGZ1bmN0aW9uIHJ1biAoKSB7XG59KVxuXG4uY29udHJvbGxlciggJ0FwcEN0cmwnLCBbICckc2NvcGUnLCAnJGxvY2F0aW9uJywgZnVuY3Rpb24gQXBwQ3RybCggJHNjb3BlLCAkbG9jYXRpb24gKXtcbiAgJHNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3VjY2VzcycsIGZ1bmN0aW9uKGV2ZW50LCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbVN0YXRlLCBmcm9tUGFyYW1zKXtcbiAgICBpZiAoIGFuZ3VsYXIuaXNEZWZpbmVkKCB0b1N0YXRlLmRhdGEucGFnZVRpdGxlICkgKSB7XG4gICAgICAkc2NvcGUucGFnZVRpdGxlID0gdG9TdGF0ZS5kYXRhLnBhZ2VUaXRsZSArICcgfCBKdWdlbmRzdGFkdHBsYW4nIDtcbiAgICB9XG4gIH0pO1xufV0pXG5cbjsiLCJhbmd1bGFyLm1vZHVsZSgnanVnZW5kc3RhZHRwbGFuLnBpbnMnKS5jb25maWcoZnVuY3Rpb24gY29uZmlnKCAkc3RhdGVQcm92aWRlciApIHtcbiAgXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCAnRGV0YWlsOiBQaW4nLCB7XG4gICAgdXJsOiAnL3Bpbi97aWQ6WzAtOV0rfScsXG4gICAgdmlld3M6IHtcbiAgICAgIFwibWFpblwiOiB7XG4gICAgICAgIGNvbnRyb2xsZXI6ICdQaW5EZXRhaWxDb250cm9sbGVyJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdzcmMvYXBwL3BpbnMvdmlld3MvZGV0YWlsLnRwbC5odG1sJ1xuICAgICAgfVxuICAgIH0sXG4gICAgcmVzb2x2ZToge1xuICAgICAgcGluRGV0YWlsOiBbICckc3RhdGVQYXJhbXMnLCAnUGluJywgZnVuY3Rpb24oJHN0YXRlUGFyYW1zLCBQaW4pIHtcbiAgICAgICAgcmV0dXJuIFBpbi5nZXQoe30se2lkOiAkc3RhdGVQYXJhbXMuaWR9KTtcbiAgICAgIH1dXG4gICAgfSxcbiAgICBkYXRhOnsgcGFnZVRpdGxlOiAnUGluJyB9XG4gIH0pO1xuXG59KTtcblxuSnVnZW5kc3RhZHRwbGFuLkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoICdQaW5EZXRhaWxDb250cm9sbGVyJywgWyAnJHNjb3BlJywgJ3BpbkRldGFpbCcsIGZ1bmN0aW9uIFBpbkRldGFpbENvbnRyb2xsZXIoICRzY29wZSwgcGluRGV0YWlsICkge1xuICAgICRzY29wZS5tYXJrZXJzID0gW107XG4gICAgJHNjb3BlLmNlbnRlciA9IHtcbiAgICAgICAgbGF0OiA1MC43MzI4MjkyNDY3MjYsXG4gICAgICAgIGxuZzogNy4wOTM3MDA0MDkwMTE3LFxuICAgICAgICB6b29tOiAxM1xuICAgIH07XG5cbiAgICBwaW5EZXRhaWwuJHByb21pc2UudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRzY29wZS5waW4gPSBwaW5EZXRhaWw7XG5cbiAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKCRzY29wZSwge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRzOiB7XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFdoZWVsWm9vbTogZmFsc2VcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJHNjb3BlLmNlbnRlciA9IHtcbiAgICAgICAgICAgICAgICBsYXQ6IHBpbkRldGFpbC5sYXRpdHVkZSxcbiAgICAgICAgICAgICAgICBsbmc6IHBpbkRldGFpbC5sb25naXR1ZGUsXG4gICAgICAgICAgICAgICAgem9vbTogMTVcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciBtYXJrZXIgPSB7XG4gICAgICAgICAgICAgICAgbGF0OiBwaW5EZXRhaWwubGF0aXR1ZGUsXG4gICAgICAgICAgICAgICAgbG5nOiBwaW5EZXRhaWwubG9uZ2l0dWRlLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBwaW5EZXRhaWwudGl0ZWwsXG4gICAgICAgICAgICAgICAgZm9jdXM6IHRydWUsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJzxoMz4nICsgcGluRGV0YWlsLnRpdGVsICsgJzwvaDM+JyArIHBpbkRldGFpbC5iZXNjaHJlaWJ1bmcsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgJHNjb3BlLm1hcmtlcnMucHVzaChtYXJrZXIpO1xuICAgICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKCRzY29wZSwge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRzOiB7XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFdoZWVsWm9vbTogZmFsc2VcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICk7XG59XSk7IiwiYW5ndWxhci5tb2R1bGUoJ2p1Z2VuZHN0YWR0cGxhbi5waW5zJykuY29uZmlnKGZ1bmN0aW9uIGNvbmZpZyggJHN0YXRlUHJvdmlkZXIgKSB7XG5cbiAgICAkc3RhdGVQcm92aWRlci5zdGF0ZSggJ0Zvcm06IFBpbicsIHtcbiAgICAgICAgdXJsOiAnL3Bpbi9jcmVhdGUnLFxuICAgICAgICB2aWV3czoge1xuICAgICAgICAgICAgXCJtYWluXCI6IHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnUGluRm9ybUNvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnc3JjL2FwcC9waW5zL3ZpZXdzL2Zvcm0udHBsLmh0bWwnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGRhdGE6eyBwYWdlVGl0bGU6ICdQaW4gZXJzdGVsbGVuJyB9XG4gICAgfSk7XG5cbn0pO1xuXG5KdWdlbmRzdGFkdHBsYW4uQ29udHJvbGxlcnMuY29udHJvbGxlciggJ1BpbkZvcm1Db250cm9sbGVyJywgWyAnJHNjb3BlJywgJyRsb2NhdGlvbicsICdQaW4nLCAnVHJhZWdlcicsICdLYXRlZ29yaWUnLCBmdW5jdGlvbiBQaW5Gb3JtQ29udHJvbGxlciggJHNjb3BlLCAkbG9jYXRpb24sIFBpbiwgVHJhZWdlciwgS2F0ZWdvcmllICkge1xuICAgICRzY29wZS5rYXRlZ29yaWVuID0gS2F0ZWdvcmllLnF1ZXJ5KCk7XG4gICAgJHNjb3BlLnBpbiA9IG5ldyBQaW4oKTtcbiAgICAkc2NvcGUucGlucyA9IFBpbi5xdWVyeSgpO1xuICAgICRzY29wZS50cmFlZ2VycyA9IFRyYWVnZXIucXVlcnkoKTtcblxuICAgIGFuZ3VsYXIuZXh0ZW5kKCRzY29wZSwge1xuICAgICAgICBjZW50ZXI6IHtcbiAgICAgICAgICAgIGxhdDogNTAuNzMyODI5MjQ2NzI2LFxuICAgICAgICAgICAgbG5nOiA3LjA5MzcwMDQwOTAxMTcsXG4gICAgICAgICAgICB6b29tOiAxM1xuICAgICAgICB9LFxuICAgICAgICBkZWZhdWx0czoge1xuICAgICAgICAgICAgc2Nyb2xsV2hlZWxab29tOiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICBldmVudHM6IHt9XG4gICAgfSk7XG5cbiAgICAkc2NvcGUucGluLm1hcmtlcnMgPSBbXTtcbiAgICAkc2NvcGUuJG9uKFwibGVhZmxldERpcmVjdGl2ZU1hcC5jbGlja1wiLCBmdW5jdGlvbihldmVudCwgYXJncyl7XG4gICAgICAgIHZhciBsZWFmRXZlbnQgPSBhcmdzLmxlYWZsZXRFdmVudDtcblxuICAgICAgICAkc2NvcGUucGluLm1hcmtlcnNbMF0gPSB7XG4gICAgICAgICAgICBsYXQ6IGxlYWZFdmVudC5sYXRsbmcubGF0LFxuICAgICAgICAgICAgbG5nOiBsZWFmRXZlbnQubGF0bG5nLmxuZyxcbiAgICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGZvY3VzOiB0cnVlXG4gICAgICAgIH07XG4gICAgfSk7XG5cbiAgICAkc2NvcGUubmV3UGluID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICRzY29wZS5waW4gPSBuZXcgUGluKCk7XG4gICAgICAgICRzY29wZS5waW4ubWFya2VycyA9IFtdO1xuICAgICAgICAkc2NvcGUuZWRpdGluZyA9IGZhbHNlO1xuICAgIH07XG5cbiAgICAkc2NvcGUuc2F2ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoJHNjb3BlLnBpbi5pZCkge1xuICAgICAgICAgICAgUGluLnVwZGF0ZSgkc2NvcGUucGluKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICRzY29wZS5waW4uJHNhdmUoKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnBpbnMucHVzaChyZXNwb25zZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAkc2NvcGUubmV3UGluKCk7XG4gICAgfTtcblxuICAgICRzY29wZS5zZXRBY3RpdmVQaW4gPSBmdW5jdGlvbihwaW4pIHtcbiAgICAgICAgJHNjb3BlLnBpbiA9IHBpbjtcbiAgICAgICAgJHNjb3BlLnBpbi5tYXJrZXJzID0gW107XG4gICAgICAgIGlmIChwaW4ubG9uZ2l0dWRlICE9IG51bGwpIHtcbiAgICAgICAgICAgICRzY29wZS5waW4ubWFya2Vyc1swXSA9IHtcbiAgICAgICAgICAgICAgICBsYXQ6IHBpbi5sYXRpdHVkZSxcbiAgICAgICAgICAgICAgICBsbmc6IHBpbi5sb25naXR1ZGUsXG4gICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGZvY3VzOiB0cnVlXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgICRzY29wZS5lZGl0aW5nID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLnJlbW92ZSA9IGZ1bmN0aW9uKHBpbikge1xuICAgICAgICBQaW4uZGVsZXRlKHBpbiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSAkc2NvcGUucGlucy5pbmRleE9mKHBpbik7XG4gICAgICAgICAgICBpZiAoaW5kZXggIT0gLTEpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUucGlucy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG5cbiAgICAvLyBCYXJyaWVyZWZyZWloZWl0c2dyYWRlXG4gICAgJHNjb3BlLmJhcnJpZXJlZnJlaWhlaXRzZ3JhZGUgPSBbICdHdXQnLCAnVGVpbHdlaXNlJywgJ05pY2h0IGJhcnJpZXJlZnJlaScgXTtcblxuXG4gICAgLy8gS29zdGVuYXJ0ZW5cbiAgICAkc2NvcGUua29zdGVuYXJ0ZW4gPSBbICdLb3N0ZW5sb3MnLCAnS29zdGVucGZsaWNodGlnJyBdO1xuXG5cbiAgICAvLyBNaW5kZXN0YWx0ZXJcbiAgICAkc2NvcGUubWluZGVzdGFsdGVycyA9IFsgJ2FiIDEyJywgJ2FiIDE2JywgJ2FiIDE4JywgJ2FiIDIxJyBdO1xuXG5cbiAgICAvLyBBbnNwcmVjaHBhcnRuZXJcbiAgICAkc2NvcGUubmV3QW5zcHJlY2hwYXJ0bmVyID0ge307XG4gICAgJHNjb3BlLmFkZEFuc3ByZWNocGFydG5lciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoJHNjb3BlLnBpbi5hbnNwcmVjaHBhcnRuZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgJHNjb3BlLnBpbi5hbnNwcmVjaHBhcnRuZXIgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICAkc2NvcGUucGluLmFuc3ByZWNocGFydG5lci5wdXNoKCRzY29wZS5uZXdBbnNwcmVjaHBhcnRuZXIpO1xuICAgICAgICAkc2NvcGUubmV3QW5zcHJlY2hwYXJ0bmVyID0ge307XG4gICAgfTtcblxuICAgICRzY29wZS5pc0Fuc3ByZWNocGFydG5lclZhbGlkID0gZnVuY3Rpb24oYW5zcHJlY2hwYXJ0bmVyKSB7XG4gICAgICAgIGlmIChhbnNwcmVjaHBhcnRuZXIubmFtZSA9PT0gdW5kZWZpbmVkIHx8IGFuc3ByZWNocGFydG5lci5uYW1lLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhbnNwcmVjaHBhcnRuZXIuZW1haWwgPT09IHVuZGVmaW5lZCB8fCBhbnNwcmVjaHBhcnRuZXIuZW1haWwubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuXG4gICAgLy8gV29jaGVudGFnZVxuICAgICRzY29wZS53b2NoZW50YWdlID0gWyAnTW9udGFnJywgJ0RpZW5zdGFnJywgJ01pdHR3b2NoJywgJ0Rvbm5lcnN0YWcnLCAnRnJlaXRhZycsICdTYW1zdGFnJywgJ1Nvbm50YWcnIF07XG5cblxuICAgIC8vIFRlcm1pblxuICAgICRzY29wZS5uZXdUZXJtaW4gPSB7fTtcbiAgICAkc2NvcGUuYWRkVGVybWluID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgkc2NvcGUucGluLnRlcm1pbmUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgJHNjb3BlLnBpbi50ZXJtaW5lID0gW107XG4gICAgICAgIH1cbiAgICAgICAgJHNjb3BlLnBpbi50ZXJtaW5lLnB1c2goJHNjb3BlLm5ld1Rlcm1pbik7XG4gICAgICAgICRzY29wZS5uZXdUZXJtaW4gPSB7fTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmlzVGVybWluVmFsaWQgPSBmdW5jdGlvbih0ZXJtaW4pIHtcbiAgICAgICAgaWYgKHRlcm1pbi5iZWdpbm4gPT09IHVuZGVmaW5lZCB8fCB0ZXJtaW4uYmVnaW5uID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRlcm1pbi5nYW56dGFlZ2lnICE9PSB0cnVlICYmICh0ZXJtaW4uYmVnaW5uX3VocnplaXQgPT09IHVuZGVmaW5lZCB8fCB0ZXJtaW4uYmVnaW5uX3VocnplaXQgPT09IDApKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuXG4gICAgLy8gV2llZGVyaG9sdW5nXG4gICAgJHNjb3BlLndvY2hlX2Rlc19tb25hdHMgPSBbXG4gICAgICAgIHsgaWQ6IDAsIGxhYmVsOiAnSmVkZSBXb2NoZScgfSxcbiAgICAgICAgeyBpZDogMSwgbGFiZWw6ICdKZWRlIDEuIFdvY2hlJyB9LFxuICAgICAgICB7IGlkOiAyLCBsYWJlbDogJ0plZGUgMi4gV29jaGUnIH0sXG4gICAgICAgIHsgaWQ6IDMsIGxhYmVsOiAnSmVkZSAzLiBXb2NoZScgfSxcbiAgICAgICAgeyBpZDogNCwgbGFiZWw6ICdKZWRlIDQuIFdvY2hlJyB9LFxuICAgICAgICB7IGlkOiA1LCBsYWJlbDogJ0plZGUgNS4gV29jaGUnIH1cbiAgICBdO1xuICAgICRzY29wZS5uZXdXaWVkZXJob2x1bmcgPSB7fTtcbiAgICAkc2NvcGUuYWRkV2llZGVyaG9sdW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgkc2NvcGUubmV3VGVybWluLndpZWRlcmhvbHVuZ2VuID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICRzY29wZS5uZXdUZXJtaW4ud2llZGVyaG9sdW5nZW4gPSBbXTtcbiAgICAgICAgfVxuICAgICAgICAkc2NvcGUubmV3VGVybWluLndpZWRlcmhvbHVuZ2VuLnB1c2goJHNjb3BlLm5ld1dpZWRlcmhvbHVuZyk7XG4gICAgICAgICRzY29wZS5uZXdXaWVkZXJob2x1bmcgPSB7fTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmlzV2llZGVyaG9sdW5nVmFsaWQgPSBmdW5jdGlvbih3aWVkZXJob2x1bmcpIHtcbiAgICAgICAgaWYgKHdpZWRlcmhvbHVuZy53b2NoZW50YWcgPT09IHVuZGVmaW5lZCB8fCB3aWVkZXJob2x1bmcud29jaGVudGFnID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuXG4gICAgLy8gTGlua3NcbiAgICAkc2NvcGUubmV3TGluayA9IHt9O1xuICAgICRzY29wZS5hZGRMaW5rID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgkc2NvcGUucGluLmxpbmtzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICRzY29wZS5waW4ubGlua3MgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICAkc2NvcGUucGluLmxpbmtzLnB1c2goJHNjb3BlLm5ld0xpbmspO1xuICAgICAgICAkc2NvcGUubmV3TGluayA9IHt9O1xuICAgIH07XG5cbiAgICAkc2NvcGUuaXNMaW5rVmFsaWQgPSBmdW5jdGlvbihsaW5rKSB7XG4gICAgICAgIGlmIChsaW5rLnRpdGVsID09PSB1bmRlZmluZWQgfHwgbGluay50aXRlbC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGluay51cmwgPT09IHVuZGVmaW5lZCB8fCBsaW5rLnVybC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG59XSk7IiwiYW5ndWxhci5tb2R1bGUoJ2p1Z2VuZHN0YWR0cGxhbi5waW5zJykuY29uZmlnKGZ1bmN0aW9uIGNvbmZpZyggJHN0YXRlUHJvdmlkZXIgKSB7XG4gIFxuICAkc3RhdGVQcm92aWRlci5zdGF0ZSggJ0xpc3RlOiBQaW4nLCB7XG4gICAgdXJsOiAnL3BpbnMnLFxuICAgIHZpZXdzOiB7XG4gICAgICBcIm1haW5cIjoge1xuICAgICAgICBjb250cm9sbGVyOiAnUGluc0NvbnRyb2xsZXInLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ3NyYy9hcHAvcGlucy92aWV3cy9saXN0LnRwbC5odG1sJ1xuICAgICAgfVxuICAgIH0sXG4gICAgZGF0YTp7IHBhZ2VUaXRsZTogJ1BpbnMnIH1cbiAgfSk7XG5cbn0pO1xuXG5KdWdlbmRzdGFkdHBsYW4uQ29udHJvbGxlcnMuY29udHJvbGxlciggJ1BpbnNDb250cm9sbGVyJywgWyAnJHNjb3BlJywgJyRsb2NhdGlvbicsICdQaW4nLCBmdW5jdGlvbiBQaW5zQ29udHJvbGxlciggJHNjb3BlLCAkbG9jYXRpb24sIFBpbiApIHtcbiAgICAkc2NvcGUucGlucyA9IFBpbi5xdWVyeSgpO1xuXG4gICAgJHNjb3BlLnZpZXdQaW4gPSBmdW5jdGlvbiAocGluKSB7XG4gICAgICAkbG9jYXRpb24ucGF0aCgnL3Bpbi8nK3Bpbi5pZCk7XG4gICAgfTtcblxufV0pOyIsImFuZ3VsYXIubW9kdWxlKCdqdWdlbmRzdGFkdHBsYW4uc3RhcnRzZWl0ZScpLmNvbmZpZyhmdW5jdGlvbiBjb25maWcoICRzdGF0ZVByb3ZpZGVyICkge1xuICBcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoICdTdGFydHNlaXRlJywge1xuICAgIHVybDogJy9zdGFydHNlaXRlJyxcbiAgICB2aWV3czoge1xuICAgICAgXCJtYWluXCI6IHtcbiAgICAgICAgY29udHJvbGxlcjogJ1N0YXJ0c2VpdGVDb250cm9sbGVyJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdzcmMvYXBwL3N0YXJ0c2VpdGUvdmlld3Mvc3RhcnRzZWl0ZS50cGwuaHRtbCdcbiAgICAgIH1cbiAgICB9LFxuICAgIGRhdGE6eyBwYWdlVGl0bGU6ICdTdGFydHNlaXRlJyB9XG4gIH0pO1xuXG59KTtcblxuYW5ndWxhci5tb2R1bGUoJ2p1Z2VuZHN0YWR0cGxhbi5zdGFydHNlaXRlJykuY29udHJvbGxlciggJ1N0YXJ0c2VpdGVDb250cm9sbGVyJywgWyAnJHNjb3BlJywgJyRsb2NhdGlvbicsICdQaW4nLCBmdW5jdGlvbiBTdGFydHNlaXRlQ29udHJvbGxlciggJHNjb3BlLCAkbG9jYXRpb24sIFBpbiApIHtcbiAgICAgYW5ndWxhci5leHRlbmQoJHNjb3BlLCB7XG4gICAgICAgIGNlbnRlcjoge1xuICAgICAgICAgICAgbGF0OiA1MC43MzI4MjkyNDY3MjYsXG4gICAgICAgICAgICBsbmc6IDcuMDkzNzAwNDA5MDExNyxcbiAgICAgICAgICAgIHpvb206IDEzXG4gICAgICAgIH0sXG4gICAgICAgIGRlZmF1bHRzOiB7XG4gICAgICAgICAgICBzY3JvbGxXaGVlbFpvb206IGZhbHNlXG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgICRzY29wZS5tYXJrZXJzID0gW107XG5cbiAgICBQaW4ucXVlcnkoZnVuY3Rpb24ocGlucykge1xuICAgICAgICBhbmd1bGFyLmZvckVhY2gocGlucywgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgaWYgKGl0ZW0ubG9uZ2l0dWRlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWFya2VyID0ge1xuICAgICAgICAgICAgICAgICAgICBsYXQ6IGl0ZW0ubGF0aXR1ZGUsXG4gICAgICAgICAgICAgICAgICAgIGxuZzogaXRlbS5sb25naXR1ZGUsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBpdGVtLnRpdGVsLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnPGgzPicgKyBpdGVtLnRpdGVsICsgJzwvaDM+JyArIGl0ZW0uYmVzY2hyZWlidW5nICsgJzxzbWFsbD48YSBocmVmPVwiJyArICcvIy9waW4vJyArIGl0ZW0uaWQgKyAnXCI+TWVocjwvYT48L3NtYWxsPidcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzLnB1c2gobWFya2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbn1dKTsiLCJhbmd1bGFyLm1vZHVsZSgnanVnZW5kc3RhZHRwbGFuLnRyYWVnZXInKS5jb25maWcoZnVuY3Rpb24gY29uZmlnKCAkc3RhdGVQcm92aWRlciApIHtcbiAgXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCAnTGlzdGU6IFRyYWVnZXInLCB7XG4gICAgdXJsOiAnL3RyYWVnZXInLFxuICAgIHZpZXdzOiB7XG4gICAgICBcIm1haW5cIjoge1xuICAgICAgICBjb250cm9sbGVyOiAnVHJhZWdlckNvbnRyb2xsZXInLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ3NyYy9hcHAvdHJhZWdlci92aWV3cy9saXN0ZS50cGwuaHRtbCdcbiAgICAgIH1cbiAgICB9LFxuICAgIGRhdGE6eyBwYWdlVGl0bGU6ICdUcsOkZ2VyJyB9XG4gIH0pO1xuXG59KTtcblxuSnVnZW5kc3RhZHRwbGFuLkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoICdUcmFlZ2VyQ29udHJvbGxlcicsIFsgJyRzY29wZScsICckbG9jYXRpb24nLCAnVHJhZWdlcicsIGZ1bmN0aW9uIFRyYWVnZXJDb250cm9sbGVyKCAkc2NvcGUsICRsb2NhdGlvbiwgVHJhZWdlciApIHtcbiAgICAkc2NvcGUudHJhZWdlciA9IFRyYWVnZXIucXVlcnkoKTtcblxuICAgICRzY29wZS52aWV3VHJhZWdlciA9IGZ1bmN0aW9uICh0cmFlZ2VyKSB7XG4gICAgICAkbG9jYXRpb24ucGF0aCgnL3RyYWVnZXIvJyt0cmFlZ2VyLmlkKTtcbiAgICB9O1xuXG59XSk7IiwiYW5ndWxhci5tb2R1bGUoJ2p1Z2VuZHN0YWR0cGxhbi50cmFlZ2VyJykuY29uZmlnKGZ1bmN0aW9uIGNvbmZpZyggJHN0YXRlUHJvdmlkZXIgKSB7XG4gIFxuICAkc3RhdGVQcm92aWRlci5zdGF0ZSggJ0RldGFpbDogVHJhZWdlcicsIHtcbiAgICB1cmw6ICcvdHJhZWdlci97aWQ6WzAtOV0rfScsXG4gICAgdmlld3M6IHtcbiAgICAgIFwibWFpblwiOiB7XG4gICAgICAgIGNvbnRyb2xsZXI6ICdUcmFlZ2VyRGV0YWlsQ29udHJvbGxlcicsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnc3JjL2FwcC90cmFlZ2VyL3ZpZXdzL2RldGFpbC50cGwuaHRtbCdcbiAgICAgIH1cbiAgICB9LFxuICAgIHJlc29sdmU6IHtcbiAgICAgIHRyYWVnZXJEZXRhaWw6IFsgJyRzdGF0ZVBhcmFtcycsICdUcmFlZ2VyJywgZnVuY3Rpb24oJHN0YXRlUGFyYW1zLCBUcmFlZ2VyKSB7XG4gICAgICAgIHJldHVybiBUcmFlZ2VyLmdldCh7fSx7aWQ6ICRzdGF0ZVBhcmFtcy5pZH0pO1xuICAgICAgfV1cbiAgICB9LFxuICAgIGRhdGE6eyBwYWdlVGl0bGU6ICdUcsOkZ2VyJyB9XG4gIH0pO1xuXG59KTtcblxuSnVnZW5kc3RhZHRwbGFuLkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoICdUcmFlZ2VyRGV0YWlsQ29udHJvbGxlcicsIFsgJyRzY29wZScsICd0cmFlZ2VyRGV0YWlsJywgZnVuY3Rpb24gVHJhZWdlckRldGFpbENvbnRyb2xsZXIoICRzY29wZSwgdHJhZWdlckRldGFpbCApIHtcbiAgICAkc2NvcGUudHJhZWdlciA9IHRyYWVnZXJEZXRhaWw7XG5cbiAgICBhbmd1bGFyLmV4dGVuZCgkc2NvcGUsIHtcbiAgICAgICAgY2VudGVyOiB7XG4gICAgICAgICAgICBsYXQ6IDUwLjczMjgyOTI0NjcyNixcbiAgICAgICAgICAgIGxuZzogNy4wOTM3MDA0MDkwMTE3LFxuICAgICAgICAgICAgem9vbTogMTNcbiAgICAgICAgfSxcbiAgICAgICAgZGVmYXVsdHM6IHtcbiAgICAgICAgICAgIHNjcm9sbFdoZWVsWm9vbTogZmFsc2VcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgJHNjb3BlLm1hcmtlcnMgPSBbXTtcblxuICAgIHRyYWVnZXJEZXRhaWwuJHByb21pc2UudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKHRyYWVnZXJEZXRhaWwucGlucywgZnVuY3Rpb24oaXRlbSwga2V5KSB7XG4gICAgICAgICAgICB2YXIgbWFya2VyID0ge1xuICAgICAgICAgICAgICAgIGxhdDogaXRlbS5sYXRpdHVkZSxcbiAgICAgICAgICAgICAgICBsbmc6IGl0ZW0ubG9uZ2l0dWRlLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBpdGVtLnRpdGVsLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICc8aDM+JyArIGl0ZW0udGl0ZWwgKyAnPC9oMz4nICsgaXRlbS5iZXNjaHJlaWJ1bmcgKyAnPHNtYWxsPjxhIGhyZWY9XCInICsgJy8jL3Bpbi8nK2l0ZW0uaWQgKyAnXCI+TWVocjwvYT48L3NtYWxsPidcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAkc2NvcGUubWFya2Vycy5wdXNoKG1hcmtlcik7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufV0pOyIsImFuZ3VsYXIubW9kdWxlKCdqdWdlbmRzdGFkdHBsYW4udHJhZWdlcicpLmNvbmZpZyhmdW5jdGlvbiBjb25maWcoICRzdGF0ZVByb3ZpZGVyICkge1xuXG4gICAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoICdGb3JtOiBUcmFlZ2VyJywge1xuICAgICAgICB1cmw6ICcvdHJhZWdlci9jcmVhdGUnLFxuICAgICAgICB2aWV3czoge1xuICAgICAgICAgICAgXCJtYWluXCI6IHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnVHJhZWdlckZvcm1Db250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3NyYy9hcHAvdHJhZWdlci92aWV3cy9mb3JtLnRwbC5odG1sJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBkYXRhOnsgcGFnZVRpdGxlOiAnVHLDpGdlciBlcnN0ZWxsZW4nIH1cbiAgICB9KTtcblxufSk7XG5cbkp1Z2VuZHN0YWR0cGxhbi5Db250cm9sbGVycy5jb250cm9sbGVyKCAnVHJhZWdlckZvcm1Db250cm9sbGVyJywgWyAnJHNjb3BlJywgJyRsb2NhdGlvbicsICdUcmFlZ2VyJywgJ0thdGVnb3JpZScsICckdXBsb2FkJywgZnVuY3Rpb24gVHJhZWdlckZvcm1Db250cm9sbGVyKCAkc2NvcGUsICRsb2NhdGlvbiwgVHJhZWdlciwgS2F0ZWdvcmllLCAkdXBsb2FkICkge1xuICAgICRzY29wZS5rYXRlZ29yaWVuID0gS2F0ZWdvcmllLnF1ZXJ5KCk7XG4gICAgJHNjb3BlLnRyYWVnZXIgPSBuZXcgVHJhZWdlcigpO1xuICAgICRzY29wZS50cmFlZ2VycyA9IFRyYWVnZXIucXVlcnkoKTtcblxuICAgICRzY29wZS5uZXdUcmFlZ2VyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICRzY29wZS50cmFlZ2VyID0gbmV3IFRyYWVnZXIoKTtcbiAgICAgICAgJHNjb3BlLmVkaXRpbmcgPSBmYWxzZTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLnNhdmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCRzY29wZS50cmFlZ2VyLmlkKSB7XG4gICAgICAgICAgICBUcmFlZ2VyLnVwZGF0ZSgkc2NvcGUudHJhZWdlcikudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV3VHJhZWdlcigpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgYWxlcnQoJ0VpbiBUcsOkZ2VyIG1pdCBkaWVzZXIgRW1haWwtQWRyZXNzZSBleGlzdGllcnQgYmVyZWl0cyEnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJHNjb3BlLnRyYWVnZXIuJHNhdmUoKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnRyYWVnZXJzLnB1c2gocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICRzY29wZS5uZXdUcmFlZ2VyKCk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBhbGVydCgnRWluIFRyw6RnZXIgbWl0IGRpZXNlciBFbWFpbC1BZHJlc3NlIGV4aXN0aWVydCBiZXJlaXRzIScpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgJHNjb3BlLnNldEFjdGl2ZVRyYWVnZXIgPSBmdW5jdGlvbih0cmFlZ2VyKSB7XG4gICAgICAgICRzY29wZS50cmFlZ2VyID0gdHJhZWdlcjtcbiAgICAgICAgJHNjb3BlLmVkaXRpbmcgPSB0cnVlO1xuICAgIH07XG5cbiAgICAkc2NvcGUucmVtb3ZlID0gZnVuY3Rpb24odHJhZWdlcikge1xuICAgICAgICBUcmFlZ2VyLmRlbGV0ZSh0cmFlZ2VyLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9ICRzY29wZS50cmFlZ2Vycy5pbmRleE9mKHRyYWVnZXIpO1xuICAgICAgICAgICAgaWYgKGluZGV4ICE9IC0xKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnRyYWVnZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvLyBCaWxkZXJcbiAgICAkc2NvcGUub25GaWxlU2VsZWN0ID0gZnVuY3Rpb24oJGZpbGVzKSB7XG4gICAgICAgIHZhciBkb1VwbG9hZCA9IGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgICAgICAgICR1cGxvYWQudXBsb2FkKHtcbiAgICAgICAgICAgICAgICB1cmw6ICdiYWNrZW5kL2ltZy91cGxvYWQnLCAvL3VwbG9hZC5waHAgc2NyaXB0LCBub2RlLmpzIHJvdXRlLCBvciBzZXJ2bGV0IHVybFxuICAgICAgICAgICAgICAgIC8vIG1ldGhvZDogJ1BPU1QnIG9yICdQVVQnLFxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIC8vIGhlYWRlcnM6IHsnaGVhZGVyLWtleSc6ICdoZWFkZXItdmFsdWUnfSxcbiAgICAgICAgICAgICAgICAvLyB3aXRoQ3JlZGVudGlhbHM6IHRydWUsXG4gICAgICAgICAgICAgICAgZGF0YToge215T2JqOiAkc2NvcGUubXlNb2RlbE9ian0sXG4gICAgICAgICAgICAgICAgZmlsZTogZmlsZSAvLyBvciBsaXN0IG9mIGZpbGVzOiAkZmlsZXMgZm9yIGh0bWw1IG9ubHlcbiAgICAgICAgICAgICAgICAvLyBmaWxlTmFtZTogJ2RvYy5qcGcnIG9yIFsnMS5qcGcnLCAnMi5qcGcnLCAuLi5dIC8vIHRvIG1vZGlmeSB0aGUgbmFtZSBvZiB0aGUgZmlsZVxuICAgICAgICAgICAgICAgIC8qIGN1c3RvbWl6ZSBmaWxlIGZvcm1EYXRhIG5hbWUgKCdDb250ZW50LURlc3Bvc2l0aW9uJyksIHNlcnZlciBzaWRlIGZpbGUgdmFyaWFibGUgbmFtZS5cbiAgICAgICAgICAgICAgICAgRGVmYXVsdCBpcyAnZmlsZScgKi9cbiAgICAgICAgICAgICAgICAvL2ZpbGVGb3JtRGF0YU5hbWU6IG15RmlsZSwgLy9vciBhIGxpc3Qgb2YgbmFtZXMgZm9yIG11bHRpcGxlIGZpbGVzIChodG1sNSkuXG4gICAgICAgICAgICAgICAgLyogY3VzdG9taXplIGhvdyBkYXRhIGlzIGFkZGVkIHRvIGZvcm1EYXRhLiBTZWUgIzQwI2lzc3VlY29tbWVudC0yODYxMjAwMCBmb3Igc2FtcGxlIGNvZGUgKi9cbiAgICAgICAgICAgICAgICAvL2Zvcm1EYXRhQXBwZW5kZXI6IGZ1bmN0aW9uKGZvcm1EYXRhLCBrZXksIHZhbCl7fVxuICAgICAgICAgICAgfSkucHJvZ3Jlc3MoZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwZXJjZW50OiAnICsgcGFyc2VJbnQoMTAwLjAgKiBldnQubG9hZGVkIC8gZXZ0LnRvdGFsKSk7XG4gICAgICAgICAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xuICAgICAgICAgICAgICAgIC8vIGZpbGUgaXMgdXBsb2FkZWQgc3VjY2Vzc2Z1bGx5XG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS50cmFlZ2VyLmJpbGRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS50cmFlZ2VyLmJpbGRlciA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaWxlLnRtcF9uYW1lID0gZGF0YS5mb2xkZXI7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnRyYWVnZXIuYmlsZGVyLnB1c2goZmlsZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vLmVycm9yKC4uLilcbiAgICAgICAgICAgIC8vLnRoZW4oc3VjY2VzcywgZXJyb3IsIHByb2dyZXNzKTtcbiAgICAgICAgICAgIC8vLnhocihmdW5jdGlvbih4aHIpe3hoci51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lciguLi4pfSkvLyBhY2Nlc3MgYW5kIGF0dGFjaCBhbnkgZXZlbnQgbGlzdGVuZXIgdG8gWE1MSHR0cFJlcXVlc3QuXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8kZmlsZXM6IGFuIGFycmF5IG9mIGZpbGVzIHNlbGVjdGVkLCBlYWNoIGZpbGUgaGFzIG5hbWUsIHNpemUsIGFuZCB0eXBlLlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICRmaWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGZpbGUgPSAkZmlsZXNbaV07XG4gICAgICAgICAgICAkc2NvcGUudXBsb2FkID0gZG9VcGxvYWQoZmlsZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG5cbiAgICAvLyBBbnNwcmVjaHBhcnRuZXJcbiAgICAkc2NvcGUubmV3QW5zcHJlY2hwYXJ0bmVyID0ge307XG4gICAgJHNjb3BlLmFkZEFuc3ByZWNocGFydG5lciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoJHNjb3BlLnRyYWVnZXIuYW5zcHJlY2hwYXJ0bmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICRzY29wZS50cmFlZ2VyLmFuc3ByZWNocGFydG5lciA9IFtdO1xuICAgICAgICB9XG4gICAgICAgICRzY29wZS50cmFlZ2VyLmFuc3ByZWNocGFydG5lci5wdXNoKCRzY29wZS5uZXdBbnNwcmVjaHBhcnRuZXIpO1xuICAgICAgICAkc2NvcGUubmV3QW5zcHJlY2hwYXJ0bmVyID0ge307XG4gICAgfTtcblxuICAgICRzY29wZS5pc0Fuc3ByZWNocGFydG5lclZhbGlkID0gZnVuY3Rpb24oYW5zcHJlY2hwYXJ0bmVyKSB7XG4gICAgICAgIGlmIChhbnNwcmVjaHBhcnRuZXIubmFtZSA9PT0gdW5kZWZpbmVkIHx8IGFuc3ByZWNocGFydG5lci5uYW1lLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhbnNwcmVjaHBhcnRuZXIuZW1haWwgPT09IHVuZGVmaW5lZCB8fCBhbnNwcmVjaHBhcnRuZXIuZW1haWwubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuXG4gICAgLy8gTGlua3NcbiAgICAkc2NvcGUubmV3TGluayA9IHt9O1xuICAgICRzY29wZS5hZGRMaW5rID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgkc2NvcGUudHJhZWdlci5saW5rcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAkc2NvcGUudHJhZWdlci5saW5rcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgICRzY29wZS50cmFlZ2VyLmxpbmtzLnB1c2goJHNjb3BlLm5ld0xpbmspO1xuICAgICAgICAkc2NvcGUubmV3TGluayA9IHt9O1xuICAgIH07XG5cbiAgICAkc2NvcGUuaXNMaW5rVmFsaWQgPSBmdW5jdGlvbihsaW5rKSB7XG4gICAgICAgIGlmIChsaW5rLnRpdGVsID09PSB1bmRlZmluZWQgfHwgbGluay50aXRlbC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGluay51cmwgPT09IHVuZGVmaW5lZCB8fCBsaW5rLnVybC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG5cbiAgICAvLyBBZHJlc3NlblxuICAgICRzY29wZS5uZXdBZHJlc3NlID0ge307XG4gICAgJHNjb3BlLmFkZEFkcmVzc2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCRzY29wZS50cmFlZ2VyLmFkcmVzc2VuID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICRzY29wZS50cmFlZ2VyLmFkcmVzc2VuID0gW107XG4gICAgICAgIH1cbiAgICAgICAgJHNjb3BlLnRyYWVnZXIuYWRyZXNzZW4ucHVzaCgkc2NvcGUubmV3QWRyZXNzZSk7XG4gICAgICAgICRzY29wZS5uZXdBZHJlc3NlID0ge307XG4gICAgfTtcblxuICAgICRzY29wZS5pc0FkcmVzc2VWYWxpZCA9IGZ1bmN0aW9uKGFkcmVzc2UpIHtcbiAgICAgICAgaWYgKGFkcmVzc2Uuc3RyYXNzZSA9PT0gdW5kZWZpbmVkIHx8IGFkcmVzc2Uuc3RyYXNzZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWRyZXNzZS5vcnQgPT09IHVuZGVmaW5lZCB8fCBhZHJlc3NlLm9ydC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG59XSk7IiwiYW5ndWxhci5tb2R1bGUoICdwbHVzT25lJywgW10gKVxuXG4uZGlyZWN0aXZlKCAncGx1c09uZScsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIGxpbms6IGZ1bmN0aW9uKCBzY29wZSwgZWxlbWVudCwgYXR0cnMgKSB7XG4gICAgICBnYXBpLnBsdXNvbmUucmVuZGVyKCBlbGVtZW50WzBdLCB7XG4gICAgICAgIFwic2l6ZVwiOiBcIm1lZGl1bVwiLFxuICAgICAgICBcImhyZWZcIjogXCJodHRwOi8vYml0Lmx5L25nQm9pbGVycGxhdGVcIlxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufSlcblxuO1xuXG4iLCJ2YXIganVnZW5kc3RhZHRwbGFuQXBpID0gYW5ndWxhci5tb2R1bGUoJ2p1Z2VuZHN0YWR0cGxhbi5hcGknLCBbJ25nUmVzb3VyY2UnXSk7XG5cbmp1Z2VuZHN0YWR0cGxhbkFwaS5wcm92aWRlcignUGluJywgZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kZ2V0ID0gWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XG4gICAgICAgIHZhciBiYWNrZW5kVXJsID0gJy9iYWNrZW5kL3BpbnMnO1xuICAgICAgICByZXR1cm4gJHJlc291cmNlKGJhY2tlbmRVcmwsIHt9LCB7XG4gICAgICAgICAgICBnZXQ6IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgICAgIHVybDogYmFja2VuZFVybCArICcvOmlkJyxcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHsgaWQ6J0BpZCd9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdXBkYXRlOiB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgICAgICB1cmw6IGJhY2tlbmRVcmwgKyAnL3VwZGF0ZS86aWQnLFxuICAgICAgICAgICAgICAgIHBhcmFtczogeyBpZDonQGlkJ31cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzYXZlOiB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgdXJsOiBiYWNrZW5kVXJsICsgJy9jcmVhdGUnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVsZXRlOiB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgICAgICAgICB1cmw6IGJhY2tlbmRVcmwgKyAnL2RlbGV0ZS86aWQnLFxuICAgICAgICAgICAgICAgIHBhcmFtczogeyBpZDonQGlkJ31cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfV07XG59KTtcblxuanVnZW5kc3RhZHRwbGFuQXBpLnByb3ZpZGVyKCdUcmFlZ2VyJywgZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kZ2V0ID0gWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XG4gICAgICAgIHZhciBiYWNrZW5kVXJsID0gJy9iYWNrZW5kL3RyYWVnZXInO1xuICAgICAgICByZXR1cm4gJHJlc291cmNlKGJhY2tlbmRVcmwsIHt9LCB7XG4gICAgICAgICAgICBnZXQ6IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgICAgIHVybDogYmFja2VuZFVybCArICcvOmlkJyxcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHsgaWQ6J0BpZCd9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdXBkYXRlOiB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgICAgICB1cmw6IGJhY2tlbmRVcmwgKyAnL3VwZGF0ZS86aWQnLFxuICAgICAgICAgICAgICAgIHBhcmFtczogeyBpZDonQGlkJ31cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzYXZlOiB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgdXJsOiBiYWNrZW5kVXJsICsgJy9jcmVhdGUnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVsZXRlOiB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgICAgICAgICB1cmw6IGJhY2tlbmRVcmwgKyAnL2RlbGV0ZS86aWQnLFxuICAgICAgICAgICAgICAgIHBhcmFtczogeyBpZDonQGlkJ31cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfV07XG59KTtcblxuanVnZW5kc3RhZHRwbGFuQXBpLnByb3ZpZGVyKCdLYXRlZ29yaWUnLCBmdW5jdGlvbigpIHtcbiAgICB0aGlzLiRnZXQgPSBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcbiAgICAgICAgdmFyIGJhY2tlbmRVcmwgPSAnL2JhY2tlbmQva2F0ZWdvcmllJztcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShiYWNrZW5kVXJsKTtcbiAgICB9XTtcbn0pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==