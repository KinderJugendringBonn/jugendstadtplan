<div>
    <h3>Bisherige Träger:</h3>
    <ul data-ng-show="traegers.length">
        <li data-ng-repeat="traeger in traegers | orderBy: 'titel'">
            <div data-ng-click="setActiveTraeger(traeger)">
                <h2>{{ traeger.titel }}</h2>
                <small data-ng-bind-html="traeger.beschreibung"></small>
            </div>
            <button class="btn btn-danger" data-ng-click="remove(traeger, $index)">Löschen</button>
        </li>
    </ul>

    <form data-ng-submit="save(traeger)" novalidate="true">
        <label for="traeger.email">Email</label>
        <input id="traeger.email" type="text" data-ng-model="traeger.email" />
        <label for="traeger.passwort">Passwort</label>
        <input id="traeger.passwort" type="password" data-ng-model="traeger.passwort" />
        <label for="traeger.kategorie">Kategorie</label>
        <select id="traeger.kategorie" data-ng-model="traeger.kategorie" data-ng-options="kategorie.id as kategorie.name for kategorie in kategorien"></select>
        <label for="traeger.titel">Titel</label>
        <input id="traeger.titel" type="text" data-ng-model="traeger.titel" />

        <div>
            <p>Bisherige Ansprechpartner:</p>
            <ul>
                <li data-ng-repeat="ansprechpartner in traeger.ansprechpartner">
                    <p>{{ ansprechpartner.name }}</p>
                    <small>{{ ansprechpartner.telefonnummer }}</small>
                    <small>{{ ansprechpartner.mobilnummer }}</small>
                    <small>{{ ansprechpartner.email }}</small>
                </li>
            </ul>
            <p>Neuen Ansprechpartner anlegen:</p>
            <label for="traeger.ansprechpartner.name">Name*:</label>
            <input id="traeger.ansprechpartner.name" type="text" data-ng-model="newAnsprechpartner.name" required />
            <label for="traeger.ansprechpartner.telefonnummer">Telefonnummer:</label>
            <input id="traeger.ansprechpartner.telefonnummer" type="tel" data-ng-model="newAnsprechpartner.telefonnummer" />
            <label for="traeger.ansprechpartner.mobilnummer">Handy:</label>
            <input id="traeger.ansprechpartner.mobilnummer" type="tel" data-ng-model="newAnsprechpartner.mobilnummer" />
            <label for="traeger.ansprechpartner.email">EMail*:</label>
            <input id="traeger.ansprechpartner.email" type="email" data-ng-model="newAnsprechpartner.email" required />
            <label for="traeger.ansprechpartner.bemerkung">Bemerkungen:</label>
            <textarea id="traeger.ansprechpartner.bemerkung" data-ng-model="newAnsprechpartner.bemerkung"></textarea>
            <button type="button" data-ng-click="addAnsprechpartner()" data-ng-disabled="!isAnsprechpartnerValid(newAnsprechpartner)">Hinzufügen</button>
        </div>
        <div>
            <p>Bisherige Adressen:</p>
            <ul>
                <li data-ng-repeat="adresse in traeger.adressen">
                    <p>{{ adresse.strasse }}</p>
                    <p>{{ adresse.plz }}</p>
                    <p>{{ adresse.ort }}</p>
                </li>
            </ul>
            <p>Neue Adresse anlegen:</p>
            <label for="traeger.adresse.strasse">Straße / Hausnummer*:</label>
            <input id="traeger.adresse.strasse" type="text" data-ng-model="newAdresse.strasse" required />
            <label for="traeger.adresse.plz">PLZ:</label>
            <input id="traeger.adresse.plz" type="text" data-ng-model="newAdresse.plz" />
            <label for="traeger.adresse.ort">Ort*:</label>
            <input id="traeger.adresse.ort" type="text" data-ng-model="newAdresse.ort" />
            <button type="button" data-ng-click="addAdresse()" data-ng-disabled="!isAdresseValid(newAdresse)">Hinzufügen</button>
        </div>
        <div>
            <p>Bisherige Links:</p>
            <ul>
                <li data-ng-repeat="link in traeger.links">
                    <a href="{{ link.url }}">{{ link.titel }}</a>
                </li>
            </ul>
            <p>Link hinzufügen:</p>
            <label for="traeger.link.titel">Titel*:</label>
            <input id="traeger.link.titel" type="text" data-ng-model="newLink.titel" />
            <label for="traeger.link.url">URL*:</label>
            <input id="traeger.link.url" type="url" data-ng-model="newLink.url" />
            <button type="button" data-ng-click="addLink()" data-ng-disabled="!isLinkValid(newLink)">Hinzufügen</button>
        </div>
        <text-angular data-ng-model="traeger.beschreibung"></text-angular>
        <button type="submit" class="btn btn-primary">Träger speichern</button>
    </form>
    <button data-ng-if="editing" class="btn btn-success" data-ng-click="newTraeger()">Neuen Träger anlegen</button>
</div>