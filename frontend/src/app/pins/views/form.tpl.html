<div>
    <h3>Bisherige Pins:</h3>
    <ul data-ng-show="pins.length">
        <li data-ng-repeat="pin in pins | orderBy: 'titel'">
            <div data-ng-click="setActivePin(pin)">
                <h2>{{ pin.titel }}</h2>
                <small>{{ pin.traeger.titel }}</small>
                <small data-ng-bind-html="pin.beschreibung"></small>
            </div>
            <button class="btn btn-danger" data-ng-click="remove(pin, $index)">LÃ¶schen</button>
        </li>
    </ul>

    <form data-ng-submit="save(pin)">
        <label for="pin.titel">Titel</label>
        <input id="pin.titel" type="text" data-ng-model="pin.titel" />
        <select data-ng-model="pin.traeger" data-ng-options="traeger.id as traeger.titel for traeger in traegers"></select>
        <text-angular data-ng-model="pin.beschreibung"></text-angular>
        <div class="small-map-container">
            <leaflet defaults="defaults" center="center" markers="pin.markers" event-broadcast="events"></leaflet>
        </div>
        <div class="hidden">
            <label for="kjrb_jugendstadtplanbundle_pin_longitude" class="required">Longitude</label>
            <input type="text" id="kjrb_jugendstadtplanbundle_pin_longitude" data-ng-model="pin.markers[0].lng"/>
        </div>
        <div class="hidden">
            <label for="kjrb_jugendstadtplanbundle_pin_latitude" class="required">Latitude</label>
            <input type="text" id="kjrb_jugendstadtplanbundle_pin_latitude" data-ng-model="pin.markers[0].lat" />
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
    </form>
    <button data-ng-if="editing" class="btn btn-success" data-ng-click="newPin()">Neuen Pin anlegen</button>
</div>