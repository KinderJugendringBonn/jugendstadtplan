var jugendstadtplanLogin=angular.module("jugendstadtplan.login",[]);jugendstadtplanLogin.service("LoginService",["$window","jwtHelper",function(e,t){var n={authenticated:!1,traeger:null};return n.getToken=function(){var t=e.localStorage.getItem("jspToken");return void 0!==t?t:void 0},n.setToken=function(t){e.localStorage.setItem("jspToken",t)},n.isTokenExpired=function(){var e=this.getToken();return e?t.isTokenExpired(e):!0},n.getJugendstadtplanUser=function(){return this.traeger},n.setJugendstadtplanUser=function(e){this.traeger=e},n.isLoggedIn=function(){return this.authenticated},n.login=function(e){this.authenticated=!0,this.setToken(e);var n=t.decodeToken(e);this.setJugendstadtplanUser(n.traeger)},n.logout=function(){this.traeger=null,this.authenticated=!1,e.localStorage.removeItem("jspToken")},n.init=function(){var e=this.getToken();void 0!==e&&(this.isTokenExpired()?this.logout():this.login(e))},n}]),angular.module("jugendstadtplan.links",[]),angular.module("jugendstadtplan.ansprechpartner",[]),angular.module("jugendstadtplan.pins",["ui.router","jugendstadtplan.links","jugendstadtplan.ansprechpartner","jugendstadtplan.termin"]),angular.module("jugendstadtplan.traeger",["ui.router","jugendstadtplan.login","jugendstadtplan.links","jugendstadtplan.ansprechpartner"]),angular.module("jugendstadtplan.startseite",["ui.router","leaflet-directive"]),angular.module("jugendstadtplan.termin",[]);var Jugendstadtplan=Jugendstadtplan||{};Jugendstadtplan.Controllers=angular.module("jugendstadtplan.controllers",[]),angular.module("jugendstadtplan",["ngResource","ngSanitize","ui.router","leaflet-directive","textAngular","ngFileUpload","angular-jwt","jugendstadtplan.templates","jugendstadtplan.login","jugendstadtplan.api","jugendstadtplan.startseite","jugendstadtplan.pins","jugendstadtplan.traeger","jugendstadtplan.controllers"]).config(["$stateProvider","$urlRouterProvider",function(e,t){t.otherwise("/startseite")}]).run(function(){}).controller("AppCtrl",["$scope","LoginService","$state",function(e,t,n){e.$on("$stateChangeSuccess",function(t,n,r,a,i){angular.isDefined(n.data.pageTitle)&&(e.pageTitle=n.data.pageTitle+" | Jugendstadtplan")}),t.init(),e.isLoggedIn=function(){return t.isLoggedIn()},e.getJugendstadtplanUser=function(){return t.getJugendstadtplanUser()},e.logout=function(){t.logout(),n.go("Startseite")}}]),Jugendstadtplan.Controllers.controller("LinksFormController",["$scope",function(e){e.newLink={},e.addLink=function(){void 0===e.model.links&&(e.model.links=[]),e.model.links.push(e.newLink),e.newLink={}},e.isLinkValid=function(e){return void 0===e.titel||0===e.titel.length?!1:void 0!==e.url&&0!==e.url.length}}]),Jugendstadtplan.Controllers.controller("AnsprechpartnerFormController",["$scope",function(e){e.newAnsprechpartner={},e.addAnsprechpartner=function(){void 0===e.model.ansprechpartner&&(e.model.ansprechpartner=[]),e.model.ansprechpartner.push(e.newAnsprechpartner),e.newAnsprechpartner={}},e.isAnsprechpartnerValid=function(e){return void 0===e.name||0===e.name.length?!1:void 0!==e.email&&0!==e.email.length}}]),angular.module("jugendstadtplan.pins").config(["$stateProvider",function(e){e.state("Detail: Pin",{url:"/pin/{id:[0-9]+}",views:{main:{controller:"PinDetailController",templateUrl:"app/pins/views/detail.tpl.html"}},resolve:{pinDetail:["$stateParams","Pin",function(e,t){return t.get({},{id:e.id})}]},data:{pageTitle:"Pin"}})}]),Jugendstadtplan.Controllers.controller("PinDetailController",["$scope","pinDetail",function(e,t){e.markers=[],e.center={lat:50.732829246726,lng:7.0937004090117,zoom:13},t.$promise.then(function(){e.pin=t,angular.extend(e,{defaults:{scrollWheelZoom:!1}}),e.center={lat:t.latitude,lng:t.longitude,zoom:15};var n={lat:t.latitude,lng:t.longitude,title:t.titel,focus:!0,message:"<h3>"+t.titel+"</h3>"+t.beschreibung};e.markers.push(n)},function(){angular.extend(e,{defaults:{scrollWheelZoom:!1}})})}]),angular.module("jugendstadtplan.pins").config(["$stateProvider",function(e){e.state("Form: Pin",{url:"/pin/create",views:{main:{controller:"PinFormController",templateUrl:"app/pins/views/form.tpl.html"}},data:{pageTitle:"Pin erstellen"}})}]),Jugendstadtplan.Controllers.controller("PinFormController",["$scope","$location","Pin","Traeger","Kategorie",function(e,t,n,r,a){e.kategorien=a.query(),e.pin=new n,e.pins=n.query(),e.traegers=r.query(),angular.extend(e,{center:{lat:50.732829246726,lng:7.0937004090117,zoom:13},defaults:{scrollWheelZoom:!1},events:{}}),e.pin.markers=[],e.$on("leafletDirectiveMap.click",function(t,n){var r=n.leafletEvent;e.pin.markers[0]={lat:r.latlng.lat,lng:r.latlng.lng,draggable:!0,focus:!0}}),e.newPin=function(){e.pin=new n,e.pin.markers=[],e.editing=!1},e.save=function(){e.pin.id?n.update(e.pin):e.pin.$save().then(function(t){e.pins.push(t)}),e.newPin()},e.setActivePin=function(t){e.pin=t,e.pin.markers=[],null!=t.longitude&&(e.pin.markers[0]={lat:t.latitude,lng:t.longitude,draggable:!0,focus:!0}),e.editing=!0},e.remove=function(t){n["delete"](t,function(){var n=e.pins.indexOf(t);-1!=n&&e.pins.splice(n,1)})},e.barrierefreiheitsgrade=["Gut","Teilweise","Nicht barrierefrei"],e.kostenarten=["Kostenlos","Kostenpflichtig"],e.mindestalters=["ab 12","ab 16","ab 18","ab 21"]}]),angular.module("jugendstadtplan.pins").config(["$stateProvider",function(e){e.state("Liste: Pin",{url:"/pins",views:{main:{controller:"PinsController",templateUrl:"app/pins/views/list.tpl.html"}},data:{pageTitle:"Pins"}})}]),Jugendstadtplan.Controllers.controller("PinsController",["$scope","$location","Pin",function(e,t,n){e.pins=n.query(),e.viewPin=function(e){t.path("/pin/"+e.id)}}]),angular.module("jugendstadtplan.traeger").config(["$stateProvider",function(e){e.state("Liste: Traeger",{url:"/traeger",views:{main:{controller:"TraegerController",templateUrl:"app/traeger/views/liste.tpl.html"}},data:{pageTitle:"Träger"}})}]),Jugendstadtplan.Controllers.controller("TraegerController",["$scope","$location","Traeger",function(e,t,n){e.traeger=n.query(),e.viewTraeger=function(e){t.path("/traeger/"+e.id)}}]),angular.module("jugendstadtplan.traeger").config(["$stateProvider",function(e){e.state("Detail: Traeger",{url:"/traeger/{id:[0-9]+}",views:{main:{controller:"TraegerDetailController",templateUrl:"app/traeger/views/detail.tpl.html"}},resolve:{traegerDetail:["$stateParams","Traeger",function(e,t){return t.get({},{id:e.id})}]},data:{pageTitle:"Träger"}})}]),Jugendstadtplan.Controllers.controller("TraegerDetailController",["$scope","traegerDetail",function(e,t){e.traeger=t,angular.extend(e,{center:{lat:50.732829246726,lng:7.0937004090117,zoom:13},defaults:{scrollWheelZoom:!1}}),e.markers=[],t.$promise.then(function(){angular.forEach(t.pins,function(t,n){var r={lat:t.latitude,lng:t.longitude,title:t.titel,message:"<h3>"+t.titel+"</h3>"+t.beschreibung+'<small><a href="/#/pin/'+t.id+'">Mehr</a></small>'};e.markers.push(r)})})}]),angular.module("jugendstadtplan.traeger").config(["$stateProvider",function(e){e.state("Form: Traeger",{url:"/traeger/create",views:{main:{controller:"TraegerFormController",templateUrl:"app/traeger/views/form.tpl.html"}},data:{pageTitle:"Träger erstellen"}})}]),Jugendstadtplan.Controllers.controller("TraegerFormController",["$scope","$location","Traeger","Kategorie","Upload",function(e,t,n,r,a){e.kategorien=r.query(),e.traeger=new n,e.traegers=n.query(),e.newTraeger=function(){e.traeger=new n,e.editing=!1},e.save=function(){e.traeger.id?n.update(e.traeger).then(function(){e.newTraeger()},function(){alert("Ein Träger mit dieser Email-Adresse existiert bereits!")}):e.traeger.$save().then(function(t){e.traegers.push(t),e.newTraeger()},function(){alert("Ein Träger mit dieser Email-Adresse existiert bereits!")})},e.setActiveTraeger=function(t){e.traeger=t,e.editing=!0},e.remove=function(t){n["delete"](t,function(){var n=e.traegers.indexOf(t);-1!=n&&e.traegers.splice(n,1)})},e.onFileSelect=function(t){for(var n=function(t){a.upload({url:"app_dev.php/img/upload",method:"POST",data:{myObj:e.myModelObj},file:t}).progress(function(e){console.log("percent: "+parseInt(100*e.loaded/e.total))}).success(function(n,r,a,i){void 0===e.traeger.bilder&&(e.traeger.bilder=[]),t.tmp_name=n.folder,e.traeger.bilder.push(t)})},r=0;r<t.length;r++){var i=t[r];e.upload=n(i)}},e.newAdresse={},e.addAdresse=function(){void 0===e.traeger.adressen&&(e.traeger.adressen=[]),e.traeger.adressen.push(e.newAdresse),e.newAdresse={}},e.isAdresseValid=function(e){return void 0===e.strasse||0===e.strasse.length?!1:void 0!==e.ort&&0!==e.ort.length}}]),angular.module("jugendstadtplan.traeger").config(["$stateProvider",function(e){e.state("Login: Traeger",{url:"/traeger/login",views:{main:{controller:"TraegerLoginController",templateUrl:"app/traeger/views/login.tpl.html"}},data:{pageTitle:"Einloggen"}})}]),Jugendstadtplan.Controllers.controller("TraegerLoginController",["$scope","$state","$window","LoginService","jwtHelper","Traeger",function(e,t,n,r,a,i){e.traeger=new i,e.login=function(){e.traeger.$login().then(function(e){r.login(e.token),t.go("Startseite")},function(t){e.error={msg:"Authentifizierung fehlgeschlagen!"}})}}]);var jugendstadtplanApi=angular.module("jugendstadtplan.api",["ngResource","angular-jwt"]);jugendstadtplanApi.config(["$httpProvider","jwtInterceptorProvider",function(e,t){t.tokenGetter=["config","LoginService",function(e,t){return".html"==e.url.substr(e.url.length-5)?null:t.getToken()}],e.interceptors.push("jwtInterceptor")}]);var backendPrefix="http://api.jugendstadtplan.dev/app_dev.php";jugendstadtplanApi.provider("Pin",function(){this.$get=["$resource",function(e){var t=backendPrefix+"/pins";return e(t,{},{get:{method:"GET",url:t+"/:id",params:{id:"@id"},skipAuthorization:!0},update:{method:"PUT",url:t+"/update/:id",params:{id:"@id"}},save:{method:"POST",url:t+"/create"},"delete":{method:"DELETE",url:t+"/delete/:id",params:{id:"@id"}}})}]}),jugendstadtplanApi.provider("Traeger",function(){this.$get=["$resource",function(e){var t=backendPrefix+"/traeger";return e(t,{},{get:{method:"GET",url:t+"/:id",params:{id:"@id"},skipAuthorization:!0},update:{method:"PUT",url:t+"/update/:id",params:{id:"@id"}},save:{method:"POST",url:t+"/create",skipAuthorization:!0},"delete":{method:"DELETE",url:t+"/delete/:id",params:{id:"@id"}},login:{method:"POST",skipAuthorization:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},url:backendPrefix+"/authentication/traeger_check",transformRequest:function(e,t){var n=[];for(var r in e)n.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return n.join("&")}}})}]}),jugendstadtplanApi.provider("Kategorie",function(){this.$get=["$resource",function(e){var t=backendPrefix+"/kategorie";return e(t)}]}),angular.module("jugendstadtplan.startseite").config(["$stateProvider",function(e){e.state("Startseite",{url:"/startseite",views:{main:{controller:"StartseiteController",templateUrl:"app/startseite/views/startseite.tpl.html"}},data:{pageTitle:"Startseite"}})}]),angular.module("jugendstadtplan.startseite").controller("StartseiteController",["$scope","$location","Pin",function(e,t,n){angular.extend(e,{center:{lat:50.732829246726,lng:7.0937004090117,zoom:13},defaults:{scrollWheelZoom:!1}}),e.markers=[],n.query(function(t){angular.forEach(t,function(t){if(null!=t.longitude){var n={lat:t.latitude,lng:t.longitude,title:t.titel,message:"<h3>"+t.titel+"</h3>"+t.beschreibung+'<small><a href="/#/pin/'+t.id+'">Mehr</a></small>'};e.markers.push(n)}})})}]),Jugendstadtplan.Controllers.controller("TerminFormController",["$scope",function(e){e.wochentage=["Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"],e.newTermin={},e.addTermin=function(){void 0===e.pin.termine&&(e.pin.termine=[]),e.pin.termine.push(e.newTermin),e.newTermin={}},e.isTerminValid=function(e){return void 0===e.beginn||0===e.beginn?!1:e.ganztaegig===!0||void 0!==e.beginn_uhrzeit&&0!==e.beginn_uhrzeit},e.woche_des_monats=[{id:0,label:"Jede Woche"},{id:1,label:"Jede 1. Woche"},{id:2,label:"Jede 2. Woche"},{id:3,label:"Jede 3. Woche"},{id:4,label:"Jede 4. Woche"},{id:5,label:"Jede 5. Woche"}],e.newWiederholung={},e.addWiederholung=function(){void 0===e.newTermin.wiederholungen&&(e.newTermin.wiederholungen=[]),e.newTermin.wiederholungen.push(e.newWiederholung),e.newWiederholung={}},e.isWiederholungValid=function(e){return void 0!==e.wochentag&&0!==e.wochentag}}]),angular.module("plusOne",[]).directive("plusOne",function(){return{link:function(e,t,n){gapi.plusone.render(t[0],{size:"medium",href:"http://bit.ly/ngBoilerplate"})}}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi9yZXNvdXJjZXMvTG9naW5TZXJ2aWNlLmpzIiwiYXBwL2xpbmtzL0xpbmtzTW9kdWxlLmpzIiwiYXBwL2Fuc3ByZWNocGFydG5lci9BbnNwcmVjaHBhcnRuZXJNb2R1bGUuanMiLCJhcHAvcGlucy9QaW5zTW9kdWxlLmpzIiwiYXBwL3RyYWVnZXIvVHJhZWdlck1vZHVsZS5qcyIsImFwcC9zdGFydHNlaXRlL1N0YXJ0c2VpdGVNb2R1bGUuanMiLCJhcHAvdGVybWluL1Rlcm1pbk1vZHVsZS5qcyIsImFwcC9hcHAuanMiLCJhcHAvbGlua3MvTGlua3NGb3JtQ29udHJvbGxlci5qcyIsImFwcC9hbnNwcmVjaHBhcnRuZXIvQW5zcHJlY2hwYXJ0bmVyRm9ybUNvbnRyb2xsZXIuanMiLCJhcHAvcGlucy9QaW5EZXRhaWxDb250cm9sbGVyLmpzIiwiYXBwL3BpbnMvUGluRm9ybUNvbnRyb2xsZXIuanMiLCJhcHAvcGlucy9QaW5zQ29udHJvbGxlci5qcyIsImFwcC90cmFlZ2VyL1RyYWVnZXJDb250cm9sbGVyLmpzIiwiYXBwL3RyYWVnZXIvVHJhZWdlckRldGFpbENvbnRyb2xsZXIuanMiLCJhcHAvdHJhZWdlci9UcmFlZ2VyRm9ybUNvbnRyb2xsZXIuanMiLCJhcHAvdHJhZWdlci9UcmFlZ2VyTG9naW5Db250cm9sbGVyLmpzIiwiY29tbW9uL3Jlc291cmNlcy9KdWdlbmRzdGFkdHBsYW5BcGkuanMiLCJhcHAvc3RhcnRzZWl0ZS9TdGFydHNlaXRlQ29udHJvbGxlci5qcyIsImFwcC90ZXJtaW4vVGVybWluRm9ybUNvbnRyb2xsZXIuanMiLCJjb21tb24vcGx1c09uZS9wbHVzT25lLmpzIl0sIm5hbWVzIjpbImp1Z2VuZHN0YWR0cGxhbkxvZ2luIiwiYW5ndWxhciIsIm1vZHVsZSIsInNlcnZpY2UiLCIkd2luZG93Iiwiand0SGVscGVyIiwiTG9naW5TZXJ2aWNlIiwiYXV0aGVudGljYXRlZCIsInRyYWVnZXIiLCJnZXRUb2tlbiIsInRva2VuIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInVuZGVmaW5lZCIsInNldFRva2VuIiwic2V0SXRlbSIsImlzVG9rZW5FeHBpcmVkIiwidGhpcyIsImdldEp1Z2VuZHN0YWR0cGxhblVzZXIiLCJzZXRKdWdlbmRzdGFkdHBsYW5Vc2VyIiwidXNlciIsImlzTG9nZ2VkSW4iLCJsb2dpbiIsImRlY29kZWQiLCJkZWNvZGVUb2tlbiIsImxvZ291dCIsInJlbW92ZUl0ZW0iLCJpbml0IiwiSnVnZW5kc3RhZHRwbGFuIiwiQ29udHJvbGxlcnMiLCJjb25maWciLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIm90aGVyd2lzZSIsInJ1biIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCIkc3RhdGUiLCIkb24iLCJldmVudCIsInRvU3RhdGUiLCJ0b1BhcmFtcyIsImZyb21TdGF0ZSIsImZyb21QYXJhbXMiLCJpc0RlZmluZWQiLCJkYXRhIiwicGFnZVRpdGxlIiwiZ28iLCJuZXdMaW5rIiwiYWRkTGluayIsIm1vZGVsIiwibGlua3MiLCJwdXNoIiwiaXNMaW5rVmFsaWQiLCJsaW5rIiwidGl0ZWwiLCJsZW5ndGgiLCJ1cmwiLCJuZXdBbnNwcmVjaHBhcnRuZXIiLCJhZGRBbnNwcmVjaHBhcnRuZXIiLCJhbnNwcmVjaHBhcnRuZXIiLCJpc0Fuc3ByZWNocGFydG5lclZhbGlkIiwibmFtZSIsImVtYWlsIiwic3RhdGUiLCJ2aWV3cyIsIm1haW4iLCJ0ZW1wbGF0ZVVybCIsInJlc29sdmUiLCJwaW5EZXRhaWwiLCIkc3RhdGVQYXJhbXMiLCJQaW4iLCJnZXQiLCJpZCIsIm1hcmtlcnMiLCJjZW50ZXIiLCJsYXQiLCJsbmciLCJ6b29tIiwiJHByb21pc2UiLCJ0aGVuIiwicGluIiwiZXh0ZW5kIiwiZGVmYXVsdHMiLCJzY3JvbGxXaGVlbFpvb20iLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsIm1hcmtlciIsInRpdGxlIiwiZm9jdXMiLCJtZXNzYWdlIiwiYmVzY2hyZWlidW5nIiwiJGxvY2F0aW9uIiwiVHJhZWdlciIsIkthdGVnb3JpZSIsImthdGVnb3JpZW4iLCJxdWVyeSIsInBpbnMiLCJ0cmFlZ2VycyIsImV2ZW50cyIsImFyZ3MiLCJsZWFmRXZlbnQiLCJsZWFmbGV0RXZlbnQiLCJsYXRsbmciLCJkcmFnZ2FibGUiLCJuZXdQaW4iLCJlZGl0aW5nIiwic2F2ZSIsInVwZGF0ZSIsIiRzYXZlIiwicmVzcG9uc2UiLCJzZXRBY3RpdmVQaW4iLCJyZW1vdmUiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJiYXJyaWVyZWZyZWloZWl0c2dyYWRlIiwia29zdGVuYXJ0ZW4iLCJtaW5kZXN0YWx0ZXJzIiwidmlld1BpbiIsInBhdGgiLCJ2aWV3VHJhZWdlciIsInRyYWVnZXJEZXRhaWwiLCJmb3JFYWNoIiwiaXRlbSIsImtleSIsIlVwbG9hZCIsIm5ld1RyYWVnZXIiLCJhbGVydCIsInNldEFjdGl2ZVRyYWVnZXIiLCJvbkZpbGVTZWxlY3QiLCIkZmlsZXMiLCJkb1VwbG9hZCIsImZpbGUiLCJ1cGxvYWQiLCJtZXRob2QiLCJteU9iaiIsIm15TW9kZWxPYmoiLCJwcm9ncmVzcyIsImV2dCIsImNvbnNvbGUiLCJsb2ciLCJwYXJzZUludCIsImxvYWRlZCIsInRvdGFsIiwic3VjY2VzcyIsInN0YXR1cyIsImhlYWRlcnMiLCJiaWxkZXIiLCJ0bXBfbmFtZSIsImZvbGRlciIsImkiLCJuZXdBZHJlc3NlIiwiYWRkQWRyZXNzZSIsImFkcmVzc2VuIiwiaXNBZHJlc3NlVmFsaWQiLCJhZHJlc3NlIiwic3RyYXNzZSIsIm9ydCIsIiRsb2dpbiIsImVycm9yIiwibXNnIiwianVnZW5kc3RhZHRwbGFuQXBpIiwiJGh0dHBQcm92aWRlciIsImp3dEludGVyY2VwdG9yUHJvdmlkZXIiLCJ0b2tlbkdldHRlciIsInN1YnN0ciIsImludGVyY2VwdG9ycyIsImJhY2tlbmRQcmVmaXgiLCJwcm92aWRlciIsIiRnZXQiLCIkcmVzb3VyY2UiLCJiYWNrZW5kVXJsIiwicGFyYW1zIiwic2tpcEF1dGhvcml6YXRpb24iLCJkZWxldGUiLCJDb250ZW50LVR5cGUiLCJ0cmFuc2Zvcm1SZXF1ZXN0IiwiaGVhZGVyc0dldHRlciIsInN0ciIsImQiLCJlbmNvZGVVUklDb21wb25lbnQiLCJqb2luIiwid29jaGVudGFnZSIsIm5ld1Rlcm1pbiIsImFkZFRlcm1pbiIsInRlcm1pbmUiLCJpc1Rlcm1pblZhbGlkIiwidGVybWluIiwiYmVnaW5uIiwiZ2FuenRhZWdpZyIsImJlZ2lubl91aHJ6ZWl0Iiwid29jaGVfZGVzX21vbmF0cyIsImxhYmVsIiwibmV3V2llZGVyaG9sdW5nIiwiYWRkV2llZGVyaG9sdW5nIiwid2llZGVyaG9sdW5nZW4iLCJpc1dpZWRlcmhvbHVuZ1ZhbGlkIiwid2llZGVyaG9sdW5nIiwid29jaGVudGFnIiwiZGlyZWN0aXZlIiwic2NvcGUiLCJlbGVtZW50IiwiYXR0cnMiLCJnYXBpIiwicGx1c29uZSIsInJlbmRlciIsInNpemUiLCJocmVmIl0sIm1hcHBpbmdzIjoiQUFBQSxHQUFBQSxzQkFBQUMsUUFBQUMsT0FBQSwyQkFFQUYsc0JBQUFHLFFBQUEsZ0JBQUEsVUFBQSxZQUFBLFNBQUFDLEVBQUFDLEdBQ0EsR0FBQUMsSUFDQUMsZUFBQSxFQUNBQyxRQUFBLEtBdURBLE9BcERBRixHQUFBRyxTQUFBLFdBQ0EsR0FBQUMsR0FBQU4sRUFBQU8sYUFBQUMsUUFBQSxXQUNBLE9BQUFDLFVBQUFILEVBQ0FBLEVBREEsUUFJQUosRUFBQVEsU0FBQSxTQUFBSixHQUNBTixFQUFBTyxhQUFBSSxRQUFBLFdBQUFMLElBR0FKLEVBQUFVLGVBQUEsV0FDQSxHQUFBTixHQUFBTyxLQUFBUixVQUNBLE9BQUFDLEdBQ0FMLEVBQUFXLGVBQUFOLElBR0EsR0FHQUosRUFBQVksdUJBQUEsV0FDQSxNQUFBRCxNQUFBVCxTQUVBRixFQUFBYSx1QkFBQSxTQUFBQyxHQUNBSCxLQUFBVCxRQUFBWSxHQUdBZCxFQUFBZSxXQUFBLFdBQ0EsTUFBQUosTUFBQVYsZUFFQUQsRUFBQWdCLE1BQUEsU0FBQVosR0FDQU8sS0FBQVYsZUFBQSxF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QUMsRUFBQUMsR0FDQUMsS0FBQUMsUUFBQUMsT0FBQUosRUFBQSxJQUNBSyxLQUFBLFNBQ0FDLEtBQUEiLCJmaWxlIjoianVnZW5kc3RhZHRwbGFuLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBqdWdlbmRzdGFkdHBsYW5Mb2dpbiA9IGFuZ3VsYXIubW9kdWxlKCdqdWdlbmRzdGFkdHBsYW4ubG9naW4nLCBbXSk7XG5cbmp1Z2VuZHN0YWR0cGxhbkxvZ2luLnNlcnZpY2UoJ0xvZ2luU2VydmljZScsIFsnJHdpbmRvdycsICdqd3RIZWxwZXInLCBmdW5jdGlvbigkd2luZG93LCBqd3RIZWxwZXIpIHtcbiAgICB2YXIgTG9naW5TZXJ2aWNlID0ge1xuICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZSxcbiAgICAgICAgdHJhZWdlcjogbnVsbFxuICAgIH07XG5cbiAgICBMb2dpblNlcnZpY2UuZ2V0VG9rZW4gPSBmdW5jdGlvbigpe1xuICAgICAgICB2YXIgdG9rZW4gPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqc3BUb2tlbicpO1xuICAgICAgICBpZiAodG9rZW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBMb2dpblNlcnZpY2Uuc2V0VG9rZW4gPSBmdW5jdGlvbih0b2tlbikge1xuICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdqc3BUb2tlbicsIHRva2VuKTtcbiAgICB9O1xuXG4gICAgTG9naW5TZXJ2aWNlLmlzVG9rZW5FeHBpcmVkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0b2tlbiA9IHRoaXMuZ2V0VG9rZW4oKTtcbiAgICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgICAgICByZXR1cm4gand0SGVscGVyLmlzVG9rZW5FeHBpcmVkKHRva2VuKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICBMb2dpblNlcnZpY2UuZ2V0SnVnZW5kc3RhZHRwbGFuVXNlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFlZ2VyO1xuICAgIH07XG4gICAgTG9naW5TZXJ2aWNlLnNldEp1Z2VuZHN0YWR0cGxhblVzZXIgPSBmdW5jdGlvbih1c2VyKSB7XG4gICAgICAgIHRoaXMudHJhZWdlciA9IHVzZXI7XG4gICAgfTtcblxuICAgIExvZ2luU2VydmljZS5pc0xvZ2dlZEluID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF1dGhlbnRpY2F0ZWQ7XG4gICAgfTtcbiAgICBMb2dpblNlcnZpY2UubG9naW4gPSBmdW5jdGlvbih0b2tlbikge1xuICAgICAgICB0aGlzLmF1dGhlbnRpY2F0ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnNldFRva2VuKHRva2VuKTtcblxuICAgICAgICB2YXIgZGVjb2RlZCA9IGp3dEhlbHBlci5kZWNvZGVUb2tlbih0b2tlbik7XG4gICAgICAgIHRoaXMuc2V0SnVnZW5kc3RhZHRwbGFuVXNlcihkZWNvZGVkLnRyYWVnZXIpO1xuICAgIH07XG4gICAgTG9naW5TZXJ2aWNlLmxvZ291dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnRyYWVnZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmF1dGhlbnRpY2F0ZWQgPSBmYWxzZTtcbiAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnanNwVG9rZW4nKTtcbiAgICB9O1xuICAgIExvZ2luU2VydmljZS5pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0b2tlbiA9IHRoaXMuZ2V0VG9rZW4oKTtcbiAgICAgICAgaWYgKHRva2VuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzVG9rZW5FeHBpcmVkKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ291dCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2luKHRva2VuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gTG9naW5TZXJ2aWNlO1xufV0pOyIsImFuZ3VsYXIubW9kdWxlKCAnanVnZW5kc3RhZHRwbGFuLmxpbmtzJywgW1xuXSk7IiwiYW5ndWxhci5tb2R1bGUoICdqdWdlbmRzdGFkdHBsYW4uYW5zcHJlY2hwYXJ0bmVyJywgW1xuXSk7IiwiYW5ndWxhci5tb2R1bGUoICdqdWdlbmRzdGFkdHBsYW4ucGlucycsIFtcbiAgJ3VpLnJvdXRlcicsXG4gICdqdWdlbmRzdGFkdHBsYW4ubGlua3MnLFxuICAnanVnZW5kc3RhZHRwbGFuLmFuc3ByZWNocGFydG5lcicsXG4gICdqdWdlbmRzdGFkdHBsYW4udGVybWluJ1xuXSk7IiwiYW5ndWxhci5tb2R1bGUoICdqdWdlbmRzdGFkdHBsYW4udHJhZWdlcicsIFtcbiAgJ3VpLnJvdXRlcicsXG4gICdqdWdlbmRzdGFkdHBsYW4ubG9naW4nLFxuICAnanVnZW5kc3RhZHRwbGFuLmxpbmtzJyxcbiAgJ2p1Z2VuZHN0YWR0cGxhbi5hbnNwcmVjaHBhcnRuZXInXG5dKTsiLCJhbmd1bGFyLm1vZHVsZSggJ2p1Z2VuZHN0YWR0cGxhbi5zdGFydHNlaXRlJywgW1xuICAndWkucm91dGVyJyxcbiAgJ2xlYWZsZXQtZGlyZWN0aXZlJ1xuXSk7IiwiYW5ndWxhci5tb2R1bGUoICdqdWdlbmRzdGFkdHBsYW4udGVybWluJywgW1xuXSk7IiwidmFyIEp1Z2VuZHN0YWR0cGxhbiA9IEp1Z2VuZHN0YWR0cGxhbiB8fCB7fTtcbkp1Z2VuZHN0YWR0cGxhbi5Db250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdqdWdlbmRzdGFkdHBsYW4uY29udHJvbGxlcnMnLCBbXSk7XG5cbmFuZ3VsYXIubW9kdWxlKCAnanVnZW5kc3RhZHRwbGFuJywgW1xuICAnbmdSZXNvdXJjZScsXG4gICduZ1Nhbml0aXplJyxcbiAgJ3VpLnJvdXRlcicsXG4gICdsZWFmbGV0LWRpcmVjdGl2ZScsXG4gICd0ZXh0QW5ndWxhcicsXG4gICduZ0ZpbGVVcGxvYWQnLFxuICAnYW5ndWxhci1qd3QnLFxuICAnanVnZW5kc3RhZHRwbGFuLnRlbXBsYXRlcycsXG4gICdqdWdlbmRzdGFkdHBsYW4ubG9naW4nLFxuICAnanVnZW5kc3RhZHRwbGFuLmFwaScsXG4gICdqdWdlbmRzdGFkdHBsYW4uc3RhcnRzZWl0ZScsXG4gICdqdWdlbmRzdGFkdHBsYW4ucGlucycsXG4gICdqdWdlbmRzdGFkdHBsYW4udHJhZWdlcicsXG4gICdqdWdlbmRzdGFkdHBsYW4uY29udHJvbGxlcnMnXG5dKVxuXG4uY29uZmlnKFsgJyRzdGF0ZVByb3ZpZGVyJywgJyR1cmxSb3V0ZXJQcm92aWRlcicsIGZ1bmN0aW9uIG15QXBwQ29uZmlnKCAkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyICkge1xuICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCAnL3N0YXJ0c2VpdGUnICk7XG59XSlcblxuLnJ1biggZnVuY3Rpb24gcnVuICgpIHtcbn0pXG5cbi5jb250cm9sbGVyKCAnQXBwQ3RybCcsIFsgJyRzY29wZScsICdMb2dpblNlcnZpY2UnLCAnJHN0YXRlJywgZnVuY3Rpb24gQXBwQ3RybCgkc2NvcGUsIExvZ2luU2VydmljZSwgJHN0YXRlKXtcblxuICAkc2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdWNjZXNzJywgZnVuY3Rpb24oZXZlbnQsIHRvU3RhdGUsIHRvUGFyYW1zLCBmcm9tU3RhdGUsIGZyb21QYXJhbXMpe1xuICAgIGlmICggYW5ndWxhci5pc0RlZmluZWQoIHRvU3RhdGUuZGF0YS5wYWdlVGl0bGUgKSApIHtcbiAgICAgICRzY29wZS5wYWdlVGl0bGUgPSB0b1N0YXRlLmRhdGEucGFnZVRpdGxlICsgJyB8IEp1Z2VuZHN0YWR0cGxhbicgO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gUmVpbml0YWxpemUgTG9naW5TZXJ2aWNlXG4gIExvZ2luU2VydmljZS5pbml0KCk7XG5cbiAgJHNjb3BlLmlzTG9nZ2VkSW4gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gTG9naW5TZXJ2aWNlLmlzTG9nZ2VkSW4oKTtcbiAgfTtcbiAgXG4gICRzY29wZS5nZXRKdWdlbmRzdGFkdHBsYW5Vc2VyID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIExvZ2luU2VydmljZS5nZXRKdWdlbmRzdGFkdHBsYW5Vc2VyKCk7XG4gIH07XG5cbiAgJHNjb3BlLmxvZ291dCA9IGZ1bmN0aW9uKCkge1xuICAgIExvZ2luU2VydmljZS5sb2dvdXQoKTtcblxuICAgICRzdGF0ZS5nbygnU3RhcnRzZWl0ZScpO1xuICB9O1xuXG59XSlcblxuOyIsIkp1Z2VuZHN0YWR0cGxhbi5Db250cm9sbGVycy5jb250cm9sbGVyKCAnTGlua3NGb3JtQ29udHJvbGxlcicsIFsgJyRzY29wZScsXG4gICAgZnVuY3Rpb24oJHNjb3BlKSB7XG5cbiAgICAgICAgLy8gTGlua3NcbiAgICAgICAgJHNjb3BlLm5ld0xpbmsgPSB7fTtcbiAgICAgICAgJHNjb3BlLmFkZExpbmsgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICgkc2NvcGUubW9kZWwubGlua3MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5tb2RlbC5saW5rcyA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHNjb3BlLm1vZGVsLmxpbmtzLnB1c2goJHNjb3BlLm5ld0xpbmspO1xuICAgICAgICAgICAgJHNjb3BlLm5ld0xpbmsgPSB7fTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuaXNMaW5rVmFsaWQgPSBmdW5jdGlvbihsaW5rKSB7XG4gICAgICAgICAgICBpZiAobGluay50aXRlbCA9PT0gdW5kZWZpbmVkIHx8IGxpbmsudGl0ZWwubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChsaW5rLnVybCA9PT0gdW5kZWZpbmVkIHx8IGxpbmsudXJsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9O1xuXG4gICAgfV0pOyIsIkp1Z2VuZHN0YWR0cGxhbi5Db250cm9sbGVycy5jb250cm9sbGVyKCAnQW5zcHJlY2hwYXJ0bmVyRm9ybUNvbnRyb2xsZXInLCBbICckc2NvcGUnLFxuICAgIGZ1bmN0aW9uKCRzY29wZSkge1xuXG4gICAgICAgIC8vIEFuc3ByZWNocGFydG5lclxuICAgICAgICAkc2NvcGUubmV3QW5zcHJlY2hwYXJ0bmVyID0ge307XG4gICAgICAgICRzY29wZS5hZGRBbnNwcmVjaHBhcnRuZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICgkc2NvcGUubW9kZWwuYW5zcHJlY2hwYXJ0bmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUubW9kZWwuYW5zcHJlY2hwYXJ0bmVyID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkc2NvcGUubW9kZWwuYW5zcHJlY2hwYXJ0bmVyLnB1c2goJHNjb3BlLm5ld0Fuc3ByZWNocGFydG5lcik7XG4gICAgICAgICAgICAkc2NvcGUubmV3QW5zcHJlY2hwYXJ0bmVyID0ge307XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmlzQW5zcHJlY2hwYXJ0bmVyVmFsaWQgPSBmdW5jdGlvbihhbnNwcmVjaHBhcnRuZXIpIHtcbiAgICAgICAgICAgIGlmIChhbnNwcmVjaHBhcnRuZXIubmFtZSA9PT0gdW5kZWZpbmVkIHx8IGFuc3ByZWNocGFydG5lci5uYW1lLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYW5zcHJlY2hwYXJ0bmVyLmVtYWlsID09PSB1bmRlZmluZWQgfHwgYW5zcHJlY2hwYXJ0bmVyLmVtYWlsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9O1xuXG4gICAgfV0pOyIsImFuZ3VsYXIubW9kdWxlKCdqdWdlbmRzdGFkdHBsYW4ucGlucycpLmNvbmZpZyhbJyRzdGF0ZVByb3ZpZGVyJywgZnVuY3Rpb24gY29uZmlnKCAkc3RhdGVQcm92aWRlciApIHtcbiAgXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCAnRGV0YWlsOiBQaW4nLCB7XG4gICAgdXJsOiAnL3Bpbi97aWQ6WzAtOV0rfScsXG4gICAgdmlld3M6IHtcbiAgICAgIFwibWFpblwiOiB7XG4gICAgICAgIGNvbnRyb2xsZXI6ICdQaW5EZXRhaWxDb250cm9sbGVyJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvcGlucy92aWV3cy9kZXRhaWwudHBsLmh0bWwnXG4gICAgICB9XG4gICAgfSxcbiAgICByZXNvbHZlOiB7XG4gICAgICBwaW5EZXRhaWw6IFsgJyRzdGF0ZVBhcmFtcycsICdQaW4nLCBmdW5jdGlvbigkc3RhdGVQYXJhbXMsIFBpbikge1xuICAgICAgICByZXR1cm4gUGluLmdldCh7fSx7aWQ6ICRzdGF0ZVBhcmFtcy5pZH0pO1xuICAgICAgfV1cbiAgICB9LFxuICAgIGRhdGE6eyBwYWdlVGl0bGU6ICdQaW4nIH1cbiAgfSk7XG5cbn1dKTtcblxuSnVnZW5kc3RhZHRwbGFuLkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoICdQaW5EZXRhaWxDb250cm9sbGVyJywgWyAnJHNjb3BlJywgJ3BpbkRldGFpbCcsIGZ1bmN0aW9uIFBpbkRldGFpbENvbnRyb2xsZXIoICRzY29wZSwgcGluRGV0YWlsICkge1xuICAgICRzY29wZS5tYXJrZXJzID0gW107XG4gICAgJHNjb3BlLmNlbnRlciA9IHtcbiAgICAgICAgbGF0OiA1MC43MzI4MjkyNDY3MjYsXG4gICAgICAgIGxuZzogNy4wOTM3MDA0MDkwMTE3LFxuICAgICAgICB6b29tOiAxM1xuICAgIH07XG5cbiAgICBwaW5EZXRhaWwuJHByb21pc2UudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRzY29wZS5waW4gPSBwaW5EZXRhaWw7XG5cbiAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKCRzY29wZSwge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRzOiB7XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFdoZWVsWm9vbTogZmFsc2VcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJHNjb3BlLmNlbnRlciA9IHtcbiAgICAgICAgICAgICAgICBsYXQ6IHBpbkRldGFpbC5sYXRpdHVkZSxcbiAgICAgICAgICAgICAgICBsbmc6IHBpbkRldGFpbC5sb25naXR1ZGUsXG4gICAgICAgICAgICAgICAgem9vbTogMTVcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciBtYXJrZXIgPSB7XG4gICAgICAgICAgICAgICAgbGF0OiBwaW5EZXRhaWwubGF0aXR1ZGUsXG4gICAgICAgICAgICAgICAgbG5nOiBwaW5EZXRhaWwubG9uZ2l0dWRlLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBwaW5EZXRhaWwudGl0ZWwsXG4gICAgICAgICAgICAgICAgZm9jdXM6IHRydWUsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJzxoMz4nICsgcGluRGV0YWlsLnRpdGVsICsgJzwvaDM+JyArIHBpbkRldGFpbC5iZXNjaHJlaWJ1bmcsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgJHNjb3BlLm1hcmtlcnMucHVzaChtYXJrZXIpO1xuICAgICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKCRzY29wZSwge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRzOiB7XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFdoZWVsWm9vbTogZmFsc2VcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICk7XG59XSk7IiwiYW5ndWxhci5tb2R1bGUoJ2p1Z2VuZHN0YWR0cGxhbi5waW5zJykuY29uZmlnKFsnJHN0YXRlUHJvdmlkZXInLCBmdW5jdGlvbiBjb25maWcoICRzdGF0ZVByb3ZpZGVyICkge1xuXG4gICAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoICdGb3JtOiBQaW4nLCB7XG4gICAgICAgIHVybDogJy9waW4vY3JlYXRlJyxcbiAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgIFwibWFpblwiOiB7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ1BpbkZvcm1Db250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC9waW5zL3ZpZXdzL2Zvcm0udHBsLmh0bWwnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGRhdGE6eyBwYWdlVGl0bGU6ICdQaW4gZXJzdGVsbGVuJyB9XG4gICAgfSk7XG5cbn1dKTtcblxuSnVnZW5kc3RhZHRwbGFuLkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoICdQaW5Gb3JtQ29udHJvbGxlcicsIFsgJyRzY29wZScsICckbG9jYXRpb24nLCAnUGluJywgJ1RyYWVnZXInLCAnS2F0ZWdvcmllJywgZnVuY3Rpb24gUGluRm9ybUNvbnRyb2xsZXIoICRzY29wZSwgJGxvY2F0aW9uLCBQaW4sIFRyYWVnZXIsIEthdGVnb3JpZSApIHtcbiAgICAkc2NvcGUua2F0ZWdvcmllbiA9IEthdGVnb3JpZS5xdWVyeSgpO1xuICAgICRzY29wZS5waW4gPSBuZXcgUGluKCk7XG4gICAgJHNjb3BlLnBpbnMgPSBQaW4ucXVlcnkoKTtcbiAgICAkc2NvcGUudHJhZWdlcnMgPSBUcmFlZ2VyLnF1ZXJ5KCk7XG5cbiAgICBhbmd1bGFyLmV4dGVuZCgkc2NvcGUsIHtcbiAgICAgICAgY2VudGVyOiB7XG4gICAgICAgICAgICBsYXQ6IDUwLjczMjgyOTI0NjcyNixcbiAgICAgICAgICAgIGxuZzogNy4wOTM3MDA0MDkwMTE3LFxuICAgICAgICAgICAgem9vbTogMTNcbiAgICAgICAgfSxcbiAgICAgICAgZGVmYXVsdHM6IHtcbiAgICAgICAgICAgIHNjcm9sbFdoZWVsWm9vbTogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgZXZlbnRzOiB7fVxuICAgIH0pO1xuXG4gICAgJHNjb3BlLnBpbi5tYXJrZXJzID0gW107XG4gICAgJHNjb3BlLiRvbihcImxlYWZsZXREaXJlY3RpdmVNYXAuY2xpY2tcIiwgZnVuY3Rpb24oZXZlbnQsIGFyZ3Mpe1xuICAgICAgICB2YXIgbGVhZkV2ZW50ID0gYXJncy5sZWFmbGV0RXZlbnQ7XG5cbiAgICAgICAgJHNjb3BlLnBpbi5tYXJrZXJzWzBdID0ge1xuICAgICAgICAgICAgbGF0OiBsZWFmRXZlbnQubGF0bG5nLmxhdCxcbiAgICAgICAgICAgIGxuZzogbGVhZkV2ZW50LmxhdGxuZy5sbmcsXG4gICAgICAgICAgICBkcmFnZ2FibGU6IHRydWUsXG4gICAgICAgICAgICBmb2N1czogdHJ1ZVxuICAgICAgICB9O1xuICAgIH0pO1xuXG4gICAgJHNjb3BlLm5ld1BpbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAkc2NvcGUucGluID0gbmV3IFBpbigpO1xuICAgICAgICAkc2NvcGUucGluLm1hcmtlcnMgPSBbXTtcbiAgICAgICAgJHNjb3BlLmVkaXRpbmcgPSBmYWxzZTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLnNhdmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCRzY29wZS5waW4uaWQpIHtcbiAgICAgICAgICAgIFBpbi51cGRhdGUoJHNjb3BlLnBpbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkc2NvcGUucGluLiRzYXZlKCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICRzY29wZS5waW5zLnB1c2gocmVzcG9uc2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgJHNjb3BlLm5ld1BpbigpO1xuICAgIH07XG5cbiAgICAkc2NvcGUuc2V0QWN0aXZlUGluID0gZnVuY3Rpb24ocGluKSB7XG4gICAgICAgICRzY29wZS5waW4gPSBwaW47XG4gICAgICAgICRzY29wZS5waW4ubWFya2VycyA9IFtdO1xuICAgICAgICBpZiAocGluLmxvbmdpdHVkZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAkc2NvcGUucGluLm1hcmtlcnNbMF0gPSB7XG4gICAgICAgICAgICAgICAgbGF0OiBwaW4ubGF0aXR1ZGUsXG4gICAgICAgICAgICAgICAgbG5nOiBwaW4ubG9uZ2l0dWRlLFxuICAgICAgICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBmb2N1czogdHJ1ZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAkc2NvcGUuZWRpdGluZyA9IHRydWU7XG4gICAgfTtcblxuICAgICRzY29wZS5yZW1vdmUgPSBmdW5jdGlvbihwaW4pIHtcbiAgICAgICAgUGluLmRlbGV0ZShwaW4sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLnBpbnMuaW5kZXhPZihwaW4pO1xuICAgICAgICAgICAgaWYgKGluZGV4ICE9IC0xKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnBpbnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuXG4gICAgLy8gQmFycmllcmVmcmVpaGVpdHNncmFkZVxuICAgICRzY29wZS5iYXJyaWVyZWZyZWloZWl0c2dyYWRlID0gWyAnR3V0JywgJ1RlaWx3ZWlzZScsICdOaWNodCBiYXJyaWVyZWZyZWknIF07XG5cblxuICAgIC8vIEtvc3RlbmFydGVuXG4gICAgJHNjb3BlLmtvc3RlbmFydGVuID0gWyAnS29zdGVubG9zJywgJ0tvc3RlbnBmbGljaHRpZycgXTtcblxuXG4gICAgLy8gTWluZGVzdGFsdGVyXG4gICAgJHNjb3BlLm1pbmRlc3RhbHRlcnMgPSBbICdhYiAxMicsICdhYiAxNicsICdhYiAxOCcsICdhYiAyMScgXTtcblxuXG5cbn1dKTsiLCJhbmd1bGFyLm1vZHVsZSgnanVnZW5kc3RhZHRwbGFuLnBpbnMnKS5jb25maWcoWyAnJHN0YXRlUHJvdmlkZXInLCBmdW5jdGlvbiBjb25maWcoICRzdGF0ZVByb3ZpZGVyICkge1xuICBcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoICdMaXN0ZTogUGluJywge1xuICAgIHVybDogJy9waW5zJyxcbiAgICB2aWV3czoge1xuICAgICAgXCJtYWluXCI6IHtcbiAgICAgICAgY29udHJvbGxlcjogJ1BpbnNDb250cm9sbGVyJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvcGlucy92aWV3cy9saXN0LnRwbC5odG1sJ1xuICAgICAgfVxuICAgIH0sXG4gICAgZGF0YTp7IHBhZ2VUaXRsZTogJ1BpbnMnIH1cbiAgfSk7XG5cbn1dKTtcblxuSnVnZW5kc3RhZHRwbGFuLkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoICdQaW5zQ29udHJvbGxlcicsIFsgJyRzY29wZScsICckbG9jYXRpb24nLCAnUGluJywgZnVuY3Rpb24gUGluc0NvbnRyb2xsZXIoICRzY29wZSwgJGxvY2F0aW9uLCBQaW4gKSB7XG4gICAgJHNjb3BlLnBpbnMgPSBQaW4ucXVlcnkoKTtcblxuICAgICRzY29wZS52aWV3UGluID0gZnVuY3Rpb24gKHBpbikge1xuICAgICAgJGxvY2F0aW9uLnBhdGgoJy9waW4vJytwaW4uaWQpO1xuICAgIH07XG5cbn1dKTsiLCJhbmd1bGFyLm1vZHVsZSgnanVnZW5kc3RhZHRwbGFuLnRyYWVnZXInKS5jb25maWcoWyckc3RhdGVQcm92aWRlcicsIGZ1bmN0aW9uIGNvbmZpZyggJHN0YXRlUHJvdmlkZXIgKSB7XG4gIFxuICAkc3RhdGVQcm92aWRlci5zdGF0ZSggJ0xpc3RlOiBUcmFlZ2VyJywge1xuICAgIHVybDogJy90cmFlZ2VyJyxcbiAgICB2aWV3czoge1xuICAgICAgXCJtYWluXCI6IHtcbiAgICAgICAgY29udHJvbGxlcjogJ1RyYWVnZXJDb250cm9sbGVyJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvdHJhZWdlci92aWV3cy9saXN0ZS50cGwuaHRtbCdcbiAgICAgIH1cbiAgICB9LFxuICAgIGRhdGE6eyBwYWdlVGl0bGU6ICdUcsOkZ2VyJyB9XG4gIH0pO1xuXG59XSk7XG5cbkp1Z2VuZHN0YWR0cGxhbi5Db250cm9sbGVycy5jb250cm9sbGVyKCAnVHJhZWdlckNvbnRyb2xsZXInLCBbICckc2NvcGUnLCAnJGxvY2F0aW9uJywgJ1RyYWVnZXInLCBmdW5jdGlvbiBUcmFlZ2VyQ29udHJvbGxlciggJHNjb3BlLCAkbG9jYXRpb24sIFRyYWVnZXIgKSB7XG4gICAgJHNjb3BlLnRyYWVnZXIgPSBUcmFlZ2VyLnF1ZXJ5KCk7XG5cbiAgICAkc2NvcGUudmlld1RyYWVnZXIgPSBmdW5jdGlvbiAodHJhZWdlcikge1xuICAgICAgJGxvY2F0aW9uLnBhdGgoJy90cmFlZ2VyLycrdHJhZWdlci5pZCk7XG4gICAgfTtcblxufV0pOyIsImFuZ3VsYXIubW9kdWxlKCdqdWdlbmRzdGFkdHBsYW4udHJhZWdlcicpLmNvbmZpZyhbJyRzdGF0ZVByb3ZpZGVyJywgZnVuY3Rpb24gY29uZmlnKCAkc3RhdGVQcm92aWRlciApIHtcbiAgXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCAnRGV0YWlsOiBUcmFlZ2VyJywge1xuICAgIHVybDogJy90cmFlZ2VyL3tpZDpbMC05XSt9JyxcbiAgICB2aWV3czoge1xuICAgICAgXCJtYWluXCI6IHtcbiAgICAgICAgY29udHJvbGxlcjogJ1RyYWVnZXJEZXRhaWxDb250cm9sbGVyJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvdHJhZWdlci92aWV3cy9kZXRhaWwudHBsLmh0bWwnXG4gICAgICB9XG4gICAgfSxcbiAgICByZXNvbHZlOiB7XG4gICAgICB0cmFlZ2VyRGV0YWlsOiBbICckc3RhdGVQYXJhbXMnLCAnVHJhZWdlcicsIGZ1bmN0aW9uKCRzdGF0ZVBhcmFtcywgVHJhZWdlcikge1xuICAgICAgICByZXR1cm4gVHJhZWdlci5nZXQoe30se2lkOiAkc3RhdGVQYXJhbXMuaWR9KTtcbiAgICAgIH1dXG4gICAgfSxcbiAgICBkYXRhOnsgcGFnZVRpdGxlOiAnVHLDpGdlcicgfVxuICB9KTtcblxufV0pO1xuXG5KdWdlbmRzdGFkdHBsYW4uQ29udHJvbGxlcnMuY29udHJvbGxlciggJ1RyYWVnZXJEZXRhaWxDb250cm9sbGVyJywgWyAnJHNjb3BlJywgJ3RyYWVnZXJEZXRhaWwnLCBmdW5jdGlvbiBUcmFlZ2VyRGV0YWlsQ29udHJvbGxlciggJHNjb3BlLCB0cmFlZ2VyRGV0YWlsICkge1xuICAgICRzY29wZS50cmFlZ2VyID0gdHJhZWdlckRldGFpbDtcblxuICAgIGFuZ3VsYXIuZXh0ZW5kKCRzY29wZSwge1xuICAgICAgICBjZW50ZXI6IHtcbiAgICAgICAgICAgIGxhdDogNTAuNzMyODI5MjQ2NzI2LFxuICAgICAgICAgICAgbG5nOiA3LjA5MzcwMDQwOTAxMTcsXG4gICAgICAgICAgICB6b29tOiAxM1xuICAgICAgICB9LFxuICAgICAgICBkZWZhdWx0czoge1xuICAgICAgICAgICAgc2Nyb2xsV2hlZWxab29tOiBmYWxzZVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAkc2NvcGUubWFya2VycyA9IFtdO1xuXG4gICAgdHJhZWdlckRldGFpbC4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICBhbmd1bGFyLmZvckVhY2godHJhZWdlckRldGFpbC5waW5zLCBmdW5jdGlvbihpdGVtLCBrZXkpIHtcbiAgICAgICAgICAgIHZhciBtYXJrZXIgPSB7XG4gICAgICAgICAgICAgICAgbGF0OiBpdGVtLmxhdGl0dWRlLFxuICAgICAgICAgICAgICAgIGxuZzogaXRlbS5sb25naXR1ZGUsXG4gICAgICAgICAgICAgICAgdGl0bGU6IGl0ZW0udGl0ZWwsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJzxoMz4nICsgaXRlbS50aXRlbCArICc8L2gzPicgKyBpdGVtLmJlc2NocmVpYnVuZyArICc8c21hbGw+PGEgaHJlZj1cIicgKyAnLyMvcGluLycraXRlbS5pZCArICdcIj5NZWhyPC9hPjwvc21hbGw+J1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICRzY29wZS5tYXJrZXJzLnB1c2gobWFya2VyKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XSk7IiwiYW5ndWxhci5tb2R1bGUoJ2p1Z2VuZHN0YWR0cGxhbi50cmFlZ2VyJykuY29uZmlnKFsnJHN0YXRlUHJvdmlkZXInLCBmdW5jdGlvbiBjb25maWcoICRzdGF0ZVByb3ZpZGVyICkge1xuXG4gICAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoICdGb3JtOiBUcmFlZ2VyJywge1xuICAgICAgICB1cmw6ICcvdHJhZWdlci9jcmVhdGUnLFxuICAgICAgICB2aWV3czoge1xuICAgICAgICAgICAgXCJtYWluXCI6IHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnVHJhZWdlckZvcm1Db250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC90cmFlZ2VyL3ZpZXdzL2Zvcm0udHBsLmh0bWwnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGRhdGE6eyBwYWdlVGl0bGU6ICdUcsOkZ2VyIGVyc3RlbGxlbicgfVxuICAgIH0pO1xuXG59XSk7XG5cbkp1Z2VuZHN0YWR0cGxhbi5Db250cm9sbGVycy5jb250cm9sbGVyKCAnVHJhZWdlckZvcm1Db250cm9sbGVyJywgWyAnJHNjb3BlJywgJyRsb2NhdGlvbicsICdUcmFlZ2VyJywgJ0thdGVnb3JpZScsICdVcGxvYWQnLCBmdW5jdGlvbiBUcmFlZ2VyRm9ybUNvbnRyb2xsZXIoICRzY29wZSwgJGxvY2F0aW9uLCBUcmFlZ2VyLCBLYXRlZ29yaWUsIFVwbG9hZCApIHtcbiAgICAkc2NvcGUua2F0ZWdvcmllbiA9IEthdGVnb3JpZS5xdWVyeSgpO1xuICAgICRzY29wZS50cmFlZ2VyID0gbmV3IFRyYWVnZXIoKTtcbiAgICAkc2NvcGUudHJhZWdlcnMgPSBUcmFlZ2VyLnF1ZXJ5KCk7XG5cbiAgICAkc2NvcGUubmV3VHJhZWdlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAkc2NvcGUudHJhZWdlciA9IG5ldyBUcmFlZ2VyKCk7XG4gICAgICAgICRzY29wZS5lZGl0aW5nID0gZmFsc2U7XG4gICAgfTtcblxuICAgICRzY29wZS5zYXZlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgkc2NvcGUudHJhZWdlci5pZCkge1xuICAgICAgICAgICAgVHJhZWdlci51cGRhdGUoJHNjb3BlLnRyYWVnZXIpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLm5ld1RyYWVnZXIoKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGFsZXJ0KCdFaW4gVHLDpGdlciBtaXQgZGllc2VyIEVtYWlsLUFkcmVzc2UgZXhpc3RpZXJ0IGJlcmVpdHMhJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICRzY29wZS50cmFlZ2VyLiRzYXZlKCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICRzY29wZS50cmFlZ2Vycy5wdXNoKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV3VHJhZWdlcigpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgYWxlcnQoJ0VpbiBUcsOkZ2VyIG1pdCBkaWVzZXIgRW1haWwtQWRyZXNzZSBleGlzdGllcnQgYmVyZWl0cyEnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgICRzY29wZS5zZXRBY3RpdmVUcmFlZ2VyID0gZnVuY3Rpb24odHJhZWdlcikge1xuICAgICAgICAkc2NvcGUudHJhZWdlciA9IHRyYWVnZXI7XG4gICAgICAgICRzY29wZS5lZGl0aW5nID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLnJlbW92ZSA9IGZ1bmN0aW9uKHRyYWVnZXIpIHtcbiAgICAgICAgVHJhZWdlci5kZWxldGUodHJhZWdlciwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSAkc2NvcGUudHJhZWdlcnMuaW5kZXhPZih0cmFlZ2VyKTtcbiAgICAgICAgICAgIGlmIChpbmRleCAhPSAtMSkge1xuICAgICAgICAgICAgICAgICRzY29wZS50cmFlZ2Vycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLy8gQmlsZGVyXG4gICAgJHNjb3BlLm9uRmlsZVNlbGVjdCA9IGZ1bmN0aW9uKCRmaWxlcykge1xuICAgICAgICB2YXIgZG9VcGxvYWQgPSBmdW5jdGlvbihmaWxlKSB7XG4gICAgICAgICAgICBVcGxvYWQudXBsb2FkKHtcbiAgICAgICAgICAgICAgICB1cmw6ICdhcHBfZGV2LnBocC9pbWcvdXBsb2FkJywgLy91cGxvYWQucGhwIHNjcmlwdCwgbm9kZS5qcyByb3V0ZSwgb3Igc2VydmxldCB1cmxcbiAgICAgICAgICAgICAgICAvLyBtZXRob2Q6ICdQT1NUJyBvciAnUFVUJyxcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICAvLyBoZWFkZXJzOiB7J2hlYWRlci1rZXknOiAnaGVhZGVyLXZhbHVlJ30sXG4gICAgICAgICAgICAgICAgLy8gd2l0aENyZWRlbnRpYWxzOiB0cnVlLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtteU9iajogJHNjb3BlLm15TW9kZWxPYmp9LFxuICAgICAgICAgICAgICAgIGZpbGU6IGZpbGUgLy8gb3IgbGlzdCBvZiBmaWxlczogJGZpbGVzIGZvciBodG1sNSBvbmx5XG4gICAgICAgICAgICAgICAgLy8gZmlsZU5hbWU6ICdkb2MuanBnJyBvciBbJzEuanBnJywgJzIuanBnJywgLi4uXSAvLyB0byBtb2RpZnkgdGhlIG5hbWUgb2YgdGhlIGZpbGVcbiAgICAgICAgICAgICAgICAvKiBjdXN0b21pemUgZmlsZSBmb3JtRGF0YSBuYW1lICgnQ29udGVudC1EZXNwb3NpdGlvbicpLCBzZXJ2ZXIgc2lkZSBmaWxlIHZhcmlhYmxlIG5hbWUuXG4gICAgICAgICAgICAgICAgIERlZmF1bHQgaXMgJ2ZpbGUnICovXG4gICAgICAgICAgICAgICAgLy9maWxlRm9ybURhdGFOYW1lOiBteUZpbGUsIC8vb3IgYSBsaXN0IG9mIG5hbWVzIGZvciBtdWx0aXBsZSBmaWxlcyAoaHRtbDUpLlxuICAgICAgICAgICAgICAgIC8qIGN1c3RvbWl6ZSBob3cgZGF0YSBpcyBhZGRlZCB0byBmb3JtRGF0YS4gU2VlICM0MCNpc3N1ZWNvbW1lbnQtMjg2MTIwMDAgZm9yIHNhbXBsZSBjb2RlICovXG4gICAgICAgICAgICAgICAgLy9mb3JtRGF0YUFwcGVuZGVyOiBmdW5jdGlvbihmb3JtRGF0YSwga2V5LCB2YWwpe31cbiAgICAgICAgICAgIH0pLnByb2dyZXNzKGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncGVyY2VudDogJyArIHBhcnNlSW50KDEwMC4wICogZXZ0LmxvYWRlZCAvIGV2dC50b3RhbCkpO1xuICAgICAgICAgICAgfSkuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcbiAgICAgICAgICAgICAgICAvLyBmaWxlIGlzIHVwbG9hZGVkIHN1Y2Nlc3NmdWxseVxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUudHJhZWdlci5iaWxkZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUudHJhZWdlci5iaWxkZXIgPSBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmlsZS50bXBfbmFtZSA9IGRhdGEuZm9sZGVyO1xuICAgICAgICAgICAgICAgICRzY29wZS50cmFlZ2VyLmJpbGRlci5wdXNoKGZpbGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLy5lcnJvciguLi4pXG4gICAgICAgICAgICAvLy50aGVuKHN1Y2Nlc3MsIGVycm9yLCBwcm9ncmVzcyk7XG4gICAgICAgICAgICAvLy54aHIoZnVuY3Rpb24oeGhyKXt4aHIudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoLi4uKX0pLy8gYWNjZXNzIGFuZCBhdHRhY2ggYW55IGV2ZW50IGxpc3RlbmVyIHRvIFhNTEh0dHBSZXF1ZXN0LlxuICAgICAgICB9O1xuXG4gICAgICAgIC8vJGZpbGVzOiBhbiBhcnJheSBvZiBmaWxlcyBzZWxlY3RlZCwgZWFjaCBmaWxlIGhhcyBuYW1lLCBzaXplLCBhbmQgdHlwZS5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAkZmlsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBmaWxlID0gJGZpbGVzW2ldO1xuICAgICAgICAgICAgJHNjb3BlLnVwbG9hZCA9IGRvVXBsb2FkKGZpbGUpO1xuICAgICAgICB9XG4gICAgfTtcblxuXG4gICAgLy8gQWRyZXNzZW5cbiAgICAkc2NvcGUubmV3QWRyZXNzZSA9IHt9O1xuICAgICRzY29wZS5hZGRBZHJlc3NlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgkc2NvcGUudHJhZWdlci5hZHJlc3NlbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAkc2NvcGUudHJhZWdlci5hZHJlc3NlbiA9IFtdO1xuICAgICAgICB9XG4gICAgICAgICRzY29wZS50cmFlZ2VyLmFkcmVzc2VuLnB1c2goJHNjb3BlLm5ld0FkcmVzc2UpO1xuICAgICAgICAkc2NvcGUubmV3QWRyZXNzZSA9IHt9O1xuICAgIH07XG5cbiAgICAkc2NvcGUuaXNBZHJlc3NlVmFsaWQgPSBmdW5jdGlvbihhZHJlc3NlKSB7XG4gICAgICAgIGlmIChhZHJlc3NlLnN0cmFzc2UgPT09IHVuZGVmaW5lZCB8fCBhZHJlc3NlLnN0cmFzc2UubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAoYWRyZXNzZS5vcnQgPT09IHVuZGVmaW5lZCB8fCBhZHJlc3NlLm9ydC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG59XSk7IiwiYW5ndWxhci5tb2R1bGUoJ2p1Z2VuZHN0YWR0cGxhbi50cmFlZ2VyJykuY29uZmlnKFsnJHN0YXRlUHJvdmlkZXInLCBmdW5jdGlvbiBjb25maWcoICRzdGF0ZVByb3ZpZGVyICkge1xuXG4gICAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoICdMb2dpbjogVHJhZWdlcicsIHtcbiAgICAgICAgdXJsOiAnL3RyYWVnZXIvbG9naW4nLFxuICAgICAgICB2aWV3czoge1xuICAgICAgICAgICAgXCJtYWluXCI6IHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnVHJhZWdlckxvZ2luQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvdHJhZWdlci92aWV3cy9sb2dpbi50cGwuaHRtbCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZGF0YTp7IHBhZ2VUaXRsZTogJ0VpbmxvZ2dlbicgfVxuICAgIH0pO1xuXG59XSk7XG5cbkp1Z2VuZHN0YWR0cGxhbi5Db250cm9sbGVycy5jb250cm9sbGVyKCAnVHJhZWdlckxvZ2luQ29udHJvbGxlcicsIFsgJyRzY29wZScsICckc3RhdGUnLCAnJHdpbmRvdycsICdMb2dpblNlcnZpY2UnLCAnand0SGVscGVyJywgJ1RyYWVnZXInLCBmdW5jdGlvbiBUcmFlZ2VyTG9naW5Db250cm9sbGVyKCAkc2NvcGUsICRzdGF0ZSwgJHdpbmRvdywgTG9naW5TZXJ2aWNlLCBqd3RIZWxwZXIsIFRyYWVnZXIpIHtcblxuICAgICRzY29wZS50cmFlZ2VyID0gbmV3IFRyYWVnZXIoKTtcblxuICAgICRzY29wZS5sb2dpbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAkc2NvcGUudHJhZWdlci4kbG9naW4oKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBMb2dpblNlcnZpY2UubG9naW4ocmVzcG9uc2UudG9rZW4pO1xuXG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdTdGFydHNlaXRlJyk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgICAgICAgICRzY29wZS5lcnJvciA9IHtcbiAgICAgICAgICAgICAgICAgICAgbXNnOiAnQXV0aGVudGlmaXppZXJ1bmcgZmVobGdlc2NobGFnZW4hJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH07XG59XSk7XG4iLCJ2YXIganVnZW5kc3RhZHRwbGFuQXBpID0gYW5ndWxhci5tb2R1bGUoJ2p1Z2VuZHN0YWR0cGxhbi5hcGknLCBbJ25nUmVzb3VyY2UnLCAnYW5ndWxhci1qd3QnXSk7XG5cbmp1Z2VuZHN0YWR0cGxhbkFwaS5jb25maWcoWyckaHR0cFByb3ZpZGVyJywgJ2p3dEludGVyY2VwdG9yUHJvdmlkZXInLCBmdW5jdGlvbigkaHR0cFByb3ZpZGVyLCBqd3RJbnRlcmNlcHRvclByb3ZpZGVyKSB7XG5cbiAgICBqd3RJbnRlcmNlcHRvclByb3ZpZGVyLnRva2VuR2V0dGVyID0gWydjb25maWcnLCAnTG9naW5TZXJ2aWNlJywgZnVuY3Rpb24oY29uZmlnLCBMb2dpblNlcnZpY2UpIHtcbiAgICAgICAgLy8gU2tpcCBhdXRoZW50aWNhdGlvbiBmb3IgYW55IHJlcXVlc3RzIGVuZGluZyBpbiAuaHRtbFxuICAgICAgICBpZiAoY29uZmlnLnVybC5zdWJzdHIoY29uZmlnLnVybC5sZW5ndGggLSA1KSA9PSAnLmh0bWwnKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBMb2dpblNlcnZpY2UuZ2V0VG9rZW4oKTtcbiAgICB9XTtcblxuICAgICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goJ2p3dEludGVyY2VwdG9yJyk7XG59XSk7XG5cbnZhciBiYWNrZW5kUHJlZml4ID0gJ2h0dHA6Ly9hcGkuanVnZW5kc3RhZHRwbGFuLmRldi9hcHBfZGV2LnBocCc7XG5cbmp1Z2VuZHN0YWR0cGxhbkFwaS5wcm92aWRlcignUGluJywgZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kZ2V0ID0gWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XG4gICAgICAgIHZhciBiYWNrZW5kVXJsID0gYmFja2VuZFByZWZpeCArICcvcGlucyc7XG4gICAgICAgIHJldHVybiAkcmVzb3VyY2UoYmFja2VuZFVybCwge30sIHtcbiAgICAgICAgICAgIGdldDoge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICAgICAgdXJsOiBiYWNrZW5kVXJsICsgJy86aWQnLFxuICAgICAgICAgICAgICAgIHBhcmFtczogeyBpZDonQGlkJ30sXG4gICAgICAgICAgICAgICAgc2tpcEF1dGhvcml6YXRpb246IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1cGRhdGU6IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgICAgIHVybDogYmFja2VuZFVybCArICcvdXBkYXRlLzppZCcsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7IGlkOidAaWQnfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNhdmU6IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICB1cmw6IGJhY2tlbmRVcmwgKyAnL2NyZWF0ZSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWxldGU6IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICAgICAgICAgIHVybDogYmFja2VuZFVybCArICcvZGVsZXRlLzppZCcsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7IGlkOidAaWQnfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XTtcbn0pO1xuXG5qdWdlbmRzdGFkdHBsYW5BcGkucHJvdmlkZXIoJ1RyYWVnZXInLCBmdW5jdGlvbigpIHtcbiAgICB0aGlzLiRnZXQgPSBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcbiAgICAgICAgdmFyIGJhY2tlbmRVcmwgPSBiYWNrZW5kUHJlZml4ICsgJy90cmFlZ2VyJztcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShiYWNrZW5kVXJsLCB7fSwge1xuICAgICAgICAgICAgZ2V0OiB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICB1cmw6IGJhY2tlbmRVcmwgKyAnLzppZCcsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7IGlkOidAaWQnfSxcbiAgICAgICAgICAgICAgICBza2lwQXV0aG9yaXphdGlvbjogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVwZGF0ZToge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICAgICAgdXJsOiBiYWNrZW5kVXJsICsgJy91cGRhdGUvOmlkJyxcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHsgaWQ6J0BpZCd9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2F2ZToge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIHVybDogYmFja2VuZFVybCArICcvY3JlYXRlJyxcbiAgICAgICAgICAgICAgICBza2lwQXV0aG9yaXphdGlvbjogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlbGV0ZToge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgICAgICAgICAgdXJsOiBiYWNrZW5kVXJsICsgJy9kZWxldGUvOmlkJyxcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHsgaWQ6J0BpZCd9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbG9naW46IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBza2lwQXV0aG9yaXphdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfSxcbiAgICAgICAgICAgICAgICB1cmw6IGJhY2tlbmRQcmVmaXggKyAnL2F1dGhlbnRpY2F0aW9uL3RyYWVnZXJfY2hlY2snLFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybVJlcXVlc3Q6IGZ1bmN0aW9uIChkYXRhLCBoZWFkZXJzR2V0dGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRyYW5zZm9ybSBKU09OIGludG8gcmVndWxhciBmb3JtIHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RyID0gW107XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGQgaW4gZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ci5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChkKSArIFwiPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGRhdGFbZF0pKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0ci5qb2luKFwiJlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1dO1xufSk7XG5cbmp1Z2VuZHN0YWR0cGxhbkFwaS5wcm92aWRlcignS2F0ZWdvcmllJywgZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kZ2V0ID0gWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XG4gICAgICAgIHZhciBiYWNrZW5kVXJsID0gYmFja2VuZFByZWZpeCArICcva2F0ZWdvcmllJztcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShiYWNrZW5kVXJsKTtcbiAgICB9XTtcbn0pOyIsImFuZ3VsYXIubW9kdWxlKCdqdWdlbmRzdGFkdHBsYW4uc3RhcnRzZWl0ZScpLmNvbmZpZyhbJyRzdGF0ZVByb3ZpZGVyJywgZnVuY3Rpb24gY29uZmlnKCAkc3RhdGVQcm92aWRlciApIHtcbiAgXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCAnU3RhcnRzZWl0ZScsIHtcbiAgICB1cmw6ICcvc3RhcnRzZWl0ZScsXG4gICAgdmlld3M6IHtcbiAgICAgIFwibWFpblwiOiB7XG4gICAgICAgIGNvbnRyb2xsZXI6ICdTdGFydHNlaXRlQ29udHJvbGxlcicsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL3N0YXJ0c2VpdGUvdmlld3Mvc3RhcnRzZWl0ZS50cGwuaHRtbCdcbiAgICAgIH1cbiAgICB9LFxuICAgIGRhdGE6eyBwYWdlVGl0bGU6ICdTdGFydHNlaXRlJyB9XG4gIH0pO1xuXG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKCdqdWdlbmRzdGFkdHBsYW4uc3RhcnRzZWl0ZScpLmNvbnRyb2xsZXIoICdTdGFydHNlaXRlQ29udHJvbGxlcicsIFsgJyRzY29wZScsICckbG9jYXRpb24nLCAnUGluJywgZnVuY3Rpb24gU3RhcnRzZWl0ZUNvbnRyb2xsZXIoICRzY29wZSwgJGxvY2F0aW9uLCBQaW4gKSB7XG4gICAgIGFuZ3VsYXIuZXh0ZW5kKCRzY29wZSwge1xuICAgICAgICBjZW50ZXI6IHtcbiAgICAgICAgICAgIGxhdDogNTAuNzMyODI5MjQ2NzI2LFxuICAgICAgICAgICAgbG5nOiA3LjA5MzcwMDQwOTAxMTcsXG4gICAgICAgICAgICB6b29tOiAxM1xuICAgICAgICB9LFxuICAgICAgICBkZWZhdWx0czoge1xuICAgICAgICAgICAgc2Nyb2xsV2hlZWxab29tOiBmYWxzZVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAkc2NvcGUubWFya2VycyA9IFtdO1xuXG4gICAgUGluLnF1ZXJ5KGZ1bmN0aW9uKHBpbnMpIHtcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKHBpbnMsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgIGlmIChpdGVtLmxvbmdpdHVkZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1hcmtlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgbGF0OiBpdGVtLmxhdGl0dWRlLFxuICAgICAgICAgICAgICAgICAgICBsbmc6IGl0ZW0ubG9uZ2l0dWRlLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogaXRlbS50aXRlbCxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJzxoMz4nICsgaXRlbS50aXRlbCArICc8L2gzPicgKyBpdGVtLmJlc2NocmVpYnVuZyArICc8c21hbGw+PGEgaHJlZj1cIicgKyAnLyMvcGluLycgKyBpdGVtLmlkICsgJ1wiPk1laHI8L2E+PC9zbWFsbD4nXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAkc2NvcGUubWFya2Vycy5wdXNoKG1hcmtlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG59XSk7IiwiSnVnZW5kc3RhZHRwbGFuLkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoICdUZXJtaW5Gb3JtQ29udHJvbGxlcicsIFsgJyRzY29wZScsXG4gICAgZnVuY3Rpb24oJHNjb3BlKSB7XG5cbiAgICAgICAgLy8gV29jaGVudGFnZVxuICAgICAgICAkc2NvcGUud29jaGVudGFnZSA9IFsgJ01vbnRhZycsICdEaWVuc3RhZycsICdNaXR0d29jaCcsICdEb25uZXJzdGFnJywgJ0ZyZWl0YWcnLCAnU2Ftc3RhZycsICdTb25udGFnJyBdO1xuXG5cbiAgICAgICAgLy8gVGVybWluXG4gICAgICAgICRzY29wZS5uZXdUZXJtaW4gPSB7fTtcbiAgICAgICAgJHNjb3BlLmFkZFRlcm1pbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCRzY29wZS5waW4udGVybWluZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnBpbi50ZXJtaW5lID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkc2NvcGUucGluLnRlcm1pbmUucHVzaCgkc2NvcGUubmV3VGVybWluKTtcbiAgICAgICAgICAgICRzY29wZS5uZXdUZXJtaW4gPSB7fTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuaXNUZXJtaW5WYWxpZCA9IGZ1bmN0aW9uKHRlcm1pbikge1xuICAgICAgICAgICAgaWYgKHRlcm1pbi5iZWdpbm4gPT09IHVuZGVmaW5lZCB8fCB0ZXJtaW4uYmVnaW5uID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0ZXJtaW4uZ2FuenRhZWdpZyAhPT0gdHJ1ZSAmJiAodGVybWluLmJlZ2lubl91aHJ6ZWl0ID09PSB1bmRlZmluZWQgfHwgdGVybWluLmJlZ2lubl91aHJ6ZWl0ID09PSAwKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgLy8gV2llZGVyaG9sdW5nXG4gICAgICAgICRzY29wZS53b2NoZV9kZXNfbW9uYXRzID0gW1xuICAgICAgICAgICAgeyBpZDogMCwgbGFiZWw6ICdKZWRlIFdvY2hlJyB9LFxuICAgICAgICAgICAgeyBpZDogMSwgbGFiZWw6ICdKZWRlIDEuIFdvY2hlJyB9LFxuICAgICAgICAgICAgeyBpZDogMiwgbGFiZWw6ICdKZWRlIDIuIFdvY2hlJyB9LFxuICAgICAgICAgICAgeyBpZDogMywgbGFiZWw6ICdKZWRlIDMuIFdvY2hlJyB9LFxuICAgICAgICAgICAgeyBpZDogNCwgbGFiZWw6ICdKZWRlIDQuIFdvY2hlJyB9LFxuICAgICAgICAgICAgeyBpZDogNSwgbGFiZWw6ICdKZWRlIDUuIFdvY2hlJyB9XG4gICAgICAgIF07XG4gICAgICAgICRzY29wZS5uZXdXaWVkZXJob2x1bmcgPSB7fTtcbiAgICAgICAgJHNjb3BlLmFkZFdpZWRlcmhvbHVuZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCRzY29wZS5uZXdUZXJtaW4ud2llZGVyaG9sdW5nZW4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5uZXdUZXJtaW4ud2llZGVyaG9sdW5nZW4gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRzY29wZS5uZXdUZXJtaW4ud2llZGVyaG9sdW5nZW4ucHVzaCgkc2NvcGUubmV3V2llZGVyaG9sdW5nKTtcbiAgICAgICAgICAgICRzY29wZS5uZXdXaWVkZXJob2x1bmcgPSB7fTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuaXNXaWVkZXJob2x1bmdWYWxpZCA9IGZ1bmN0aW9uKHdpZWRlcmhvbHVuZykge1xuICAgICAgICAgICAgaWYgKHdpZWRlcmhvbHVuZy53b2NoZW50YWcgPT09IHVuZGVmaW5lZCB8fCB3aWVkZXJob2x1bmcud29jaGVudGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG5cbiAgICB9XSk7IiwiYW5ndWxhci5tb2R1bGUoICdwbHVzT25lJywgW10gKVxuXG4uZGlyZWN0aXZlKCAncGx1c09uZScsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIGxpbms6IGZ1bmN0aW9uKCBzY29wZSwgZWxlbWVudCwgYXR0cnMgKSB7XG4gICAgICBnYXBpLnBsdXNvbmUucmVuZGVyKCBlbGVtZW50WzBdLCB7XG4gICAgICAgIFwic2l6ZVwiOiBcIm1lZGl1bVwiLFxuICAgICAgICBcImhyZWZcIjogXCJodHRwOi8vYml0Lmx5L25nQm9pbGVycGxhdGVcIlxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufSlcblxuO1xuXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
