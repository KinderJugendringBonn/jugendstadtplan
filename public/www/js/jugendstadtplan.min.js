function LoginInterceptor(e){return{request:function(n){return e.localStorage.token&&(n.headers.Authorization="Bearer "+e.localStorage.token),n}}}var jugendstadtplanLogin=angular.module("jugendstadtplan.login",[]);jugendstadtplanLogin.service("LoginService",function(){var e=!1;return{isLoggedIn:function(){return e},setLoggedIn:function(n){e=n}}}),angular.module("jugendstadtplan.startseite",["ui.router","leaflet-directive"]),angular.module("jugendstadtplan.pins",["ui.router","jugendstadtplan.links","jugendstadtplan.ansprechpartner","jugendstadtplan.termin"]),angular.module("jugendstadtplan.termin",[]),angular.module("jugendstadtplan.links",[]),angular.module("jugendstadtplan.traeger",["ui.router","jugendstadtplan.links","jugendstadtplan.ansprechpartner","jugendstadtplan.login"]),angular.module("jugendstadtplan.ansprechpartner",[]);var Jugendstadtplan=Jugendstadtplan||{};Jugendstadtplan.Controllers=angular.module("jugendstadtplan.controllers",[]),angular.module("jugendstadtplan",["ngResource","ngSanitize","ui.router","leaflet-directive","textAngular","ngFileUpload","jugendstadtplan.templates","jugendstadtplan.login","jugendstadtplan.api","jugendstadtplan.startseite","jugendstadtplan.pins","jugendstadtplan.traeger","jugendstadtplan.controllers"]).config(function(e,n){n.otherwise("/startseite")}).run(function(){}).controller("AppCtrl",["$scope","$location",function(e,n){e.$on("$stateChangeSuccess",function(n,t,r,a,l){angular.isDefined(t.data.pageTitle)&&(e.pageTitle=t.data.pageTitle+" | Jugendstadtplan")})}]),angular.module("jugendstadtplan.startseite").config(function(e){e.state("Startseite",{url:"/startseite",views:{main:{controller:"StartseiteController",templateUrl:"app/startseite/views/startseite.tpl.html"}},data:{pageTitle:"Startseite"}})}),angular.module("jugendstadtplan.startseite").controller("StartseiteController",["$scope","$location","Pin","$templateCache",function(e,n,t,r){angular.extend(e,{center:{lat:50.732829246726,lng:7.0937004090117,zoom:13},defaults:{scrollWheelZoom:!1}}),e.markers=[],t.query(function(n){angular.forEach(n,function(n){if(null!=n.longitude){var t={lat:n.latitude,lng:n.longitude,title:n.titel,message:"<h3>"+n.titel+"</h3>"+n.beschreibung+'<small><a href="/#/pin/'+n.id+'">Mehr</a></small>'};e.markers.push(t)}})})}]),angular.module("jugendstadtplan.pins").config(function(e){e.state("Detail: Pin",{url:"/pin/{id:[0-9]+}",views:{main:{controller:"PinDetailController",templateUrl:"app/pins/views/detail.tpl.html"}},resolve:{pinDetail:["$stateParams","Pin",function(e,n){return n.get({},{id:e.id})}]},data:{pageTitle:"Pin"}})}),Jugendstadtplan.Controllers.controller("PinDetailController",["$scope","pinDetail",function(e,n){e.markers=[],e.center={lat:50.732829246726,lng:7.0937004090117,zoom:13},n.$promise.then(function(){e.pin=n,angular.extend(e,{defaults:{scrollWheelZoom:!1}}),e.center={lat:n.latitude,lng:n.longitude,zoom:15};var t={lat:n.latitude,lng:n.longitude,title:n.titel,focus:!0,message:"<h3>"+n.titel+"</h3>"+n.beschreibung};e.markers.push(t)},function(){angular.extend(e,{defaults:{scrollWheelZoom:!1}})})}]),angular.module("jugendstadtplan.pins").config(function(e){e.state("Form: Pin",{url:"/pin/create",views:{main:{controller:"PinFormController",templateUrl:"app/pins/views/form.tpl.html"}},data:{pageTitle:"Pin erstellen"}})}),Jugendstadtplan.Controllers.controller("PinFormController",["$scope","$location","Pin","Traeger","Kategorie",function(e,n,t,r,a){e.kategorien=a.query(),e.pin=new t,e.pins=t.query(),e.traegers=r.query(),angular.extend(e,{center:{lat:50.732829246726,lng:7.0937004090117,zoom:13},defaults:{scrollWheelZoom:!1},events:{}}),e.pin.markers=[],e.$on("leafletDirectiveMap.click",function(n,t){var r=t.leafletEvent;e.pin.markers[0]={lat:r.latlng.lat,lng:r.latlng.lng,draggable:!0,focus:!0}}),e.newPin=function(){e.pin=new t,e.pin.markers=[],e.editing=!1},e.save=function(){e.pin.id?t.update(e.pin):e.pin.$save().then(function(n){e.pins.push(n)}),e.newPin()},e.setActivePin=function(n){e.pin=n,e.pin.markers=[],null!=n.longitude&&(e.pin.markers[0]={lat:n.latitude,lng:n.longitude,draggable:!0,focus:!0}),e.editing=!0},e.remove=function(n){t["delete"](n,function(){var t=e.pins.indexOf(n);-1!=t&&e.pins.splice(t,1)})},e.barrierefreiheitsgrade=["Gut","Teilweise","Nicht barrierefrei"],e.kostenarten=["Kostenlos","Kostenpflichtig"],e.mindestalters=["ab 12","ab 16","ab 18","ab 21"]}]),angular.module("jugendstadtplan.pins").config(function(e){e.state("Liste: Pin",{url:"/pins",views:{main:{controller:"PinsController",templateUrl:"app/pins/views/list.tpl.html"}},data:{pageTitle:"Pins"}})}),Jugendstadtplan.Controllers.controller("PinsController",["$scope","$location","Pin",function(e,n,t){e.pins=t.query(),e.viewPin=function(e){n.path("/pin/"+e.id)}}]),Jugendstadtplan.Controllers.controller("TerminFormController",["$scope",function(e){e.wochentage=["Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"],e.newTermin={},e.addTermin=function(){void 0===e.pin.termine&&(e.pin.termine=[]),e.pin.termine.push(e.newTermin),e.newTermin={}},e.isTerminValid=function(e){return void 0===e.beginn||0===e.beginn?!1:e.ganztaegig===!0||void 0!==e.beginn_uhrzeit&&0!==e.beginn_uhrzeit},e.woche_des_monats=[{id:0,label:"Jede Woche"},{id:1,label:"Jede 1. Woche"},{id:2,label:"Jede 2. Woche"},{id:3,label:"Jede 3. Woche"},{id:4,label:"Jede 4. Woche"},{id:5,label:"Jede 5. Woche"}],e.newWiederholung={},e.addWiederholung=function(){void 0===e.newTermin.wiederholungen&&(e.newTermin.wiederholungen=[]),e.newTermin.wiederholungen.push(e.newWiederholung),e.newWiederholung={}},e.isWiederholungValid=function(e){return void 0!==e.wochentag&&0!==e.wochentag}}]),Jugendstadtplan.Controllers.controller("LinksFormController",["$scope",function(e){e.newLink={},e.addLink=function(){void 0===e.model.links&&(e.model.links=[]),e.model.links.push(e.newLink),e.newLink={}},e.isLinkValid=function(e){return void 0===e.titel||0===e.titel.length?!1:void 0!==e.url&&0!==e.url.length}}]),angular.module("jugendstadtplan.traeger").config(function(e){e.state("Liste: Traeger",{url:"/traeger",views:{main:{controller:"TraegerController",templateUrl:"app/traeger/views/liste.tpl.html"}},data:{pageTitle:"Träger"}})}),Jugendstadtplan.Controllers.controller("TraegerController",["$scope","$location","Traeger",function(e,n,t){e.traeger=t.query(),e.viewTraeger=function(e){n.path("/traeger/"+e.id)}}]),angular.module("jugendstadtplan.traeger").config(function(e){e.state("Detail: Traeger",{url:"/traeger/{id:[0-9]+}",views:{main:{controller:"TraegerDetailController",templateUrl:"app/traeger/views/detail.tpl.html"}},resolve:{traegerDetail:["$stateParams","Traeger",function(e,n){return n.get({},{id:e.id})}]},data:{pageTitle:"Träger"}})}),Jugendstadtplan.Controllers.controller("TraegerDetailController",["$scope","traegerDetail",function(e,n){e.traeger=n,angular.extend(e,{center:{lat:50.732829246726,lng:7.0937004090117,zoom:13},defaults:{scrollWheelZoom:!1}}),e.markers=[],n.$promise.then(function(){angular.forEach(n.pins,function(n,t){var r={lat:n.latitude,lng:n.longitude,title:n.titel,message:"<h3>"+n.titel+"</h3>"+n.beschreibung+'<small><a href="/#/pin/'+n.id+'">Mehr</a></small>'};e.markers.push(r)})})}]),angular.module("jugendstadtplan.traeger").config(function(e){e.state("Form: Traeger",{url:"/traeger/create",views:{main:{controller:"TraegerFormController",templateUrl:"app/traeger/views/form.tpl.html"}},data:{pageTitle:"Träger erstellen"}})}),Jugendstadtplan.Controllers.controller("TraegerFormController",["$scope","$location","Traeger","Kategorie","Upload",function(e,n,t,r,a){e.kategorien=r.query(),e.traeger=new t,e.traegers=t.query(),e.newTraeger=function(){e.traeger=new t,e.editing=!1},e.save=function(){e.traeger.id?t.update(e.traeger).then(function(){e.newTraeger()},function(){alert("Ein Träger mit dieser Email-Adresse existiert bereits!")}):e.traeger.$save().then(function(n){e.traegers.push(n),e.newTraeger()},function(){alert("Ein Träger mit dieser Email-Adresse existiert bereits!")})},e.setActiveTraeger=function(n){e.traeger=n,e.editing=!0},e.remove=function(n){t["delete"](n,function(){var t=e.traegers.indexOf(n);-1!=t&&e.traegers.splice(t,1)})},e.onFileSelect=function(n){for(var t=function(n){a.upload({url:"app_dev.php/img/upload",method:"POST",data:{myObj:e.myModelObj},file:n}).progress(function(e){console.log("percent: "+parseInt(100*e.loaded/e.total))}).success(function(t,r,a,l){void 0===e.traeger.bilder&&(e.traeger.bilder=[]),n.tmp_name=t.folder,e.traeger.bilder.push(n)})},r=0;r<n.length;r++){var l=n[r];e.upload=t(l)}},e.newAdresse={},e.addAdresse=function(){void 0===e.traeger.adressen&&(e.traeger.adressen=[]),e.traeger.adressen.push(e.newAdresse),e.newAdresse={}},e.isAdresseValid=function(e){return void 0===e.strasse||0===e.strasse.length?!1:void 0!==e.ort&&0!==e.ort.length}}]),angular.module("jugendstadtplan.traeger").config(function(e){e.state("Login: Traeger",{url:"/traeger/login",views:{main:{controller:"TraegerLoginController",templateUrl:"app/traeger/views/login.tpl.html"}},data:{pageTitle:"Einloggen"}})}),Jugendstadtplan.Controllers.controller("TraegerLoginController",["$scope","$state","$window","LoginService","Traeger",function(e,n,t,r,a){e.traeger=new a,e.login=function(){e.traeger.$login().then(function(e){t.localStorage.token=e.token,r.setLoggedIn(!0),n.go("Startseite")},function(n){e.error={msg:"Authentifizierung fehlgeschlagen!"}})}}]),angular.module("plusOne",[]).directive("plusOne",function(){return{link:function(e,n,t){gapi.plusone.render(n[0],{size:"medium",href:"http://bit.ly/ngBoilerplate"})}}}),Jugendstadtplan.Controllers.controller("AnsprechpartnerFormController",["$scope",function(e){e.newAnsprechpartner={},e.addAnsprechpartner=function(){void 0===e.model.ansprechpartner&&(e.model.ansprechpartner=[]),e.model.ansprechpartner.push(e.newAnsprechpartner),e.newAnsprechpartner={}},e.isAnsprechpartnerValid=function(e){return void 0===e.name||0===e.name.length?!1:void 0!==e.email&&0!==e.email.length}}]);var jugendstadtplanApi=angular.module("jugendstadtplan.api",["ngResource"]),backendPrefix="http://api.jugendstadtplan.dev";jugendstadtplanApi.provider("Pin",function(){this.$get=["$resource",function(e){var n=backendPrefix+"/pins";return e(n,{},{get:{method:"GET",url:n+"/:id",params:{id:"@id"}},update:{method:"PUT",url:n+"/update/:id",params:{id:"@id"},interceptor:LoginInterceptor},save:{method:"POST",url:n+"/create",interceptor:LoginInterceptor},"delete":{method:"DELETE",url:n+"/delete/:id",params:{id:"@id"},interceptor:LoginInterceptor}})}]}),jugendstadtplanApi.provider("Traeger",function(){this.$get=["$resource",function(e){var n=backendPrefix+"/traeger";return e(n,{},{get:{method:"GET",url:n+"/:id",params:{id:"@id"}},update:{method:"PUT",url:n+"/update/:id",params:{id:"@id"},interceptor:LoginInterceptor},save:{method:"POST",url:n+"/create"},"delete":{method:"DELETE",url:n+"/delete/:id",params:{id:"@id"},interceptor:LoginInterceptor},login:{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},url:backendPrefix+"/authentication/traeger_check",transformRequest:function(e,n){var t=[];for(var r in e)t.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t.join("&")}}})}]}),jugendstadtplanApi.provider("Kategorie",function(){this.$get=["$resource",function(e){var n=backendPrefix+"/kategorie";return e(n)}]});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi9yZXNvdXJjZXMvSnVnZW5kc3RhZHRwbGFuQXBpLmpzIiwiY29tbW9uL3Jlc291cmNlcy9Mb2dpblNlcnZpY2UuanMiLCJhcHAvc3RhcnRzZWl0ZS9TdGFydHNlaXRlTW9kdWxlLmpzIiwiYXBwL3BpbnMvUGluc01vZHVsZS5qcyIsImFwcC90ZXJtaW4vVGVybWluTW9kdWxlLmpzIiwiYXBwL2xpbmtzL0xpbmtzTW9kdWxlLmpzIiwiYXBwL3RyYWVnZXIvVHJhZWdlck1vZHVsZS5qcyIsImFwcC9hbnNwcmVjaHBhcnRuZXIvQW5zcHJlY2hwYXJ0bmVyTW9kdWxlLmpzIiwiYXBwL2FwcC5qcyIsImFwcC9zdGFydHNlaXRlL1N0YXJ0c2VpdGVDb250cm9sbGVyLmpzIiwiYXBwL3BpbnMvUGluRGV0YWlsQ29udHJvbGxlci5qcyIsImFwcC9waW5zL1BpbkZvcm1Db250cm9sbGVyLmpzIiwiYXBwL3BpbnMvUGluc0NvbnRyb2xsZXIuanMiLCJhcHAvdGVybWluL1Rlcm1pbkZvcm1Db250cm9sbGVyLmpzIiwiYXBwL2xpbmtzL0xpbmtzRm9ybUNvbnRyb2xsZXIuanMiLCJhcHAvdHJhZWdlci9UcmFlZ2VyQ29udHJvbGxlci5qcyIsImFwcC90cmFlZ2VyL1RyYWVnZXJEZXRhaWxDb250cm9sbGVyLmpzIiwiYXBwL3RyYWVnZXIvVHJhZWdlckZvcm1Db250cm9sbGVyLmpzIiwiYXBwL3RyYWVnZXIvVHJhZWdlckxvZ2luQ29udHJvbGxlci5qcyIsImNvbW1vbi9wbHVzT25lL3BsdXNPbmUuanMiLCJhcHAvYW5zcHJlY2hwYXJ0bmVyL0Fuc3ByZWNocGFydG5lckZvcm1Db250cm9sbGVyLmpzIl0sIm5hbWVzIjpbIkxvZ2luSW50ZXJjZXB0b3IiLCIkd2luZG93IiwicmVxdWVzdCIsImNvbmZpZyIsImxvY2FsU3RvcmFnZSIsInRva2VuIiwiaGVhZGVycyIsIkF1dGhvcml6YXRpb24iLCJqdWdlbmRzdGFkdHBsYW5Mb2dpbiIsImFuZ3VsYXIiLCJtb2R1bGUiLCJzZXJ2aWNlIiwiYXV0aGVudGljYXRlZCIsImlzTG9nZ2VkSW4iLCJzZXRMb2dnZWRJbiIsImxvZ2dlZEluIiwiSnVnZW5kc3RhZHRwbGFuIiwiQ29udHJvbGxlcnMiLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIm90aGVyd2lzZSIsInJ1biIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCIkbG9jYXRpb24iLCIkb24iLCJldmVudCIsInRvU3RhdGUiLCJ0b1BhcmFtcyIsImZyb21TdGF0ZSIsImZyb21QYXJhbXMiLCJpc0RlZmluZWQiLCJkYXRhIiwicGFnZVRpdGxlIiwic3RhdGUiLCJ1cmwiLCJ2aWV3cyIsIm1haW4iLCJ0ZW1wbGF0ZVVybCIsIlBpbiIsIiR0ZW1wbGF0ZUNhY2hlIiwiZXh0ZW5kIiwiY2VudGVyIiwibGF0IiwibG5nIiwiem9vbSIsImRlZmF1bHRzIiwic2Nyb2xsV2hlZWxab29tIiwibWFya2VycyIsInF1ZXJ5IiwicGlucyIsImZvckVhY2giLCJpdGVtIiwibG9uZ2l0dWRlIiwibWFya2VyIiwibGF0aXR1ZGUiLCJ0aXRsZSIsInRpdGVsIiwibWVzc2FnZSIsImJlc2NocmVpYnVuZyIsImlkIiwicHVzaCIsInJlc29sdmUiLCJwaW5EZXRhaWwiLCIkc3RhdGVQYXJhbXMiLCJnZXQiLCIkcHJvbWlzZSIsInRoZW4iLCJwaW4iLCJmb2N1cyIsIlRyYWVnZXIiLCJLYXRlZ29yaWUiLCJrYXRlZ29yaWVuIiwidHJhZWdlcnMiLCJldmVudHMiLCJhcmdzIiwibGVhZkV2ZW50IiwibGVhZmxldEV2ZW50IiwibGF0bG5nIiwiZHJhZ2dhYmxlIiwibmV3UGluIiwiZWRpdGluZyIsInNhdmUiLCJ1cGRhdGUiLCIkc2F2ZSIsInJlc3BvbnNlIiwic2V0QWN0aXZlUGluIiwicmVtb3ZlIiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwiYmFycmllcmVmcmVpaGVpdHNncmFkZSIsImtvc3RlbmFydGVuIiwibWluZGVzdGFsdGVycyIsInZpZXdQaW4iLCJwYXRoIiwid29jaGVudGFnZSIsIm5ld1Rlcm1pbiIsImFkZFRlcm1pbiIsInVuZGVmaW5lZCIsInRlcm1pbmUiLCJpc1Rlcm1pblZhbGlkIiwidGVybWluIiwiYmVnaW5uIiwiZ2FuenRhZWdpZyIsImJlZ2lubl91aHJ6ZWl0Iiwid29jaGVfZGVzX21vbmF0cyIsImxhYmVsIiwibmV3V2llZGVyaG9sdW5nIiwiYWRkV2llZGVyaG9sdW5nIiwid2llZGVyaG9sdW5nZW4iLCJpc1dpZWRlcmhvbHVuZ1ZhbGlkIiwid2llZGVyaG9sdW5nIiwid29jaGVudGFnIiwibmV3TGluayIsImFkZExpbmsiLCJtb2RlbCIsImxpbmtzIiwiaXNMaW5rVmFsaWQiLCJsaW5rIiwibGVuZ3RoIiwidHJhZWdlciIsInZpZXdUcmFlZ2VyIiwidHJhZWdlckRldGFpbCIsImtleSIsIlVwbG9hZCIsIm5ld1RyYWVnZXIiLCJhbGVydCIsInNldEFjdGl2ZVRyYWVnZXIiLCJvbkZpbGVTZWxlY3QiLCIkZmlsZXMiLCJkb1VwbG9hZCIsImZpbGUiLCJ1cGxvYWQiLCJtZXRob2QiLCJteU9iaiIsIm15TW9kZWxPYmoiLCJwcm9ncmVzcyIsImV2dCIsImNvbnNvbGUiLCJsb2ciLCJwYXJzZUludCIsImxvYWRlZCIsInRvdGFsIiwic3VjY2VzcyIsInN0YXR1cyIsImJpbGRlciIsInRtcF9uYW1lIiwiZm9sZGVyIiwiaSIsIm5ld0FkcmVzc2UiLCJhZGRBZHJlc3NlIiwiYWRyZXNzZW4iLCJpc0FkcmVzc2VWYWxpZCIsImFkcmVzc2UiLCJzdHJhc3NlIiwib3J0IiwiJHN0YXRlIiwiTG9naW5TZXJ2aWNlIiwibG9naW4iLCIkbG9naW4iLCJnbyIsImVycm9yIiwibXNnIiwiZGlyZWN0aXZlIiwic2NvcGUiLCJlbGVtZW50IiwiYXR0cnMiLCJnYXBpIiwicGx1c29uZSIsInJlbmRlciIsInNpemUiLCJocmVmIiwibmV3QW5zcHJlY2hwYXJ0bmVyIiwiYWRkQW5zcHJlY2hwYXJ0bmVyIiwiYW5zcHJlY2hwYXJ0bmVyIiwiaXNBbnNwcmVjaHBhcnRuZXJWYWxpZCIsIm5hbWUiLCJlbWFpbCIsImp1Z2VuZHN0YWR0cGxhbkFwaSIsImJhY2tlbmRQcmVmaXgiLCJwcm92aWRlciIsInRoaXMiLCIkZ2V0IiwiJHJlc291cmNlIiwiYmFja2VuZFVybCIsInBhcmFtcyIsImludGVyY2VwdG9yIiwiZGVsZXRlIiwiQ29udGVudC1UeXBlIiwidHJhbnNmb3JtUmVxdWVzdCIsImhlYWRlcnNHZXR0ZXIiLCJzdHIiLCJkIiwiZW5jb2RlVVJJQ29tcG9uZW50Iiwiam9pbiJdLCJtYXBwaW5ncyI6IkFBRUEsUUFBQUEsa0JBQUFDLEdBQ0EsT0FDQUMsUUFBQSxTQUFBQyxHQUtBLE1BSkFGLEdBQUFHLGFBQUFDLFFBQ0FGLEVBQUFHLFFBQUFDLGNBQUEsVUFBQU4sRUFBQUcsYUFBQUMsT0FHQUYsSUNUQSxHQUFBSyxzQkFBQUMsUUFBQUMsT0FBQSwyQkFFQUYsc0JBQUFHLFFBQUEsZUFBQSxXQUNBLEdBQUFDLElBQUEsQ0FFQSxRQUNBQyxXQUFBLFdBQ0EsTUFBQUQsSUFHQUUsWUFBQSxTQUFBQyxHQUNBSCxFQUFBRyxNQ1hBTixRQUFBQyxPQUFBLDhCQUNBLFlBQ0Esc0JDRkFELFFBQUFDLE9BQUEsd0JBQ0EsWUFBQSx3QkFBQSxrQ0FBQSwyQkNEQUQsUUFBQUMsT0FBQSw2QkNBQUQsUUFBQUMsT0FBQSw0QkNBQUQsUUFBQUMsT0FBQSwyQkFDQSxZQUFBLHdCQUFBLGtDQUFBLDBCQ0RBRCxRQUFBQyxPQUFBLHFDQ0FBLElBQUFNLGlCQUFBQSxtQkFDQUEsaUJBQUFDLFlBQUFSLFFBQUFDLE9BQUEsa0NBRUFELFFBQUFDLE9BQUEsbUJBQ0EsYUFDQSxhQUNBLFlBQ0Esb0JBQ0EsY0FDQSxlQUNBLDRCQUNBLHdCQUNBLHNCQUNBLDZCQUNBLHVCQUNBLDBCQUNBLGdDQUdBUCxPQUFBLFNBQUFlLEVBQUFDLEdBQ0FBLEVBQUFDLFVBQUEsaUJBR0FDLElBQUEsY0FHQUMsV0FBQSxXQUFBLFNBQUEsWUFBQSxTQUFBQyxFQUFBQyxHQUNBRCxFQUFBRSxJQUFBLHNCQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBQ0FyQixRQUFBc0IsVUFBQUosRUFBQUssS0FBQUMsYUFDQVYsRUFBQVUsVUFBQU4sRUFBQUssS0FBQUMsVUFBQSwyQkM3QkF4QixRQUFBQyxPQUFBLDhCQUFBUCxPQUFBLFNBQUFlLEdBRUFBLEVBQUFnQixNQUFBLGNBQ0FDLElBQUEsY0FDQUMsT0FDQUMsTUFDQWYsV0FBQSx1QkFDQWdCLFlBQUEsNkNBR0FOLE1BQUFDLFVBQUEsa0JBS0F4QixRQUFBQyxPQUFBLDhCQUFBWSxXQUFBLHdCQUFBLFNBQUEsWUFBQSxNQUFBLGlCQUFBLFNBQUFDLEVBQUFDLEVBQUFlLEVBQUFDLEdBQ0EvQixRQUFBZ0MsT0FBQWxCLEdBQ0FtQixRQUNBQyxJQUFBLGdCQUNBQyxJQUFBLGdCQUNBQyxLQUFBLElBRUFDLFVBQ0FDLGlCQUFBLEtBSUF4QixFQUFBeUIsV0FFQVQsRUFBQVUsTUFBQSxTQUFBQyxHQUNBekMsUUFBQTBDLFFBQUFELEVBQUEsU0FBQUUsR0FDQSxHQUFBLE1BQUFBLEVBQUFDLFVBQUEsQ0FDQSxHQUFBQyxJQUNBWCxJQUFBUyxFQUFBRyxTQUNBWCxJQUFBUSxFQUFBQyxVQUNBRyxNQUFBSixFQUFBSyxNQUNBQyxRQUFBLE9BQUFOLEVBQUFLLE1BQUEsUUFBQUwsRUFBQU8sYUFBQSwwQkFBQVAsRUFBQVEsR0FBQSxxQkFFQXJDLEdBQUF5QixRQUFBYSxLQUFBUCxXQ3RDQTdDLFFBQUFDLE9BQUEsd0JBQUFQLE9BQUEsU0FBQWUsR0FFQUEsRUFBQWdCLE1BQUEsZUFDQUMsSUFBQSxtQkFDQUMsT0FDQUMsTUFDQWYsV0FBQSxzQkFDQWdCLFlBQUEsbUNBR0F3QixTQUNBQyxXQUFBLGVBQUEsTUFBQSxTQUFBQyxFQUFBekIsR0FDQSxNQUFBQSxHQUFBMEIsUUFBQUwsR0FBQUksRUFBQUosUUFHQTVCLE1BQUFDLFVBQUEsV0FLQWpCLGdCQUFBQyxZQUFBSyxXQUFBLHVCQUFBLFNBQUEsWUFBQSxTQUFBQyxFQUFBd0MsR0FDQXhDLEVBQUF5QixXQUNBekIsRUFBQW1CLFFBQ0FDLElBQUEsZ0JBQ0FDLElBQUEsZ0JBQ0FDLEtBQUEsSUFHQWtCLEVBQUFHLFNBQUFDLEtBQUEsV0FDQTVDLEVBQUE2QyxJQUFBTCxFQUVBdEQsUUFBQWdDLE9BQUFsQixHQUNBdUIsVUFDQUMsaUJBQUEsS0FJQXhCLEVBQUFtQixRQUNBQyxJQUFBb0IsRUFBQVIsU0FDQVgsSUFBQW1CLEVBQUFWLFVBQ0FSLEtBQUEsR0FHQSxJQUFBUyxJQUNBWCxJQUFBb0IsRUFBQVIsU0FDQVgsSUFBQW1CLEVBQUFWLFVBQ0FHLE1BQUFPLEVBQUFOLE1BQ0FZLE9BQUEsRUFDQVgsUUFBQSxPQUFBSyxFQUFBTixNQUFBLFFBQUFNLEVBQUFKLGFBRUFwQyxHQUFBeUIsUUFBQWEsS0FBQVAsSUFDQSxXQUNBN0MsUUFBQWdDLE9BQUFsQixHQUNBdUIsVUFDQUMsaUJBQUEsVUN0REF0QyxRQUFBQyxPQUFBLHdCQUFBUCxPQUFBLFNBQUFlLEdBRUFBLEVBQUFnQixNQUFBLGFBQ0FDLElBQUEsY0FDQUMsT0FDQUMsTUFDQWYsV0FBQSxvQkFDQWdCLFlBQUEsaUNBR0FOLE1BQUFDLFVBQUEscUJBS0FqQixnQkFBQUMsWUFBQUssV0FBQSxxQkFBQSxTQUFBLFlBQUEsTUFBQSxVQUFBLFlBQUEsU0FBQUMsRUFBQUMsRUFBQWUsRUFBQStCLEVBQUFDLEdBQ0FoRCxFQUFBaUQsV0FBQUQsRUFBQXRCLFFBQ0ExQixFQUFBNkMsSUFBQSxHQUFBN0IsR0FDQWhCLEVBQUEyQixLQUFBWCxFQUFBVSxRQUNBMUIsRUFBQWtELFNBQUFILEVBQUFyQixRQUVBeEMsUUFBQWdDLE9BQUFsQixHQUNBbUIsUUFDQUMsSUFBQSxnQkFDQUMsSUFBQSxnQkFDQUMsS0FBQSxJQUVBQyxVQUNBQyxpQkFBQSxHQUVBMkIsWUFHQW5ELEVBQUE2QyxJQUFBcEIsV0FDQXpCLEVBQUFFLElBQUEsNEJBQUEsU0FBQUMsRUFBQWlELEdBQ0EsR0FBQUMsR0FBQUQsRUFBQUUsWUFFQXRELEdBQUE2QyxJQUFBcEIsUUFBQSxJQUNBTCxJQUFBaUMsRUFBQUUsT0FBQW5DLElBQ0FDLElBQUFnQyxFQUFBRSxPQUFBbEMsSUFDQW1DLFdBQUEsRUFDQVYsT0FBQSxLQUlBOUMsRUFBQXlELE9BQUEsV0FDQXpELEVBQUE2QyxJQUFBLEdBQUE3QixHQUNBaEIsRUFBQTZDLElBQUFwQixXQUNBekIsRUFBQTBELFNBQUEsR0FHQTFELEVBQUEyRCxLQUFBLFdBQ0EzRCxFQUFBNkMsSUFBQVIsR0FDQXJCLEVBQUE0QyxPQUFBNUQsRUFBQTZDLEtBRUE3QyxFQUFBNkMsSUFBQWdCLFFBQUFqQixLQUFBLFNBQUFrQixHQUNBOUQsRUFBQTJCLEtBQUFXLEtBQUF3QixLQUdBOUQsRUFBQXlELFVBR0F6RCxFQUFBK0QsYUFBQSxTQUFBbEIsR0FDQTdDLEVBQUE2QyxJQUFBQSxFQUNBN0MsRUFBQTZDLElBQUFwQixXQUNBLE1BQUFvQixFQUFBZixZQUNBOUIsRUFBQTZDLElBQUFwQixRQUFBLElBQ0FMLElBQUF5QixFQUFBYixTQUNBWCxJQUFBd0IsRUFBQWYsVUFDQTBCLFdBQUEsRUFDQVYsT0FBQSxJQUdBOUMsRUFBQTBELFNBQUEsR0FHQTFELEVBQUFnRSxPQUFBLFNBQUFuQixHQUNBN0IsRUFBQUEsVUFBQTZCLEVBQUEsV0FDQSxHQUFBb0IsR0FBQWpFLEVBQUEyQixLQUFBdUMsUUFBQXJCLEVBQ0EsS0FBQW9CLEdBQ0FqRSxFQUFBMkIsS0FBQXdDLE9BQUFGLEVBQUEsTUFPQWpFLEVBQUFvRSx3QkFBQSxNQUFBLFlBQUEsc0JBSUFwRSxFQUFBcUUsYUFBQSxZQUFBLG1CQUlBckUsRUFBQXNFLGVBQUEsUUFBQSxRQUFBLFFBQUEsWUMvRkFwRixRQUFBQyxPQUFBLHdCQUFBUCxPQUFBLFNBQUFlLEdBRUFBLEVBQUFnQixNQUFBLGNBQ0FDLElBQUEsUUFDQUMsT0FDQUMsTUFDQWYsV0FBQSxpQkFDQWdCLFlBQUEsaUNBR0FOLE1BQUFDLFVBQUEsWUFLQWpCLGdCQUFBQyxZQUFBSyxXQUFBLGtCQUFBLFNBQUEsWUFBQSxNQUFBLFNBQUFDLEVBQUFDLEVBQUFlLEdBQ0FoQixFQUFBMkIsS0FBQVgsRUFBQVUsUUFFQTFCLEVBQUF1RSxRQUFBLFNBQUExQixHQUNBNUMsRUFBQXVFLEtBQUEsUUFBQTNCLEVBQUFSLFFDbkJBNUMsZ0JBQUFDLFlBQUFLLFdBQUEsd0JBQUEsU0FDQSxTQUFBQyxHQUdBQSxFQUFBeUUsWUFBQSxTQUFBLFdBQUEsV0FBQSxhQUFBLFVBQUEsVUFBQSxXQUlBekUsRUFBQTBFLGFBQ0ExRSxFQUFBMkUsVUFBQSxXQUNBQyxTQUFBNUUsRUFBQTZDLElBQUFnQyxVQUNBN0UsRUFBQTZDLElBQUFnQyxZQUVBN0UsRUFBQTZDLElBQUFnQyxRQUFBdkMsS0FBQXRDLEVBQUEwRSxXQUNBMUUsRUFBQTBFLGNBR0ExRSxFQUFBOEUsY0FBQSxTQUFBQyxHQUNBLE1BQUFILFVBQUFHLEVBQUFDLFFBQUEsSUFBQUQsRUFBQUMsUUFDQSxFQUNBRCxFQUFBRSxjQUFBLEdBQUFMLFNBQUFHLEVBQUFHLGdCQUFBLElBQUFILEVBQUFHLGdCQVFBbEYsRUFBQW1GLG1CQUNBOUMsR0FBQSxFQUFBK0MsTUFBQSxlQUNBL0MsR0FBQSxFQUFBK0MsTUFBQSxrQkFDQS9DLEdBQUEsRUFBQStDLE1BQUEsa0JBQ0EvQyxHQUFBLEVBQUErQyxNQUFBLGtCQUNBL0MsR0FBQSxFQUFBK0MsTUFBQSxrQkFDQS9DLEdBQUEsRUFBQStDLE1BQUEsa0JBRUFwRixFQUFBcUYsbUJBQ0FyRixFQUFBc0YsZ0JBQUEsV0FDQVYsU0FBQTVFLEVBQUEwRSxVQUFBYSxpQkFDQXZGLEVBQUEwRSxVQUFBYSxtQkFFQXZGLEVBQUEwRSxVQUFBYSxlQUFBakQsS0FBQXRDLEVBQUFxRixpQkFDQXJGLEVBQUFxRixvQkFHQXJGLEVBQUF3RixvQkFBQSxTQUFBQyxHQUNBLE1BQUFiLFVBQUFhLEVBQUFDLFdBQUEsSUFBQUQsRUFBQUMsY0M5Q0FqRyxnQkFBQUMsWUFBQUssV0FBQSx1QkFBQSxTQUNBLFNBQUFDLEdBR0FBLEVBQUEyRixXQUNBM0YsRUFBQTRGLFFBQUEsV0FDQWhCLFNBQUE1RSxFQUFBNkYsTUFBQUMsUUFDQTlGLEVBQUE2RixNQUFBQyxVQUVBOUYsRUFBQTZGLE1BQUFDLE1BQUF4RCxLQUFBdEMsRUFBQTJGLFNBQ0EzRixFQUFBMkYsWUFHQTNGLEVBQUErRixZQUFBLFNBQUFDLEdBQ0EsTUFBQXBCLFVBQUFvQixFQUFBOUQsT0FBQSxJQUFBOEQsRUFBQTlELE1BQUErRCxRQUNBLEVBQ0FyQixTQUFBb0IsRUFBQXBGLEtBQUEsSUFBQW9GLEVBQUFwRixJQUFBcUYsV0NoQkEvRyxRQUFBQyxPQUFBLDJCQUFBUCxPQUFBLFNBQUFlLEdBRUFBLEVBQUFnQixNQUFBLGtCQUNBQyxJQUFBLFdBQ0FDLE9BQ0FDLE1BQ0FmLFdBQUEsb0JBQ0FnQixZQUFBLHFDQUdBTixNQUFBQyxVQUFBLGNBS0FqQixnQkFBQUMsWUFBQUssV0FBQSxxQkFBQSxTQUFBLFlBQUEsVUFBQSxTQUFBQyxFQUFBQyxFQUFBOEMsR0FDQS9DLEVBQUFrRyxRQUFBbkQsRUFBQXJCLFFBRUExQixFQUFBbUcsWUFBQSxTQUFBRCxHQUNBakcsRUFBQXVFLEtBQUEsWUFBQTBCLEVBQUE3RCxRQ25CQW5ELFFBQUFDLE9BQUEsMkJBQUFQLE9BQUEsU0FBQWUsR0FFQUEsRUFBQWdCLE1BQUEsbUJBQ0FDLElBQUEsdUJBQ0FDLE9BQ0FDLE1BQ0FmLFdBQUEsMEJBQ0FnQixZQUFBLHNDQUdBd0IsU0FDQTZELGVBQUEsZUFBQSxVQUFBLFNBQUEzRCxFQUFBTSxHQUNBLE1BQUFBLEdBQUFMLFFBQUFMLEdBQUFJLEVBQUFKLFFBR0E1QixNQUFBQyxVQUFBLGNBS0FqQixnQkFBQUMsWUFBQUssV0FBQSwyQkFBQSxTQUFBLGdCQUFBLFNBQUFDLEVBQUFvRyxHQUNBcEcsRUFBQWtHLFFBQUFFLEVBRUFsSCxRQUFBZ0MsT0FBQWxCLEdBQ0FtQixRQUNBQyxJQUFBLGdCQUNBQyxJQUFBLGdCQUNBQyxLQUFBLElBRUFDLFVBQ0FDLGlCQUFBLEtBSUF4QixFQUFBeUIsV0FFQTJFLEVBQUF6RCxTQUFBQyxLQUFBLFdBQ0ExRCxRQUFBMEMsUUFBQXdFLEVBQUF6RSxLQUFBLFNBQUFFLEVBQUF3RSxHQUNBLEdBQUF0RSxJQUNBWCxJQUFBUyxFQUFBRyxTQUNBWCxJQUFBUSxFQUFBQyxVQUNBRyxNQUFBSixFQUFBSyxNQUNBQyxRQUFBLE9BQUFOLEVBQUFLLE1BQUEsUUFBQUwsRUFBQU8sYUFBQSwwQkFBQVAsRUFBQVEsR0FBQSxxQkFFQXJDLEdBQUF5QixRQUFBYSxLQUFBUCxVQzVDQTdDLFFBQUFDLE9BQUEsMkJBQUFQLE9BQUEsU0FBQWUsR0FFQUEsRUFBQWdCLE1BQUEsaUJBQ0FDLElBQUEsa0JBQ0FDLE9BQ0FDLE1BQ0FmLFdBQUEsd0JBQ0FnQixZQUFBLG9DQUdBTixNQUFBQyxVQUFBLHdCQUtBakIsZ0JBQUFDLFlBQUFLLFdBQUEseUJBQUEsU0FBQSxZQUFBLFVBQUEsWUFBQSxTQUFBLFNBQUFDLEVBQUFDLEVBQUE4QyxFQUFBQyxFQUFBc0QsR0FDQXRHLEVBQUFpRCxXQUFBRCxFQUFBdEIsUUFDQTFCLEVBQUFrRyxRQUFBLEdBQUFuRCxHQUNBL0MsRUFBQWtELFNBQUFILEVBQUFyQixRQUVBMUIsRUFBQXVHLFdBQUEsV0FDQXZHLEVBQUFrRyxRQUFBLEdBQUFuRCxHQUNBL0MsRUFBQTBELFNBQUEsR0FHQTFELEVBQUEyRCxLQUFBLFdBQ0EzRCxFQUFBa0csUUFBQTdELEdBQ0FVLEVBQUFhLE9BQUE1RCxFQUFBa0csU0FBQXRELEtBQUEsV0FDQTVDLEVBQUF1RyxjQUNBLFdBQ0FDLE1BQUEsNERBR0F4RyxFQUFBa0csUUFBQXJDLFFBQUFqQixLQUFBLFNBQUFrQixHQUNBOUQsRUFBQWtELFNBQUFaLEtBQUF3QixHQUNBOUQsRUFBQXVHLGNBQ0EsV0FDQUMsTUFBQSw2REFLQXhHLEVBQUF5RyxpQkFBQSxTQUFBUCxHQUNBbEcsRUFBQWtHLFFBQUFBLEVBQ0FsRyxFQUFBMEQsU0FBQSxHQUdBMUQsRUFBQWdFLE9BQUEsU0FBQWtDLEdBQ0FuRCxFQUFBQSxVQUFBbUQsRUFBQSxXQUNBLEdBQUFqQyxHQUFBakUsRUFBQWtELFNBQUFnQixRQUFBZ0MsRUFDQSxLQUFBakMsR0FDQWpFLEVBQUFrRCxTQUFBaUIsT0FBQUYsRUFBQSxNQU1BakUsRUFBQTBHLGFBQUEsU0FBQUMsR0FnQ0EsSUFBQSxHQS9CQUMsR0FBQSxTQUFBQyxHQUNBUCxFQUFBUSxRQUNBbEcsSUFBQSx5QkFFQW1HLE9BQUEsT0FHQXRHLE1BQUF1RyxNQUFBaEgsRUFBQWlILFlBQ0FKLEtBQUFBLElBT0FLLFNBQUEsU0FBQUMsR0FDQUMsUUFBQUMsSUFBQSxZQUFBQyxTQUFBLElBQUFILEVBQUFJLE9BQUFKLEVBQUFLLFVBQ0FDLFFBQUEsU0FBQWhILEVBQUFpSCxFQUFBM0ksRUFBQUgsR0FFQWdHLFNBQUE1RSxFQUFBa0csUUFBQXlCLFNBQ0EzSCxFQUFBa0csUUFBQXlCLFdBRUFkLEVBQUFlLFNBQUFuSCxFQUFBb0gsT0FDQTdILEVBQUFrRyxRQUFBeUIsT0FBQXJGLEtBQUF1RSxNQVFBaUIsRUFBQSxFQUFBQSxFQUFBbkIsRUFBQVYsT0FBQTZCLElBQUEsQ0FDQSxHQUFBakIsR0FBQUYsRUFBQW1CLEVBQ0E5SCxHQUFBOEcsT0FBQUYsRUFBQUMsS0FNQTdHLEVBQUErSCxjQUNBL0gsRUFBQWdJLFdBQUEsV0FDQXBELFNBQUE1RSxFQUFBa0csUUFBQStCLFdBQ0FqSSxFQUFBa0csUUFBQStCLGFBRUFqSSxFQUFBa0csUUFBQStCLFNBQUEzRixLQUFBdEMsRUFBQStILFlBQ0EvSCxFQUFBK0gsZUFHQS9ILEVBQUFrSSxlQUFBLFNBQUFDLEdBQ0EsTUFBQXZELFVBQUF1RCxFQUFBQyxTQUFBLElBQUFELEVBQUFDLFFBQUFuQyxRQUNBLEVBQ0FyQixTQUFBdUQsRUFBQUUsS0FBQSxJQUFBRixFQUFBRSxJQUFBcEMsV0M3R0EvRyxRQUFBQyxPQUFBLDJCQUFBUCxPQUFBLFNBQUFlLEdBRUFBLEVBQUFnQixNQUFBLGtCQUNBQyxJQUFBLGlCQUNBQyxPQUNBQyxNQUNBZixXQUFBLHlCQUNBZ0IsWUFBQSxxQ0FHQU4sTUFBQUMsVUFBQSxpQkFLQWpCLGdCQUFBQyxZQUFBSyxXQUFBLDBCQUFBLFNBQUEsU0FBQSxVQUFBLGVBQUEsVUFBQSxTQUFBQyxFQUFBc0ksRUFBQTVKLEVBQUE2SixFQUFBeEYsR0FFQS9DLEVBQUFrRyxRQUFBLEdBQUFuRCxHQUVBL0MsRUFBQXdJLE1BQUEsV0FDQXhJLEVBQUFrRyxRQUFBdUMsU0FDQTdGLEtBQUEsU0FBQWtCLEdBQ0FwRixFQUFBRyxhQUFBQyxNQUFBZ0YsRUFBQWhGLE1BQ0F5SixFQUFBaEosYUFBQSxHQUVBK0ksRUFBQUksR0FBQSxlQUNBLFNBQUFDLEdBQ0EzSSxFQUFBMkksT0FDQUMsSUFBQSwyQ0M1QkExSixRQUFBQyxPQUFBLGNBRUEwSixVQUFBLFVBQUEsV0FDQSxPQUNBN0MsS0FBQSxTQUFBOEMsRUFBQUMsRUFBQUMsR0FDQUMsS0FBQUMsUUFBQUMsT0FBQUosRUFBQSxJQUNBSyxLQUFBLFNBQ0FDLEtBQUEsb0NDUEE1SixnQkFBQUMsWUFBQUssV0FBQSxpQ0FBQSxTQUNBLFNBQUFDLEdBR0FBLEVBQUFzSixzQkFDQXRKLEVBQUF1SixtQkFBQSxXQUNBM0UsU0FBQTVFLEVBQUE2RixNQUFBMkQsa0JBQ0F4SixFQUFBNkYsTUFBQTJELG9CQUVBeEosRUFBQTZGLE1BQUEyRCxnQkFBQWxILEtBQUF0QyxFQUFBc0osb0JBQ0F0SixFQUFBc0osdUJBR0F0SixFQUFBeUosdUJBQUEsU0FBQUQsR0FDQSxNQUFBNUUsVUFBQTRFLEVBQUFFLE1BQUEsSUFBQUYsRUFBQUUsS0FBQXpELFFBQ0EsRUFDQXJCLFNBQUE0RSxFQUFBRyxPQUFBLElBQUFILEVBQUFHLE1BQUExRCxVcEJoQkEsSUFBQTJELG9CQUFBMUssUUFBQUMsT0FBQSx1QkFBQSxlQWNBMEssY0FBQSxnQ0FFQUQsb0JBQUFFLFNBQUEsTUFBQSxXQUNBQyxLQUFBQyxNQUFBLFlBQUEsU0FBQUMsR0FDQSxHQUFBQyxHQUFBTCxjQUFBLE9BQ0EsT0FBQUksR0FBQUMsTUFDQXhILEtBQ0FxRSxPQUFBLE1BQ0FuRyxJQUFBc0osRUFBQSxPQUNBQyxRQUFBOUgsR0FBQSxRQUVBdUIsUUFDQW1ELE9BQUEsTUFDQW5HLElBQUFzSixFQUFBLGNBQ0FDLFFBQUE5SCxHQUFBLE9BQ0ErSCxZQUFBM0wsa0JBRUFrRixNQUNBb0QsT0FBQSxPQUNBbkcsSUFBQXNKLEVBQUEsVUFDQUUsWUFBQTNMLGtCQUVBNEwsVUFDQXRELE9BQUEsU0FDQW5HLElBQUFzSixFQUFBLGNBQ0FDLFFBQUE5SCxHQUFBLE9BQ0ErSCxZQUFBM0wsd0JBTUFtTCxtQkFBQUUsU0FBQSxVQUFBLFdBQ0FDLEtBQUFDLE1BQUEsWUFBQSxTQUFBQyxHQUNBLEdBQUFDLEdBQUFMLGNBQUEsVUFDQSxPQUFBSSxHQUFBQyxNQUNBeEgsS0FDQXFFLE9BQUEsTUFDQW5HLElBQUFzSixFQUFBLE9BQ0FDLFFBQUE5SCxHQUFBLFFBRUF1QixRQUNBbUQsT0FBQSxNQUNBbkcsSUFBQXNKLEVBQUEsY0FDQUMsUUFBQTlILEdBQUEsT0FDQStILFlBQUEzTCxrQkFFQWtGLE1BQ0FvRCxPQUFBLE9BQ0FuRyxJQUFBc0osRUFBQSxXQUVBRyxVQUNBdEQsT0FBQSxTQUNBbkcsSUFBQXNKLEVBQUEsY0FDQUMsUUFBQTlILEdBQUEsT0FDQStILFlBQUEzTCxrQkFFQStKLE9BQ0F6QixPQUFBLE9BQ0FoSSxTQUFBdUwsZUFBQSxxQ0FDQTFKLElBQUFpSixjQUFBLGdDQUNBVSxpQkFBQSxTQUFBOUosRUFBQStKLEdBRUEsR0FBQUMsS0FDQSxLQUFBLEdBQUFDLEtBQUFqSyxHQUNBZ0ssRUFBQW5JLEtBQUFxSSxtQkFBQUQsR0FBQSxJQUFBQyxtQkFBQWxLLEVBQUFpSyxJQUNBLE9BQUFELEdBQUFHLEtBQUEsYUFPQWhCLG1CQUFBRSxTQUFBLFlBQUEsV0FDQUMsS0FBQUMsTUFBQSxZQUFBLFNBQUFDLEdBQ0EsR0FBQUMsR0FBQUwsY0FBQSxZQUNBLE9BQUFJLEdBQUFDIiwiZmlsZSI6Imp1Z2VuZHN0YWR0cGxhbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIganVnZW5kc3RhZHRwbGFuQXBpID0gYW5ndWxhci5tb2R1bGUoJ2p1Z2VuZHN0YWR0cGxhbi5hcGknLCBbJ25nUmVzb3VyY2UnXSk7XG5cbmZ1bmN0aW9uIExvZ2luSW50ZXJjZXB0b3IoJHdpbmRvdyl7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVxdWVzdDogZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgICAgICAgICBpZiAoJHdpbmRvdy5sb2NhbFN0b3JhZ2UudG9rZW4pIHtcbiAgICAgICAgICAgICAgICBjb25maWcuaGVhZGVycy5BdXRob3JpemF0aW9uID0gJ0JlYXJlciAnICsgJHdpbmRvdy5sb2NhbFN0b3JhZ2UudG9rZW47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBjb25maWc7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbnZhciBiYWNrZW5kUHJlZml4ID0gJ2h0dHA6Ly9hcGkuanVnZW5kc3RhZHRwbGFuLmRldic7XG5cbmp1Z2VuZHN0YWR0cGxhbkFwaS5wcm92aWRlcignUGluJywgZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kZ2V0ID0gWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XG4gICAgICAgIHZhciBiYWNrZW5kVXJsID0gYmFja2VuZFByZWZpeCArICcvcGlucyc7XG4gICAgICAgIHJldHVybiAkcmVzb3VyY2UoYmFja2VuZFVybCwge30sIHtcbiAgICAgICAgICAgIGdldDoge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICAgICAgdXJsOiBiYWNrZW5kVXJsICsgJy86aWQnLFxuICAgICAgICAgICAgICAgIHBhcmFtczogeyBpZDonQGlkJ31cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1cGRhdGU6IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgICAgIHVybDogYmFja2VuZFVybCArICcvdXBkYXRlLzppZCcsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7IGlkOidAaWQnfSxcbiAgICAgICAgICAgICAgICBpbnRlcmNlcHRvcjogTG9naW5JbnRlcmNlcHRvclxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNhdmU6IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICB1cmw6IGJhY2tlbmRVcmwgKyAnL2NyZWF0ZScsXG4gICAgICAgICAgICAgICAgaW50ZXJjZXB0b3I6IExvZ2luSW50ZXJjZXB0b3JcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWxldGU6IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICAgICAgICAgIHVybDogYmFja2VuZFVybCArICcvZGVsZXRlLzppZCcsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7IGlkOidAaWQnfSxcbiAgICAgICAgICAgICAgICBpbnRlcmNlcHRvcjogTG9naW5JbnRlcmNlcHRvclxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XTtcbn0pO1xuXG5qdWdlbmRzdGFkdHBsYW5BcGkucHJvdmlkZXIoJ1RyYWVnZXInLCBmdW5jdGlvbigpIHtcbiAgICB0aGlzLiRnZXQgPSBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcbiAgICAgICAgdmFyIGJhY2tlbmRVcmwgPSBiYWNrZW5kUHJlZml4ICsgJy90cmFlZ2VyJztcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShiYWNrZW5kVXJsLCB7fSwge1xuICAgICAgICAgICAgZ2V0OiB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICB1cmw6IGJhY2tlbmRVcmwgKyAnLzppZCcsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7IGlkOidAaWQnfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVwZGF0ZToge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICAgICAgdXJsOiBiYWNrZW5kVXJsICsgJy91cGRhdGUvOmlkJyxcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHsgaWQ6J0BpZCd9LFxuICAgICAgICAgICAgICAgIGludGVyY2VwdG9yOiBMb2dpbkludGVyY2VwdG9yXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2F2ZToge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIHVybDogYmFja2VuZFVybCArICcvY3JlYXRlJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlbGV0ZToge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgICAgICAgICAgdXJsOiBiYWNrZW5kVXJsICsgJy9kZWxldGUvOmlkJyxcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHsgaWQ6J0BpZCd9LFxuICAgICAgICAgICAgICAgIGludGVyY2VwdG9yOiBMb2dpbkludGVyY2VwdG9yXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbG9naW46IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfSxcbiAgICAgICAgICAgICAgICB1cmw6IGJhY2tlbmRQcmVmaXggKyAnL2F1dGhlbnRpY2F0aW9uL3RyYWVnZXJfY2hlY2snLFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybVJlcXVlc3Q6IGZ1bmN0aW9uIChkYXRhLCBoZWFkZXJzR2V0dGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRyYW5zZm9ybSBKU09OIGludG8gcmVndWxhciBmb3JtIHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RyID0gW107XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGQgaW4gZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ci5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChkKSArIFwiPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGRhdGFbZF0pKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0ci5qb2luKFwiJlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1dO1xufSk7XG5cbmp1Z2VuZHN0YWR0cGxhbkFwaS5wcm92aWRlcignS2F0ZWdvcmllJywgZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kZ2V0ID0gWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XG4gICAgICAgIHZhciBiYWNrZW5kVXJsID0gYmFja2VuZFByZWZpeCArICcva2F0ZWdvcmllJztcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShiYWNrZW5kVXJsKTtcbiAgICB9XTtcbn0pOyIsInZhciBqdWdlbmRzdGFkdHBsYW5Mb2dpbiA9IGFuZ3VsYXIubW9kdWxlKCdqdWdlbmRzdGFkdHBsYW4ubG9naW4nLCBbXSk7XG5cbmp1Z2VuZHN0YWR0cGxhbkxvZ2luLnNlcnZpY2UoJ0xvZ2luU2VydmljZScsIGZ1bmN0aW9uKCkge1xuICAgIHZhciBhdXRoZW50aWNhdGVkID0gZmFsc2U7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBpc0xvZ2dlZEluOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gYXV0aGVudGljYXRlZDtcbiAgICAgICAgfSxcblxuICAgICAgICBzZXRMb2dnZWRJbjogZnVuY3Rpb24gKGxvZ2dlZEluKSB7XG4gICAgICAgICAgICBhdXRoZW50aWNhdGVkID0gbG9nZ2VkSW47XG4gICAgICAgIH1cbiAgICB9XG59KTsiLCJhbmd1bGFyLm1vZHVsZSggJ2p1Z2VuZHN0YWR0cGxhbi5zdGFydHNlaXRlJywgW1xuICAndWkucm91dGVyJyxcbiAgJ2xlYWZsZXQtZGlyZWN0aXZlJ1xuXSk7IiwiYW5ndWxhci5tb2R1bGUoICdqdWdlbmRzdGFkdHBsYW4ucGlucycsIFtcbiAgJ3VpLnJvdXRlcicsICdqdWdlbmRzdGFkdHBsYW4ubGlua3MnLCAnanVnZW5kc3RhZHRwbGFuLmFuc3ByZWNocGFydG5lcicsICdqdWdlbmRzdGFkdHBsYW4udGVybWluJ1xuXSk7IiwiYW5ndWxhci5tb2R1bGUoICdqdWdlbmRzdGFkdHBsYW4udGVybWluJywgW1xuXSk7IiwiYW5ndWxhci5tb2R1bGUoICdqdWdlbmRzdGFkdHBsYW4ubGlua3MnLCBbXG5dKTsiLCJhbmd1bGFyLm1vZHVsZSggJ2p1Z2VuZHN0YWR0cGxhbi50cmFlZ2VyJywgW1xuICAndWkucm91dGVyJywgJ2p1Z2VuZHN0YWR0cGxhbi5saW5rcycsICdqdWdlbmRzdGFkdHBsYW4uYW5zcHJlY2hwYXJ0bmVyJywgJ2p1Z2VuZHN0YWR0cGxhbi5sb2dpbidcbl0pOyIsImFuZ3VsYXIubW9kdWxlKCAnanVnZW5kc3RhZHRwbGFuLmFuc3ByZWNocGFydG5lcicsIFtcbl0pOyIsInZhciBKdWdlbmRzdGFkdHBsYW4gPSBKdWdlbmRzdGFkdHBsYW4gfHwge307XG5KdWdlbmRzdGFkdHBsYW4uQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnanVnZW5kc3RhZHRwbGFuLmNvbnRyb2xsZXJzJywgW10pO1xuXG5hbmd1bGFyLm1vZHVsZSggJ2p1Z2VuZHN0YWR0cGxhbicsIFtcbiAgJ25nUmVzb3VyY2UnLFxuICAnbmdTYW5pdGl6ZScsXG4gICd1aS5yb3V0ZXInLFxuICAnbGVhZmxldC1kaXJlY3RpdmUnLFxuICAndGV4dEFuZ3VsYXInLFxuICAnbmdGaWxlVXBsb2FkJyxcbiAgJ2p1Z2VuZHN0YWR0cGxhbi50ZW1wbGF0ZXMnLFxuICAnanVnZW5kc3RhZHRwbGFuLmxvZ2luJyxcbiAgJ2p1Z2VuZHN0YWR0cGxhbi5hcGknLFxuICAnanVnZW5kc3RhZHRwbGFuLnN0YXJ0c2VpdGUnLFxuICAnanVnZW5kc3RhZHRwbGFuLnBpbnMnLFxuICAnanVnZW5kc3RhZHRwbGFuLnRyYWVnZXInLFxuICAnanVnZW5kc3RhZHRwbGFuLmNvbnRyb2xsZXJzJ1xuXSlcblxuLmNvbmZpZyggZnVuY3Rpb24gbXlBcHBDb25maWcgKCAkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyICkge1xuICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCAnL3N0YXJ0c2VpdGUnICk7XG59KVxuXG4ucnVuKCBmdW5jdGlvbiBydW4gKCkge1xufSlcblxuLmNvbnRyb2xsZXIoICdBcHBDdHJsJywgWyAnJHNjb3BlJywgJyRsb2NhdGlvbicsIGZ1bmN0aW9uIEFwcEN0cmwoICRzY29wZSwgJGxvY2F0aW9uICl7XG4gICRzY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN1Y2Nlc3MnLCBmdW5jdGlvbihldmVudCwgdG9TdGF0ZSwgdG9QYXJhbXMsIGZyb21TdGF0ZSwgZnJvbVBhcmFtcyl7XG4gICAgaWYgKCBhbmd1bGFyLmlzRGVmaW5lZCggdG9TdGF0ZS5kYXRhLnBhZ2VUaXRsZSApICkge1xuICAgICAgJHNjb3BlLnBhZ2VUaXRsZSA9IHRvU3RhdGUuZGF0YS5wYWdlVGl0bGUgKyAnIHwgSnVnZW5kc3RhZHRwbGFuJyA7XG4gICAgfVxuICB9KTtcbn1dKVxuXG47IiwiYW5ndWxhci5tb2R1bGUoJ2p1Z2VuZHN0YWR0cGxhbi5zdGFydHNlaXRlJykuY29uZmlnKGZ1bmN0aW9uIGNvbmZpZyggJHN0YXRlUHJvdmlkZXIgKSB7XG4gIFxuICAkc3RhdGVQcm92aWRlci5zdGF0ZSggJ1N0YXJ0c2VpdGUnLCB7XG4gICAgdXJsOiAnL3N0YXJ0c2VpdGUnLFxuICAgIHZpZXdzOiB7XG4gICAgICBcIm1haW5cIjoge1xuICAgICAgICBjb250cm9sbGVyOiAnU3RhcnRzZWl0ZUNvbnRyb2xsZXInLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC9zdGFydHNlaXRlL3ZpZXdzL3N0YXJ0c2VpdGUudHBsLmh0bWwnXG4gICAgICB9XG4gICAgfSxcbiAgICBkYXRhOnsgcGFnZVRpdGxlOiAnU3RhcnRzZWl0ZScgfVxuICB9KTtcblxufSk7XG5cbmFuZ3VsYXIubW9kdWxlKCdqdWdlbmRzdGFkdHBsYW4uc3RhcnRzZWl0ZScpLmNvbnRyb2xsZXIoICdTdGFydHNlaXRlQ29udHJvbGxlcicsIFsgJyRzY29wZScsICckbG9jYXRpb24nLCAnUGluJywgJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24gU3RhcnRzZWl0ZUNvbnRyb2xsZXIoICRzY29wZSwgJGxvY2F0aW9uLCBQaW4sICR0ZW1wbGF0ZUNhY2hlICkge1xuICAgICBhbmd1bGFyLmV4dGVuZCgkc2NvcGUsIHtcbiAgICAgICAgY2VudGVyOiB7XG4gICAgICAgICAgICBsYXQ6IDUwLjczMjgyOTI0NjcyNixcbiAgICAgICAgICAgIGxuZzogNy4wOTM3MDA0MDkwMTE3LFxuICAgICAgICAgICAgem9vbTogMTNcbiAgICAgICAgfSxcbiAgICAgICAgZGVmYXVsdHM6IHtcbiAgICAgICAgICAgIHNjcm9sbFdoZWVsWm9vbTogZmFsc2VcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgJHNjb3BlLm1hcmtlcnMgPSBbXTtcblxuICAgIFBpbi5xdWVyeShmdW5jdGlvbihwaW5zKSB7XG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaChwaW5zLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICBpZiAoaXRlbS5sb25naXR1ZGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHZhciBtYXJrZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgIGxhdDogaXRlbS5sYXRpdHVkZSxcbiAgICAgICAgICAgICAgICAgICAgbG5nOiBpdGVtLmxvbmdpdHVkZSxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGl0ZW0udGl0ZWwsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICc8aDM+JyArIGl0ZW0udGl0ZWwgKyAnPC9oMz4nICsgaXRlbS5iZXNjaHJlaWJ1bmcgKyAnPHNtYWxsPjxhIGhyZWY9XCInICsgJy8jL3Bpbi8nICsgaXRlbS5pZCArICdcIj5NZWhyPC9hPjwvc21hbGw+J1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgJHNjb3BlLm1hcmtlcnMucHVzaChtYXJrZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcblxufV0pOyIsImFuZ3VsYXIubW9kdWxlKCdqdWdlbmRzdGFkdHBsYW4ucGlucycpLmNvbmZpZyhmdW5jdGlvbiBjb25maWcoICRzdGF0ZVByb3ZpZGVyICkge1xuICBcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoICdEZXRhaWw6IFBpbicsIHtcbiAgICB1cmw6ICcvcGluL3tpZDpbMC05XSt9JyxcbiAgICB2aWV3czoge1xuICAgICAgXCJtYWluXCI6IHtcbiAgICAgICAgY29udHJvbGxlcjogJ1BpbkRldGFpbENvbnRyb2xsZXInLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC9waW5zL3ZpZXdzL2RldGFpbC50cGwuaHRtbCdcbiAgICAgIH1cbiAgICB9LFxuICAgIHJlc29sdmU6IHtcbiAgICAgIHBpbkRldGFpbDogWyAnJHN0YXRlUGFyYW1zJywgJ1BpbicsIGZ1bmN0aW9uKCRzdGF0ZVBhcmFtcywgUGluKSB7XG4gICAgICAgIHJldHVybiBQaW4uZ2V0KHt9LHtpZDogJHN0YXRlUGFyYW1zLmlkfSk7XG4gICAgICB9XVxuICAgIH0sXG4gICAgZGF0YTp7IHBhZ2VUaXRsZTogJ1BpbicgfVxuICB9KTtcblxufSk7XG5cbkp1Z2VuZHN0YWR0cGxhbi5Db250cm9sbGVycy5jb250cm9sbGVyKCAnUGluRGV0YWlsQ29udHJvbGxlcicsIFsgJyRzY29wZScsICdwaW5EZXRhaWwnLCBmdW5jdGlvbiBQaW5EZXRhaWxDb250cm9sbGVyKCAkc2NvcGUsIHBpbkRldGFpbCApIHtcbiAgICAkc2NvcGUubWFya2VycyA9IFtdO1xuICAgICRzY29wZS5jZW50ZXIgPSB7XG4gICAgICAgIGxhdDogNTAuNzMyODI5MjQ2NzI2LFxuICAgICAgICBsbmc6IDcuMDkzNzAwNDA5MDExNyxcbiAgICAgICAgem9vbTogMTNcbiAgICB9O1xuXG4gICAgcGluRGV0YWlsLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkc2NvcGUucGluID0gcGluRGV0YWlsO1xuXG4gICAgICAgICAgICBhbmd1bGFyLmV4dGVuZCgkc2NvcGUsIHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0czoge1xuICAgICAgICAgICAgICAgICAgICBzY3JvbGxXaGVlbFpvb206IGZhbHNlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICRzY29wZS5jZW50ZXIgPSB7XG4gICAgICAgICAgICAgICAgbGF0OiBwaW5EZXRhaWwubGF0aXR1ZGUsXG4gICAgICAgICAgICAgICAgbG5nOiBwaW5EZXRhaWwubG9uZ2l0dWRlLFxuICAgICAgICAgICAgICAgIHpvb206IDE1XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgbWFya2VyID0ge1xuICAgICAgICAgICAgICAgIGxhdDogcGluRGV0YWlsLmxhdGl0dWRlLFxuICAgICAgICAgICAgICAgIGxuZzogcGluRGV0YWlsLmxvbmdpdHVkZSxcbiAgICAgICAgICAgICAgICB0aXRsZTogcGluRGV0YWlsLnRpdGVsLFxuICAgICAgICAgICAgICAgIGZvY3VzOiB0cnVlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICc8aDM+JyArIHBpbkRldGFpbC50aXRlbCArICc8L2gzPicgKyBwaW5EZXRhaWwuYmVzY2hyZWlidW5nLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICRzY29wZS5tYXJrZXJzLnB1c2gobWFya2VyKTtcbiAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBhbmd1bGFyLmV4dGVuZCgkc2NvcGUsIHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0czoge1xuICAgICAgICAgICAgICAgICAgICBzY3JvbGxXaGVlbFpvb206IGZhbHNlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICApO1xufV0pOyIsImFuZ3VsYXIubW9kdWxlKCdqdWdlbmRzdGFkdHBsYW4ucGlucycpLmNvbmZpZyhmdW5jdGlvbiBjb25maWcoICRzdGF0ZVByb3ZpZGVyICkge1xuXG4gICAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoICdGb3JtOiBQaW4nLCB7XG4gICAgICAgIHVybDogJy9waW4vY3JlYXRlJyxcbiAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgIFwibWFpblwiOiB7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ1BpbkZvcm1Db250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC9waW5zL3ZpZXdzL2Zvcm0udHBsLmh0bWwnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGRhdGE6eyBwYWdlVGl0bGU6ICdQaW4gZXJzdGVsbGVuJyB9XG4gICAgfSk7XG5cbn0pO1xuXG5KdWdlbmRzdGFkdHBsYW4uQ29udHJvbGxlcnMuY29udHJvbGxlciggJ1BpbkZvcm1Db250cm9sbGVyJywgWyAnJHNjb3BlJywgJyRsb2NhdGlvbicsICdQaW4nLCAnVHJhZWdlcicsICdLYXRlZ29yaWUnLCBmdW5jdGlvbiBQaW5Gb3JtQ29udHJvbGxlciggJHNjb3BlLCAkbG9jYXRpb24sIFBpbiwgVHJhZWdlciwgS2F0ZWdvcmllICkge1xuICAgICRzY29wZS5rYXRlZ29yaWVuID0gS2F0ZWdvcmllLnF1ZXJ5KCk7XG4gICAgJHNjb3BlLnBpbiA9IG5ldyBQaW4oKTtcbiAgICAkc2NvcGUucGlucyA9IFBpbi5xdWVyeSgpO1xuICAgICRzY29wZS50cmFlZ2VycyA9IFRyYWVnZXIucXVlcnkoKTtcblxuICAgIGFuZ3VsYXIuZXh0ZW5kKCRzY29wZSwge1xuICAgICAgICBjZW50ZXI6IHtcbiAgICAgICAgICAgIGxhdDogNTAuNzMyODI5MjQ2NzI2LFxuICAgICAgICAgICAgbG5nOiA3LjA5MzcwMDQwOTAxMTcsXG4gICAgICAgICAgICB6b29tOiAxM1xuICAgICAgICB9LFxuICAgICAgICBkZWZhdWx0czoge1xuICAgICAgICAgICAgc2Nyb2xsV2hlZWxab29tOiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICBldmVudHM6IHt9XG4gICAgfSk7XG5cbiAgICAkc2NvcGUucGluLm1hcmtlcnMgPSBbXTtcbiAgICAkc2NvcGUuJG9uKFwibGVhZmxldERpcmVjdGl2ZU1hcC5jbGlja1wiLCBmdW5jdGlvbihldmVudCwgYXJncyl7XG4gICAgICAgIHZhciBsZWFmRXZlbnQgPSBhcmdzLmxlYWZsZXRFdmVudDtcblxuICAgICAgICAkc2NvcGUucGluLm1hcmtlcnNbMF0gPSB7XG4gICAgICAgICAgICBsYXQ6IGxlYWZFdmVudC5sYXRsbmcubGF0LFxuICAgICAgICAgICAgbG5nOiBsZWFmRXZlbnQubGF0bG5nLmxuZyxcbiAgICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGZvY3VzOiB0cnVlXG4gICAgICAgIH07XG4gICAgfSk7XG5cbiAgICAkc2NvcGUubmV3UGluID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICRzY29wZS5waW4gPSBuZXcgUGluKCk7XG4gICAgICAgICRzY29wZS5waW4ubWFya2VycyA9IFtdO1xuICAgICAgICAkc2NvcGUuZWRpdGluZyA9IGZhbHNlO1xuICAgIH07XG5cbiAgICAkc2NvcGUuc2F2ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoJHNjb3BlLnBpbi5pZCkge1xuICAgICAgICAgICAgUGluLnVwZGF0ZSgkc2NvcGUucGluKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICRzY29wZS5waW4uJHNhdmUoKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnBpbnMucHVzaChyZXNwb25zZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAkc2NvcGUubmV3UGluKCk7XG4gICAgfTtcblxuICAgICRzY29wZS5zZXRBY3RpdmVQaW4gPSBmdW5jdGlvbihwaW4pIHtcbiAgICAgICAgJHNjb3BlLnBpbiA9IHBpbjtcbiAgICAgICAgJHNjb3BlLnBpbi5tYXJrZXJzID0gW107XG4gICAgICAgIGlmIChwaW4ubG9uZ2l0dWRlICE9IG51bGwpIHtcbiAgICAgICAgICAgICRzY29wZS5waW4ubWFya2Vyc1swXSA9IHtcbiAgICAgICAgICAgICAgICBsYXQ6IHBpbi5sYXRpdHVkZSxcbiAgICAgICAgICAgICAgICBsbmc6IHBpbi5sb25naXR1ZGUsXG4gICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGZvY3VzOiB0cnVlXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgICRzY29wZS5lZGl0aW5nID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLnJlbW92ZSA9IGZ1bmN0aW9uKHBpbikge1xuICAgICAgICBQaW4uZGVsZXRlKHBpbiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSAkc2NvcGUucGlucy5pbmRleE9mKHBpbik7XG4gICAgICAgICAgICBpZiAoaW5kZXggIT0gLTEpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUucGlucy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG5cbiAgICAvLyBCYXJyaWVyZWZyZWloZWl0c2dyYWRlXG4gICAgJHNjb3BlLmJhcnJpZXJlZnJlaWhlaXRzZ3JhZGUgPSBbICdHdXQnLCAnVGVpbHdlaXNlJywgJ05pY2h0IGJhcnJpZXJlZnJlaScgXTtcblxuXG4gICAgLy8gS29zdGVuYXJ0ZW5cbiAgICAkc2NvcGUua29zdGVuYXJ0ZW4gPSBbICdLb3N0ZW5sb3MnLCAnS29zdGVucGZsaWNodGlnJyBdO1xuXG5cbiAgICAvLyBNaW5kZXN0YWx0ZXJcbiAgICAkc2NvcGUubWluZGVzdGFsdGVycyA9IFsgJ2FiIDEyJywgJ2FiIDE2JywgJ2FiIDE4JywgJ2FiIDIxJyBdO1xuXG5cblxufV0pOyIsImFuZ3VsYXIubW9kdWxlKCdqdWdlbmRzdGFkdHBsYW4ucGlucycpLmNvbmZpZyhmdW5jdGlvbiBjb25maWcoICRzdGF0ZVByb3ZpZGVyICkge1xuICBcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoICdMaXN0ZTogUGluJywge1xuICAgIHVybDogJy9waW5zJyxcbiAgICB2aWV3czoge1xuICAgICAgXCJtYWluXCI6IHtcbiAgICAgICAgY29udHJvbGxlcjogJ1BpbnNDb250cm9sbGVyJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvcGlucy92aWV3cy9saXN0LnRwbC5odG1sJ1xuICAgICAgfVxuICAgIH0sXG4gICAgZGF0YTp7IHBhZ2VUaXRsZTogJ1BpbnMnIH1cbiAgfSk7XG5cbn0pO1xuXG5KdWdlbmRzdGFkdHBsYW4uQ29udHJvbGxlcnMuY29udHJvbGxlciggJ1BpbnNDb250cm9sbGVyJywgWyAnJHNjb3BlJywgJyRsb2NhdGlvbicsICdQaW4nLCBmdW5jdGlvbiBQaW5zQ29udHJvbGxlciggJHNjb3BlLCAkbG9jYXRpb24sIFBpbiApIHtcbiAgICAkc2NvcGUucGlucyA9IFBpbi5xdWVyeSgpO1xuXG4gICAgJHNjb3BlLnZpZXdQaW4gPSBmdW5jdGlvbiAocGluKSB7XG4gICAgICAkbG9jYXRpb24ucGF0aCgnL3Bpbi8nK3Bpbi5pZCk7XG4gICAgfTtcblxufV0pOyIsIkp1Z2VuZHN0YWR0cGxhbi5Db250cm9sbGVycy5jb250cm9sbGVyKCAnVGVybWluRm9ybUNvbnRyb2xsZXInLCBbICckc2NvcGUnLFxuICAgIGZ1bmN0aW9uKCRzY29wZSkge1xuXG4gICAgICAgIC8vIFdvY2hlbnRhZ2VcbiAgICAgICAgJHNjb3BlLndvY2hlbnRhZ2UgPSBbICdNb250YWcnLCAnRGllbnN0YWcnLCAnTWl0dHdvY2gnLCAnRG9ubmVyc3RhZycsICdGcmVpdGFnJywgJ1NhbXN0YWcnLCAnU29ubnRhZycgXTtcblxuXG4gICAgICAgIC8vIFRlcm1pblxuICAgICAgICAkc2NvcGUubmV3VGVybWluID0ge307XG4gICAgICAgICRzY29wZS5hZGRUZXJtaW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICgkc2NvcGUucGluLnRlcm1pbmUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5waW4udGVybWluZSA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHNjb3BlLnBpbi50ZXJtaW5lLnB1c2goJHNjb3BlLm5ld1Rlcm1pbik7XG4gICAgICAgICAgICAkc2NvcGUubmV3VGVybWluID0ge307XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmlzVGVybWluVmFsaWQgPSBmdW5jdGlvbih0ZXJtaW4pIHtcbiAgICAgICAgICAgIGlmICh0ZXJtaW4uYmVnaW5uID09PSB1bmRlZmluZWQgfHwgdGVybWluLmJlZ2lubiA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGVybWluLmdhbnp0YWVnaWcgIT09IHRydWUgJiYgKHRlcm1pbi5iZWdpbm5fdWhyemVpdCA9PT0gdW5kZWZpbmVkIHx8IHRlcm1pbi5iZWdpbm5fdWhyemVpdCA9PT0gMCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIC8vIFdpZWRlcmhvbHVuZ1xuICAgICAgICAkc2NvcGUud29jaGVfZGVzX21vbmF0cyA9IFtcbiAgICAgICAgICAgIHsgaWQ6IDAsIGxhYmVsOiAnSmVkZSBXb2NoZScgfSxcbiAgICAgICAgICAgIHsgaWQ6IDEsIGxhYmVsOiAnSmVkZSAxLiBXb2NoZScgfSxcbiAgICAgICAgICAgIHsgaWQ6IDIsIGxhYmVsOiAnSmVkZSAyLiBXb2NoZScgfSxcbiAgICAgICAgICAgIHsgaWQ6IDMsIGxhYmVsOiAnSmVkZSAzLiBXb2NoZScgfSxcbiAgICAgICAgICAgIHsgaWQ6IDQsIGxhYmVsOiAnSmVkZSA0LiBXb2NoZScgfSxcbiAgICAgICAgICAgIHsgaWQ6IDUsIGxhYmVsOiAnSmVkZSA1LiBXb2NoZScgfVxuICAgICAgICBdO1xuICAgICAgICAkc2NvcGUubmV3V2llZGVyaG9sdW5nID0ge307XG4gICAgICAgICRzY29wZS5hZGRXaWVkZXJob2x1bmcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICgkc2NvcGUubmV3VGVybWluLndpZWRlcmhvbHVuZ2VuID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV3VGVybWluLndpZWRlcmhvbHVuZ2VuID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkc2NvcGUubmV3VGVybWluLndpZWRlcmhvbHVuZ2VuLnB1c2goJHNjb3BlLm5ld1dpZWRlcmhvbHVuZyk7XG4gICAgICAgICAgICAkc2NvcGUubmV3V2llZGVyaG9sdW5nID0ge307XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmlzV2llZGVyaG9sdW5nVmFsaWQgPSBmdW5jdGlvbih3aWVkZXJob2x1bmcpIHtcbiAgICAgICAgICAgIGlmICh3aWVkZXJob2x1bmcud29jaGVudGFnID09PSB1bmRlZmluZWQgfHwgd2llZGVyaG9sdW5nLndvY2hlbnRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9O1xuXG4gICAgfV0pOyIsIkp1Z2VuZHN0YWR0cGxhbi5Db250cm9sbGVycy5jb250cm9sbGVyKCAnTGlua3NGb3JtQ29udHJvbGxlcicsIFsgJyRzY29wZScsXG4gICAgZnVuY3Rpb24oJHNjb3BlKSB7XG5cbiAgICAgICAgLy8gTGlua3NcbiAgICAgICAgJHNjb3BlLm5ld0xpbmsgPSB7fTtcbiAgICAgICAgJHNjb3BlLmFkZExpbmsgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICgkc2NvcGUubW9kZWwubGlua3MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5tb2RlbC5saW5rcyA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHNjb3BlLm1vZGVsLmxpbmtzLnB1c2goJHNjb3BlLm5ld0xpbmspO1xuICAgICAgICAgICAgJHNjb3BlLm5ld0xpbmsgPSB7fTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuaXNMaW5rVmFsaWQgPSBmdW5jdGlvbihsaW5rKSB7XG4gICAgICAgICAgICBpZiAobGluay50aXRlbCA9PT0gdW5kZWZpbmVkIHx8IGxpbmsudGl0ZWwubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChsaW5rLnVybCA9PT0gdW5kZWZpbmVkIHx8IGxpbmsudXJsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9O1xuXG4gICAgfV0pOyIsImFuZ3VsYXIubW9kdWxlKCdqdWdlbmRzdGFkdHBsYW4udHJhZWdlcicpLmNvbmZpZyhmdW5jdGlvbiBjb25maWcoICRzdGF0ZVByb3ZpZGVyICkge1xuICBcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoICdMaXN0ZTogVHJhZWdlcicsIHtcbiAgICB1cmw6ICcvdHJhZWdlcicsXG4gICAgdmlld3M6IHtcbiAgICAgIFwibWFpblwiOiB7XG4gICAgICAgIGNvbnRyb2xsZXI6ICdUcmFlZ2VyQ29udHJvbGxlcicsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL3RyYWVnZXIvdmlld3MvbGlzdGUudHBsLmh0bWwnXG4gICAgICB9XG4gICAgfSxcbiAgICBkYXRhOnsgcGFnZVRpdGxlOiAnVHLDpGdlcicgfVxuICB9KTtcblxufSk7XG5cbkp1Z2VuZHN0YWR0cGxhbi5Db250cm9sbGVycy5jb250cm9sbGVyKCAnVHJhZWdlckNvbnRyb2xsZXInLCBbICckc2NvcGUnLCAnJGxvY2F0aW9uJywgJ1RyYWVnZXInLCBmdW5jdGlvbiBUcmFlZ2VyQ29udHJvbGxlciggJHNjb3BlLCAkbG9jYXRpb24sIFRyYWVnZXIgKSB7XG4gICAgJHNjb3BlLnRyYWVnZXIgPSBUcmFlZ2VyLnF1ZXJ5KCk7XG5cbiAgICAkc2NvcGUudmlld1RyYWVnZXIgPSBmdW5jdGlvbiAodHJhZWdlcikge1xuICAgICAgJGxvY2F0aW9uLnBhdGgoJy90cmFlZ2VyLycrdHJhZWdlci5pZCk7XG4gICAgfTtcblxufV0pOyIsImFuZ3VsYXIubW9kdWxlKCdqdWdlbmRzdGFkdHBsYW4udHJhZWdlcicpLmNvbmZpZyhmdW5jdGlvbiBjb25maWcoICRzdGF0ZVByb3ZpZGVyICkge1xuICBcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoICdEZXRhaWw6IFRyYWVnZXInLCB7XG4gICAgdXJsOiAnL3RyYWVnZXIve2lkOlswLTldK30nLFxuICAgIHZpZXdzOiB7XG4gICAgICBcIm1haW5cIjoge1xuICAgICAgICBjb250cm9sbGVyOiAnVHJhZWdlckRldGFpbENvbnRyb2xsZXInLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC90cmFlZ2VyL3ZpZXdzL2RldGFpbC50cGwuaHRtbCdcbiAgICAgIH1cbiAgICB9LFxuICAgIHJlc29sdmU6IHtcbiAgICAgIHRyYWVnZXJEZXRhaWw6IFsgJyRzdGF0ZVBhcmFtcycsICdUcmFlZ2VyJywgZnVuY3Rpb24oJHN0YXRlUGFyYW1zLCBUcmFlZ2VyKSB7XG4gICAgICAgIHJldHVybiBUcmFlZ2VyLmdldCh7fSx7aWQ6ICRzdGF0ZVBhcmFtcy5pZH0pO1xuICAgICAgfV1cbiAgICB9LFxuICAgIGRhdGE6eyBwYWdlVGl0bGU6ICdUcsOkZ2VyJyB9XG4gIH0pO1xuXG59KTtcblxuSnVnZW5kc3RhZHRwbGFuLkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoICdUcmFlZ2VyRGV0YWlsQ29udHJvbGxlcicsIFsgJyRzY29wZScsICd0cmFlZ2VyRGV0YWlsJywgZnVuY3Rpb24gVHJhZWdlckRldGFpbENvbnRyb2xsZXIoICRzY29wZSwgdHJhZWdlckRldGFpbCApIHtcbiAgICAkc2NvcGUudHJhZWdlciA9IHRyYWVnZXJEZXRhaWw7XG5cbiAgICBhbmd1bGFyLmV4dGVuZCgkc2NvcGUsIHtcbiAgICAgICAgY2VudGVyOiB7XG4gICAgICAgICAgICBsYXQ6IDUwLjczMjgyOTI0NjcyNixcbiAgICAgICAgICAgIGxuZzogNy4wOTM3MDA0MDkwMTE3LFxuICAgICAgICAgICAgem9vbTogMTNcbiAgICAgICAgfSxcbiAgICAgICAgZGVmYXVsdHM6IHtcbiAgICAgICAgICAgIHNjcm9sbFdoZWVsWm9vbTogZmFsc2VcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgJHNjb3BlLm1hcmtlcnMgPSBbXTtcblxuICAgIHRyYWVnZXJEZXRhaWwuJHByb21pc2UudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKHRyYWVnZXJEZXRhaWwucGlucywgZnVuY3Rpb24oaXRlbSwga2V5KSB7XG4gICAgICAgICAgICB2YXIgbWFya2VyID0ge1xuICAgICAgICAgICAgICAgIGxhdDogaXRlbS5sYXRpdHVkZSxcbiAgICAgICAgICAgICAgICBsbmc6IGl0ZW0ubG9uZ2l0dWRlLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBpdGVtLnRpdGVsLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICc8aDM+JyArIGl0ZW0udGl0ZWwgKyAnPC9oMz4nICsgaXRlbS5iZXNjaHJlaWJ1bmcgKyAnPHNtYWxsPjxhIGhyZWY9XCInICsgJy8jL3Bpbi8nK2l0ZW0uaWQgKyAnXCI+TWVocjwvYT48L3NtYWxsPidcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAkc2NvcGUubWFya2Vycy5wdXNoKG1hcmtlcik7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufV0pOyIsImFuZ3VsYXIubW9kdWxlKCdqdWdlbmRzdGFkdHBsYW4udHJhZWdlcicpLmNvbmZpZyhmdW5jdGlvbiBjb25maWcoICRzdGF0ZVByb3ZpZGVyICkge1xuXG4gICAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoICdGb3JtOiBUcmFlZ2VyJywge1xuICAgICAgICB1cmw6ICcvdHJhZWdlci9jcmVhdGUnLFxuICAgICAgICB2aWV3czoge1xuICAgICAgICAgICAgXCJtYWluXCI6IHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnVHJhZWdlckZvcm1Db250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC90cmFlZ2VyL3ZpZXdzL2Zvcm0udHBsLmh0bWwnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGRhdGE6eyBwYWdlVGl0bGU6ICdUcsOkZ2VyIGVyc3RlbGxlbicgfVxuICAgIH0pO1xuXG59KTtcblxuSnVnZW5kc3RhZHRwbGFuLkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoICdUcmFlZ2VyRm9ybUNvbnRyb2xsZXInLCBbICckc2NvcGUnLCAnJGxvY2F0aW9uJywgJ1RyYWVnZXInLCAnS2F0ZWdvcmllJywgJ1VwbG9hZCcsIGZ1bmN0aW9uIFRyYWVnZXJGb3JtQ29udHJvbGxlciggJHNjb3BlLCAkbG9jYXRpb24sIFRyYWVnZXIsIEthdGVnb3JpZSwgVXBsb2FkICkge1xuICAgICRzY29wZS5rYXRlZ29yaWVuID0gS2F0ZWdvcmllLnF1ZXJ5KCk7XG4gICAgJHNjb3BlLnRyYWVnZXIgPSBuZXcgVHJhZWdlcigpO1xuICAgICRzY29wZS50cmFlZ2VycyA9IFRyYWVnZXIucXVlcnkoKTtcblxuICAgICRzY29wZS5uZXdUcmFlZ2VyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICRzY29wZS50cmFlZ2VyID0gbmV3IFRyYWVnZXIoKTtcbiAgICAgICAgJHNjb3BlLmVkaXRpbmcgPSBmYWxzZTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLnNhdmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCRzY29wZS50cmFlZ2VyLmlkKSB7XG4gICAgICAgICAgICBUcmFlZ2VyLnVwZGF0ZSgkc2NvcGUudHJhZWdlcikudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV3VHJhZWdlcigpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgYWxlcnQoJ0VpbiBUcsOkZ2VyIG1pdCBkaWVzZXIgRW1haWwtQWRyZXNzZSBleGlzdGllcnQgYmVyZWl0cyEnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJHNjb3BlLnRyYWVnZXIuJHNhdmUoKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnRyYWVnZXJzLnB1c2gocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICRzY29wZS5uZXdUcmFlZ2VyKCk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBhbGVydCgnRWluIFRyw6RnZXIgbWl0IGRpZXNlciBFbWFpbC1BZHJlc3NlIGV4aXN0aWVydCBiZXJlaXRzIScpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgJHNjb3BlLnNldEFjdGl2ZVRyYWVnZXIgPSBmdW5jdGlvbih0cmFlZ2VyKSB7XG4gICAgICAgICRzY29wZS50cmFlZ2VyID0gdHJhZWdlcjtcbiAgICAgICAgJHNjb3BlLmVkaXRpbmcgPSB0cnVlO1xuICAgIH07XG5cbiAgICAkc2NvcGUucmVtb3ZlID0gZnVuY3Rpb24odHJhZWdlcikge1xuICAgICAgICBUcmFlZ2VyLmRlbGV0ZSh0cmFlZ2VyLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9ICRzY29wZS50cmFlZ2Vycy5pbmRleE9mKHRyYWVnZXIpO1xuICAgICAgICAgICAgaWYgKGluZGV4ICE9IC0xKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnRyYWVnZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvLyBCaWxkZXJcbiAgICAkc2NvcGUub25GaWxlU2VsZWN0ID0gZnVuY3Rpb24oJGZpbGVzKSB7XG4gICAgICAgIHZhciBkb1VwbG9hZCA9IGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgICAgICAgIFVwbG9hZC51cGxvYWQoe1xuICAgICAgICAgICAgICAgIHVybDogJ2FwcF9kZXYucGhwL2ltZy91cGxvYWQnLCAvL3VwbG9hZC5waHAgc2NyaXB0LCBub2RlLmpzIHJvdXRlLCBvciBzZXJ2bGV0IHVybFxuICAgICAgICAgICAgICAgIC8vIG1ldGhvZDogJ1BPU1QnIG9yICdQVVQnLFxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIC8vIGhlYWRlcnM6IHsnaGVhZGVyLWtleSc6ICdoZWFkZXItdmFsdWUnfSxcbiAgICAgICAgICAgICAgICAvLyB3aXRoQ3JlZGVudGlhbHM6IHRydWUsXG4gICAgICAgICAgICAgICAgZGF0YToge215T2JqOiAkc2NvcGUubXlNb2RlbE9ian0sXG4gICAgICAgICAgICAgICAgZmlsZTogZmlsZSAvLyBvciBsaXN0IG9mIGZpbGVzOiAkZmlsZXMgZm9yIGh0bWw1IG9ubHlcbiAgICAgICAgICAgICAgICAvLyBmaWxlTmFtZTogJ2RvYy5qcGcnIG9yIFsnMS5qcGcnLCAnMi5qcGcnLCAuLi5dIC8vIHRvIG1vZGlmeSB0aGUgbmFtZSBvZiB0aGUgZmlsZVxuICAgICAgICAgICAgICAgIC8qIGN1c3RvbWl6ZSBmaWxlIGZvcm1EYXRhIG5hbWUgKCdDb250ZW50LURlc3Bvc2l0aW9uJyksIHNlcnZlciBzaWRlIGZpbGUgdmFyaWFibGUgbmFtZS5cbiAgICAgICAgICAgICAgICAgRGVmYXVsdCBpcyAnZmlsZScgKi9cbiAgICAgICAgICAgICAgICAvL2ZpbGVGb3JtRGF0YU5hbWU6IG15RmlsZSwgLy9vciBhIGxpc3Qgb2YgbmFtZXMgZm9yIG11bHRpcGxlIGZpbGVzIChodG1sNSkuXG4gICAgICAgICAgICAgICAgLyogY3VzdG9taXplIGhvdyBkYXRhIGlzIGFkZGVkIHRvIGZvcm1EYXRhLiBTZWUgIzQwI2lzc3VlY29tbWVudC0yODYxMjAwMCBmb3Igc2FtcGxlIGNvZGUgKi9cbiAgICAgICAgICAgICAgICAvL2Zvcm1EYXRhQXBwZW5kZXI6IGZ1bmN0aW9uKGZvcm1EYXRhLCBrZXksIHZhbCl7fVxuICAgICAgICAgICAgfSkucHJvZ3Jlc3MoZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwZXJjZW50OiAnICsgcGFyc2VJbnQoMTAwLjAgKiBldnQubG9hZGVkIC8gZXZ0LnRvdGFsKSk7XG4gICAgICAgICAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xuICAgICAgICAgICAgICAgIC8vIGZpbGUgaXMgdXBsb2FkZWQgc3VjY2Vzc2Z1bGx5XG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS50cmFlZ2VyLmJpbGRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS50cmFlZ2VyLmJpbGRlciA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaWxlLnRtcF9uYW1lID0gZGF0YS5mb2xkZXI7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnRyYWVnZXIuYmlsZGVyLnB1c2goZmlsZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vLmVycm9yKC4uLilcbiAgICAgICAgICAgIC8vLnRoZW4oc3VjY2VzcywgZXJyb3IsIHByb2dyZXNzKTtcbiAgICAgICAgICAgIC8vLnhocihmdW5jdGlvbih4aHIpe3hoci51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lciguLi4pfSkvLyBhY2Nlc3MgYW5kIGF0dGFjaCBhbnkgZXZlbnQgbGlzdGVuZXIgdG8gWE1MSHR0cFJlcXVlc3QuXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8kZmlsZXM6IGFuIGFycmF5IG9mIGZpbGVzIHNlbGVjdGVkLCBlYWNoIGZpbGUgaGFzIG5hbWUsIHNpemUsIGFuZCB0eXBlLlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICRmaWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGZpbGUgPSAkZmlsZXNbaV07XG4gICAgICAgICAgICAkc2NvcGUudXBsb2FkID0gZG9VcGxvYWQoZmlsZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG5cbiAgICAvLyBBZHJlc3NlblxuICAgICRzY29wZS5uZXdBZHJlc3NlID0ge307XG4gICAgJHNjb3BlLmFkZEFkcmVzc2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCRzY29wZS50cmFlZ2VyLmFkcmVzc2VuID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICRzY29wZS50cmFlZ2VyLmFkcmVzc2VuID0gW107XG4gICAgICAgIH1cbiAgICAgICAgJHNjb3BlLnRyYWVnZXIuYWRyZXNzZW4ucHVzaCgkc2NvcGUubmV3QWRyZXNzZSk7XG4gICAgICAgICRzY29wZS5uZXdBZHJlc3NlID0ge307XG4gICAgfTtcblxuICAgICRzY29wZS5pc0FkcmVzc2VWYWxpZCA9IGZ1bmN0aW9uKGFkcmVzc2UpIHtcbiAgICAgICAgaWYgKGFkcmVzc2Uuc3RyYXNzZSA9PT0gdW5kZWZpbmVkIHx8IGFkcmVzc2Uuc3RyYXNzZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBlbHNlIGlmIChhZHJlc3NlLm9ydCA9PT0gdW5kZWZpbmVkIHx8IGFkcmVzc2Uub3J0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbn1dKTsiLCJhbmd1bGFyLm1vZHVsZSgnanVnZW5kc3RhZHRwbGFuLnRyYWVnZXInKS5jb25maWcoZnVuY3Rpb24gY29uZmlnKCAkc3RhdGVQcm92aWRlciApIHtcblxuICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCAnTG9naW46IFRyYWVnZXInLCB7XG4gICAgICAgIHVybDogJy90cmFlZ2VyL2xvZ2luJyxcbiAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgIFwibWFpblwiOiB7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ1RyYWVnZXJMb2dpbkNvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL3RyYWVnZXIvdmlld3MvbG9naW4udHBsLmh0bWwnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGRhdGE6eyBwYWdlVGl0bGU6ICdFaW5sb2dnZW4nIH1cbiAgICB9KTtcblxufSk7XG5cbkp1Z2VuZHN0YWR0cGxhbi5Db250cm9sbGVycy5jb250cm9sbGVyKCAnVHJhZWdlckxvZ2luQ29udHJvbGxlcicsIFsgJyRzY29wZScsICckc3RhdGUnLCAnJHdpbmRvdycsICdMb2dpblNlcnZpY2UnLCAnVHJhZWdlcicsIGZ1bmN0aW9uIFRyYWVnZXJMb2dpbkNvbnRyb2xsZXIoICRzY29wZSwgJHN0YXRlLCAkd2luZG93LCBMb2dpblNlcnZpY2UsIFRyYWVnZXIpIHtcblxuICAgICRzY29wZS50cmFlZ2VyID0gbmV3IFRyYWVnZXIoKTtcblxuICAgICRzY29wZS5sb2dpbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAkc2NvcGUudHJhZWdlci4kbG9naW4oKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS50b2tlbiA9IHJlc3BvbnNlLnRva2VuO1xuICAgICAgICAgICAgICAgIExvZ2luU2VydmljZS5zZXRMb2dnZWRJbih0cnVlKTtcblxuICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnU3RhcnRzZWl0ZScpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXJyb3IgPSB7XG4gICAgICAgICAgICAgICAgICAgIG1zZzogJ0F1dGhlbnRpZml6aWVydW5nIGZlaGxnZXNjaGxhZ2VuISdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9O1xufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoICdwbHVzT25lJywgW10gKVxuXG4uZGlyZWN0aXZlKCAncGx1c09uZScsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIGxpbms6IGZ1bmN0aW9uKCBzY29wZSwgZWxlbWVudCwgYXR0cnMgKSB7XG4gICAgICBnYXBpLnBsdXNvbmUucmVuZGVyKCBlbGVtZW50WzBdLCB7XG4gICAgICAgIFwic2l6ZVwiOiBcIm1lZGl1bVwiLFxuICAgICAgICBcImhyZWZcIjogXCJodHRwOi8vYml0Lmx5L25nQm9pbGVycGxhdGVcIlxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufSlcblxuO1xuXG4iLCJKdWdlbmRzdGFkdHBsYW4uQ29udHJvbGxlcnMuY29udHJvbGxlciggJ0Fuc3ByZWNocGFydG5lckZvcm1Db250cm9sbGVyJywgWyAnJHNjb3BlJyxcbiAgICBmdW5jdGlvbigkc2NvcGUpIHtcblxuICAgICAgICAvLyBBbnNwcmVjaHBhcnRuZXJcbiAgICAgICAgJHNjb3BlLm5ld0Fuc3ByZWNocGFydG5lciA9IHt9O1xuICAgICAgICAkc2NvcGUuYWRkQW5zcHJlY2hwYXJ0bmVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoJHNjb3BlLm1vZGVsLmFuc3ByZWNocGFydG5lciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLm1vZGVsLmFuc3ByZWNocGFydG5lciA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHNjb3BlLm1vZGVsLmFuc3ByZWNocGFydG5lci5wdXNoKCRzY29wZS5uZXdBbnNwcmVjaHBhcnRuZXIpO1xuICAgICAgICAgICAgJHNjb3BlLm5ld0Fuc3ByZWNocGFydG5lciA9IHt9O1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5pc0Fuc3ByZWNocGFydG5lclZhbGlkID0gZnVuY3Rpb24oYW5zcHJlY2hwYXJ0bmVyKSB7XG4gICAgICAgICAgICBpZiAoYW5zcHJlY2hwYXJ0bmVyLm5hbWUgPT09IHVuZGVmaW5lZCB8fCBhbnNwcmVjaHBhcnRuZXIubmFtZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFuc3ByZWNocGFydG5lci5lbWFpbCA9PT0gdW5kZWZpbmVkIHx8IGFuc3ByZWNocGFydG5lci5lbWFpbC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfTtcblxuICAgIH1dKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
