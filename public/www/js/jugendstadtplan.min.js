var jugendstadtplanLogin=angular.module("jugendstadtplan.login",[]);jugendstadtplanLogin.service("LoginService",["$window","jwtHelper",function(e,t){var n={authenticated:!1,traeger:null};return n.getToken=function(){var t=e.localStorage.getItem("jspToken");return void 0!==t?JSON.parse(t):void 0},n.setToken=function(t){e.localStorage.setItem("jspToken",JSON.stringify(t))},n.isTokenExpired=function(){var e=this.getToken();return e?t.isTokenExpired(e):!0},n.getJugendstadtplanUser=function(){return this.traeger},n.setJugendstadtplanUser=function(e){this.traeger=e},n.isLoggedIn=function(){return this.authenticated},n.login=function(e){this.authenticated=!0,this.setToken(e);var n=t.decodeToken(e);this.setJugendstadtplanUser(n.traeger)},n.logout=function(){this.traeger=null,this.authenticated=!1,e.localStorage.removeItem("jspToken")},n.init=function(){var e=this.getToken();void 0!==e&&(this.isTokenExpired()?this.logout():this.login(e))},n}]),angular.module("jugendstadtplan.pins",["ui.router","jugendstadtplan.links","jugendstadtplan.ansprechpartner","jugendstadtplan.termin"]),angular.module("jugendstadtplan.links",[]),angular.module("jugendstadtplan.startseite",["ui.router","leaflet-directive"]),angular.module("jugendstadtplan.ansprechpartner",[]),angular.module("jugendstadtplan.termin",[]),angular.module("jugendstadtplan.traeger",["ui.router","jugendstadtplan.login","jugendstadtplan.links","jugendstadtplan.ansprechpartner"]);var Jugendstadtplan=Jugendstadtplan||{};Jugendstadtplan.Controllers=angular.module("jugendstadtplan.controllers",[]),angular.module("jugendstadtplan",["ngResource","ngSanitize","ui.router","leaflet-directive","textAngular","ngFileUpload","angular-jwt","jugendstadtplan.templates","jugendstadtplan.login","jugendstadtplan.api","jugendstadtplan.startseite","jugendstadtplan.pins","jugendstadtplan.traeger","jugendstadtplan.controllers"]).config(["$stateProvider","$urlRouterProvider",function(e,t){t.otherwise("/startseite")}]).run(function(){}).controller("AppCtrl",["$scope","LoginService","$state",function(e,t,n){e.$on("$stateChangeSuccess",function(t,n,r,a,i){angular.isDefined(n.data.pageTitle)&&(e.pageTitle=n.data.pageTitle+" | Jugendstadtplan")}),t.init(),e.isLoggedIn=function(){return t.isLoggedIn()},e.getJugendstadtplanUser=function(){return t.getJugendstadtplanUser()},e.logout=function(){t.logout(),n.go("Startseite")}}]),angular.module("jugendstadtplan.pins").config(["$stateProvider",function(e){e.state("Detail: Pin",{url:"/pin/{id:[0-9]+}",views:{main:{controller:"PinDetailController",templateUrl:"app/pins/views/detail.tpl.html"}},resolve:{pinDetail:["$stateParams","Pin",function(e,t){return t.get({},{id:e.id})}]},data:{pageTitle:"Pin"}})}]),Jugendstadtplan.Controllers.controller("PinDetailController",["$scope","pinDetail",function(e,t){e.markers=[],e.center={lat:50.732829246726,lng:7.0937004090117,zoom:13},t.$promise.then(function(){e.pin=t,angular.extend(e,{defaults:{scrollWheelZoom:!1}}),e.center={lat:t.latitude,lng:t.longitude,zoom:15};var n={lat:t.latitude,lng:t.longitude,title:t.titel,focus:!0,message:"<h3>"+t.titel+"</h3>"+t.beschreibung};e.markers.push(n)},function(){angular.extend(e,{defaults:{scrollWheelZoom:!1}})})}]),angular.module("jugendstadtplan.pins").config(["$stateProvider",function(e){e.state("Form: Pin",{url:"/pin/create",views:{main:{controller:"PinFormController",templateUrl:"app/pins/views/form.tpl.html"}},data:{pageTitle:"Pin erstellen"}})}]),Jugendstadtplan.Controllers.controller("PinFormController",["$scope","$location","Pin","Traeger","Kategorie",function(e,t,n,r,a){e.kategorien=a.query(),e.pin=new n,e.pins=n.query(),e.traegers=r.query(),angular.extend(e,{center:{lat:50.732829246726,lng:7.0937004090117,zoom:13},defaults:{scrollWheelZoom:!1},events:{}}),e.pin.markers=[],e.$on("leafletDirectiveMap.click",function(t,n){var r=n.leafletEvent;e.pin.markers[0]={lat:r.latlng.lat,lng:r.latlng.lng,draggable:!0,focus:!0}}),e.newPin=function(){e.pin=new n,e.pin.markers=[],e.editing=!1},e.save=function(){e.pin.id?n.update(e.pin):e.pin.$save().then(function(t){e.pins.push(t)}),e.newPin()},e.setActivePin=function(t){e.pin=t,e.pin.markers=[],null!=t.longitude&&(e.pin.markers[0]={lat:t.latitude,lng:t.longitude,draggable:!0,focus:!0}),e.editing=!0},e.remove=function(t){n["delete"](t,function(){var n=e.pins.indexOf(t);-1!=n&&e.pins.splice(n,1)})},e.barrierefreiheitsgrade=["Gut","Teilweise","Nicht barrierefrei"],e.kostenarten=["Kostenlos","Kostenpflichtig"],e.mindestalters=["ab 12","ab 16","ab 18","ab 21"]}]),angular.module("jugendstadtplan.pins").config(["$stateProvider",function(e){e.state("Liste: Pin",{url:"/pins",views:{main:{controller:"PinsController",templateUrl:"app/pins/views/list.tpl.html"}},data:{pageTitle:"Pins"}})}]),Jugendstadtplan.Controllers.controller("PinsController",["$scope","$location","Pin",function(e,t,n){e.pins=n.query(),e.viewPin=function(e){t.path("/pin/"+e.id)}}]),Jugendstadtplan.Controllers.controller("LinksFormController",["$scope",function(e){e.newLink={},e.addLink=function(){void 0===e.model.links&&(e.model.links=[]),e.model.links.push(e.newLink),e.newLink={}},e.isLinkValid=function(e){return void 0===e.titel||0===e.titel.length?!1:void 0!==e.url&&0!==e.url.length}}]),angular.module("jugendstadtplan.startseite").config(["$stateProvider",function(e){e.state("Startseite",{url:"/startseite",views:{main:{controller:"StartseiteController",templateUrl:"app/startseite/views/startseite.tpl.html"}},data:{pageTitle:"Startseite"}})}]),angular.module("jugendstadtplan.startseite").controller("StartseiteController",["$scope","$location","Pin",function(e,t,n){angular.extend(e,{center:{lat:50.732829246726,lng:7.0937004090117,zoom:13},defaults:{scrollWheelZoom:!1}}),e.markers=[],n.query(function(t){angular.forEach(t,function(t){if(null!=t.longitude){var n={lat:t.latitude,lng:t.longitude,title:t.titel,message:"<h3>"+t.titel+"</h3>"+t.beschreibung+'<small><a href="/#/pin/'+t.id+'">Mehr</a></small>'};e.markers.push(n)}})})}]),Jugendstadtplan.Controllers.controller("AnsprechpartnerFormController",["$scope",function(e){e.newAnsprechpartner={},e.addAnsprechpartner=function(){void 0===e.model.ansprechpartner&&(e.model.ansprechpartner=[]),e.model.ansprechpartner.push(e.newAnsprechpartner),e.newAnsprechpartner={}},e.isAnsprechpartnerValid=function(e){return void 0===e.name||0===e.name.length?!1:void 0!==e.email&&0!==e.email.length}}]),angular.module("plusOne",[]).directive("plusOne",function(){return{link:function(e,t,n){gapi.plusone.render(t[0],{size:"medium",href:"http://bit.ly/ngBoilerplate"})}}});var jugendstadtplanApi=angular.module("jugendstadtplan.api",["ngResource","angular-jwt"]);jugendstadtplanApi.config(["$httpProvider","jwtInterceptorProvider",function(e,t){t.tokenGetter=["config","LoginService",function(e,t){return".html"==e.url.substr(e.url.length-5)?null:t.getToken()}],e.interceptors.push("jwtInterceptor")}]);var backendPrefix="http://api.jugendstadtplan.dev/app_dev.php";jugendstadtplanApi.provider("Pin",function(){this.$get=["$resource",function(e){var t=backendPrefix+"/pins";return e(t,{},{get:{method:"GET",url:t+"/:id",params:{id:"@id"},skipAuthorization:!0},update:{method:"PUT",url:t+"/update/:id",params:{id:"@id"}},save:{method:"POST",url:t+"/create"},"delete":{method:"DELETE",url:t+"/delete/:id",params:{id:"@id"}}})}]}),jugendstadtplanApi.provider("Traeger",function(){this.$get=["$resource",function(e){var t=backendPrefix+"/traeger";return e(t,{},{get:{method:"GET",url:t+"/:id",params:{id:"@id"},skipAuthorization:!0},update:{method:"PUT",url:t+"/update/:id",params:{id:"@id"}},save:{method:"POST",url:t+"/create",skipAuthorization:!0},"delete":{method:"DELETE",url:t+"/delete/:id",params:{id:"@id"}},login:{method:"POST",skipAuthorization:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},url:backendPrefix+"/authentication/traeger_check",transformRequest:function(e,t){var n=[];for(var r in e)n.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return n.join("&")}}})}]}),jugendstadtplanApi.provider("Kategorie",function(){this.$get=["$resource",function(e){var t=backendPrefix+"/kategorie";return e(t)}]}),Jugendstadtplan.Controllers.controller("TerminFormController",["$scope",function(e){e.wochentage=["Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"],e.newTermin={},e.addTermin=function(){void 0===e.pin.termine&&(e.pin.termine=[]),e.pin.termine.push(e.newTermin),e.newTermin={}},e.isTerminValid=function(e){return void 0===e.beginn||0===e.beginn?!1:e.ganztaegig===!0||void 0!==e.beginn_uhrzeit&&0!==e.beginn_uhrzeit},e.woche_des_monats=[{id:0,label:"Jede Woche"},{id:1,label:"Jede 1. Woche"},{id:2,label:"Jede 2. Woche"},{id:3,label:"Jede 3. Woche"},{id:4,label:"Jede 4. Woche"},{id:5,label:"Jede 5. Woche"}],e.newWiederholung={},e.addWiederholung=function(){void 0===e.newTermin.wiederholungen&&(e.newTermin.wiederholungen=[]),e.newTermin.wiederholungen.push(e.newWiederholung),e.newWiederholung={}},e.isWiederholungValid=function(e){return void 0!==e.wochentag&&0!==e.wochentag}}]),angular.module("jugendstadtplan.traeger").config(["$stateProvider",function(e){e.state("Liste: Traeger",{url:"/traeger",views:{main:{controller:"TraegerController",templateUrl:"app/traeger/views/liste.tpl.html"}},data:{pageTitle:"Träger"}})}]),Jugendstadtplan.Controllers.controller("TraegerController",["$scope","$location","Traeger",function(e,t,n){e.traeger=n.query(),e.viewTraeger=function(e){t.path("/traeger/"+e.id)}}]),angular.module("jugendstadtplan.traeger").config(["$stateProvider",function(e){e.state("Detail: Traeger",{url:"/traeger/{id:[0-9]+}",views:{main:{controller:"TraegerDetailController",templateUrl:"app/traeger/views/detail.tpl.html"}},resolve:{traegerDetail:["$stateParams","Traeger",function(e,t){return t.get({},{id:e.id})}]},data:{pageTitle:"Träger"}})}]),Jugendstadtplan.Controllers.controller("TraegerDetailController",["$scope","traegerDetail",function(e,t){e.traeger=t,angular.extend(e,{center:{lat:50.732829246726,lng:7.0937004090117,zoom:13},defaults:{scrollWheelZoom:!1}}),e.markers=[],t.$promise.then(function(){angular.forEach(t.pins,function(t,n){var r={lat:t.latitude,lng:t.longitude,title:t.titel,message:"<h3>"+t.titel+"</h3>"+t.beschreibung+'<small><a href="/#/pin/'+t.id+'">Mehr</a></small>'};e.markers.push(r)})})}]),angular.module("jugendstadtplan.traeger").config(["$stateProvider",function(e){e.state("Form: Traeger",{url:"/traeger/create",views:{main:{controller:"TraegerFormController",templateUrl:"app/traeger/views/form.tpl.html"}},data:{pageTitle:"Träger erstellen"}})}]),Jugendstadtplan.Controllers.controller("TraegerFormController",["$scope","$location","Traeger","Kategorie","Upload",function(e,t,n,r,a){e.kategorien=r.query(),e.traeger=new n,e.traegers=n.query(),e.newTraeger=function(){e.traeger=new n,e.editing=!1},e.save=function(){e.traeger.id?n.update(e.traeger).then(function(){e.newTraeger()},function(){alert("Ein Träger mit dieser Email-Adresse existiert bereits!")}):e.traeger.$save().then(function(t){e.traegers.push(t),e.newTraeger()},function(){alert("Ein Träger mit dieser Email-Adresse existiert bereits!")})},e.setActiveTraeger=function(t){e.traeger=t,e.editing=!0},e.remove=function(t){n["delete"](t,function(){var n=e.traegers.indexOf(t);-1!=n&&e.traegers.splice(n,1)})},e.onFileSelect=function(t){for(var n=function(t){a.upload({url:"app_dev.php/img/upload",method:"POST",data:{myObj:e.myModelObj},file:t}).progress(function(e){console.log("percent: "+parseInt(100*e.loaded/e.total))}).success(function(n,r,a,i){void 0===e.traeger.bilder&&(e.traeger.bilder=[]),t.tmp_name=n.folder,e.traeger.bilder.push(t)})},r=0;r<t.length;r++){var i=t[r];e.upload=n(i)}},e.newAdresse={},e.addAdresse=function(){void 0===e.traeger.adressen&&(e.traeger.adressen=[]),e.traeger.adressen.push(e.newAdresse),e.newAdresse={}},e.isAdresseValid=function(e){return void 0===e.strasse||0===e.strasse.length?!1:void 0!==e.ort&&0!==e.ort.length}}]),angular.module("jugendstadtplan.traeger").config(["$stateProvider",function(e){e.state("Login: Traeger",{url:"/traeger/login",views:{main:{controller:"TraegerLoginController",templateUrl:"app/traeger/views/login.tpl.html"}},data:{pageTitle:"Einloggen"}})}]),Jugendstadtplan.Controllers.controller("TraegerLoginController",["$scope","$state","$window","LoginService","jwtHelper","Traeger",function(e,t,n,r,a,i){e.traeger=new i,e.login=function(){e.traeger.$login().then(function(e){r.login(e.token),t.go("Startseite")},function(t){e.error={msg:"Authentifizierung fehlgeschlagen!"}})}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi9yZXNvdXJjZXMvTG9naW5TZXJ2aWNlLmpzIiwiYXBwL3BpbnMvUGluc01vZHVsZS5qcyIsImFwcC9saW5rcy9MaW5rc01vZHVsZS5qcyIsImFwcC9zdGFydHNlaXRlL1N0YXJ0c2VpdGVNb2R1bGUuanMiLCJhcHAvYW5zcHJlY2hwYXJ0bmVyL0Fuc3ByZWNocGFydG5lck1vZHVsZS5qcyIsImFwcC90ZXJtaW4vVGVybWluTW9kdWxlLmpzIiwiYXBwL3RyYWVnZXIvVHJhZWdlck1vZHVsZS5qcyIsImFwcC9hcHAuanMiLCJhcHAvcGlucy9QaW5EZXRhaWxDb250cm9sbGVyLmpzIiwiYXBwL3BpbnMvUGluRm9ybUNvbnRyb2xsZXIuanMiLCJhcHAvcGlucy9QaW5zQ29udHJvbGxlci5qcyIsImFwcC9saW5rcy9MaW5rc0Zvcm1Db250cm9sbGVyLmpzIiwiYXBwL3N0YXJ0c2VpdGUvU3RhcnRzZWl0ZUNvbnRyb2xsZXIuanMiLCJhcHAvYW5zcHJlY2hwYXJ0bmVyL0Fuc3ByZWNocGFydG5lckZvcm1Db250cm9sbGVyLmpzIiwiY29tbW9uL3BsdXNPbmUvcGx1c09uZS5qcyIsImNvbW1vbi9yZXNvdXJjZXMvSnVnZW5kc3RhZHRwbGFuQXBpLmpzIiwiYXBwL3Rlcm1pbi9UZXJtaW5Gb3JtQ29udHJvbGxlci5qcyIsImFwcC90cmFlZ2VyL1RyYWVnZXJDb250cm9sbGVyLmpzIiwiYXBwL3RyYWVnZXIvVHJhZWdlckRldGFpbENvbnRyb2xsZXIuanMiLCJhcHAvdHJhZWdlci9UcmFlZ2VyRm9ybUNvbnRyb2xsZXIuanMiLCJhcHAvdHJhZWdlci9UcmFlZ2VyTG9naW5Db250cm9sbGVyLmpzIl0sIm5hbWVzIjpbImp1Z2VuZHN0YWR0cGxhbkxvZ2luIiwiYW5ndWxhciIsIm1vZHVsZSIsInNlcnZpY2UiLCIkd2luZG93Iiwiand0SGVscGVyIiwiTG9naW5TZXJ2aWNlIiwiYXV0aGVudGljYXRlZCIsInRyYWVnZXIiLCJnZXRUb2tlbiIsInRva2VuIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInVuZGVmaW5lZCIsIkpTT04iLCJwYXJzZSIsInNldFRva2VuIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsImlzVG9rZW5FeHBpcmVkIiwidGhpcyIsImdldEp1Z2VuZHN0YWR0cGxhblVzZXIiLCJzZXRKdWdlbmRzdGFkdHBsYW5Vc2VyIiwidXNlciIsImlzTG9nZ2VkSW4iLCJsb2dpbiIsImRlY29kZWQiLCJkZWNvZGVUb2tlbiIsImxvZ291dCIsInJlbW92ZUl0ZW0iLCJpbml0IiwiSnVnZW5kc3RhZHRwbGFuIiwiQ29udHJvbGxlcnMiLCJjb25maWciLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIm90aGVyd2lzZSIsInJ1biIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCIkc3RhdGUiLCIkb24iLCJldmVudCIsInRvU3RhdGUiLCJ0b1BhcmFtcyIsImZyb21TdGF0ZSIsImZyb21QYXJhbXMiLCJpc0RlZmluZWQiLCJkYXRhIiwicGFnZVRpdGxlIiwiZ28iLCJzdGF0ZSIsInVybCIsInZpZXdzIiwibWFpbiIsInRlbXBsYXRlVXJsIiwicmVzb2x2ZSIsInBpbkRldGFpbCIsIiRzdGF0ZVBhcmFtcyIsIlBpbiIsImdldCIsImlkIiwibWFya2VycyIsImNlbnRlciIsImxhdCIsImxuZyIsInpvb20iLCIkcHJvbWlzZSIsInRoZW4iLCJwaW4iLCJleHRlbmQiLCJkZWZhdWx0cyIsInNjcm9sbFdoZWVsWm9vbSIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwibWFya2VyIiwidGl0bGUiLCJ0aXRlbCIsImZvY3VzIiwibWVzc2FnZSIsImJlc2NocmVpYnVuZyIsInB1c2giLCIkbG9jYXRpb24iLCJUcmFlZ2VyIiwiS2F0ZWdvcmllIiwia2F0ZWdvcmllbiIsInF1ZXJ5IiwicGlucyIsInRyYWVnZXJzIiwiZXZlbnRzIiwiYXJncyIsImxlYWZFdmVudCIsImxlYWZsZXRFdmVudCIsImxhdGxuZyIsImRyYWdnYWJsZSIsIm5ld1BpbiIsImVkaXRpbmciLCJzYXZlIiwidXBkYXRlIiwiJHNhdmUiLCJyZXNwb25zZSIsInNldEFjdGl2ZVBpbiIsInJlbW92ZSIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsImJhcnJpZXJlZnJlaWhlaXRzZ3JhZGUiLCJrb3N0ZW5hcnRlbiIsIm1pbmRlc3RhbHRlcnMiLCJ2aWV3UGluIiwicGF0aCIsIm5ld0xpbmsiLCJhZGRMaW5rIiwibW9kZWwiLCJsaW5rcyIsImlzTGlua1ZhbGlkIiwibGluayIsImxlbmd0aCIsImZvckVhY2giLCJpdGVtIiwibmV3QW5zcHJlY2hwYXJ0bmVyIiwiYWRkQW5zcHJlY2hwYXJ0bmVyIiwiYW5zcHJlY2hwYXJ0bmVyIiwiaXNBbnNwcmVjaHBhcnRuZXJWYWxpZCIsIm5hbWUiLCJlbWFpbCIsImRpcmVjdGl2ZSIsInNjb3BlIiwiZWxlbWVudCIsImF0dHJzIiwiZ2FwaSIsInBsdXNvbmUiLCJyZW5kZXIiLCJzaXplIiwiaHJlZiIsImp1Z2VuZHN0YWR0cGxhbkFwaSIsIiRodHRwUHJvdmlkZXIiLCJqd3RJbnRlcmNlcHRvclByb3ZpZGVyIiwidG9rZW5HZXR0ZXIiLCJzdWJzdHIiLCJpbnRlcmNlcHRvcnMiLCJiYWNrZW5kUHJlZml4IiwicHJvdmlkZXIiLCIkZ2V0IiwiJHJlc291cmNlIiwiYmFja2VuZFVybCIsIm1ldGhvZCIsInBhcmFtcyIsInNraXBBdXRob3JpemF0aW9uIiwiZGVsZXRlIiwiaGVhZGVycyIsIkNvbnRlbnQtVHlwZSIsInRyYW5zZm9ybVJlcXVlc3QiLCJoZWFkZXJzR2V0dGVyIiwic3RyIiwiZCIsImVuY29kZVVSSUNvbXBvbmVudCIsImpvaW4iLCJ3b2NoZW50YWdlIiwibmV3VGVybWluIiwiYWRkVGVybWluIiwidGVybWluZSIsImlzVGVybWluVmFsaWQiLCJ0ZXJtaW4iLCJiZWdpbm4iLCJnYW56dGFlZ2lnIiwiYmVnaW5uX3VocnplaXQiLCJ3b2NoZV9kZXNfbW9uYXRzIiwibGFiZWwiLCJuZXdXaWVkZXJob2x1bmciLCJhZGRXaWVkZXJob2x1bmciLCJ3aWVkZXJob2x1bmdlbiIsImlzV2llZGVyaG9sdW5nVmFsaWQiLCJ3aWVkZXJob2x1bmciLCJ3b2NoZW50YWciLCJ2aWV3VHJhZWdlciIsInRyYWVnZXJEZXRhaWwiLCJrZXkiLCJVcGxvYWQiLCJuZXdUcmFlZ2VyIiwiYWxlcnQiLCJzZXRBY3RpdmVUcmFlZ2VyIiwib25GaWxlU2VsZWN0IiwiJGZpbGVzIiwiZG9VcGxvYWQiLCJmaWxlIiwidXBsb2FkIiwibXlPYmoiLCJteU1vZGVsT2JqIiwicHJvZ3Jlc3MiLCJldnQiLCJjb25zb2xlIiwibG9nIiwicGFyc2VJbnQiLCJsb2FkZWQiLCJ0b3RhbCIsInN1Y2Nlc3MiLCJzdGF0dXMiLCJiaWxkZXIiLCJ0bXBfbmFtZSIsImZvbGRlciIsImkiLCJuZXdBZHJlc3NlIiwiYWRkQWRyZXNzZSIsImFkcmVzc2VuIiwiaXNBZHJlc3NlVmFsaWQiLCJhZHJlc3NlIiwic3RyYXNzZSIsIm9ydCIsIiRsb2dpbiIsImVycm9yIiwibXNnIl0sIm1hcHBpbmdzIjoiQUFBQSxHQUFBQSxzQkFBQUMsUUFBQUMsT0FBQSwyQkFFQUYsc0JBQUFHLFFBQUEsZ0JBQUEsVUFBQSxZQUFBLFNBQUFDLEVBQUFDLEdBQ0EsR0FBQUMsSUFDQUMsZUFBQSxFQUNBQyxRQUFBLEtBdURBLE9BcERBRixHQUFBRyxTQUFBLFdBQ0EsR0FBQUMsR0FBQU4sRUFBQU8sYUFBQUMsUUFBQSxXQUNBLE9BQUFDLFVBQUFILEVBQ0FJLEtBQUFDLE1BQUFMLEdBREEsUUFJQUosRUFBQVUsU0FBQSxTQUFBTixHQUNBTixFQUFBTyxhQUFBTSxRQUFBLFdBQUFILEtBQUFJLFVBQUFSLEtBR0FKLEVBQUFhLGVBQUEsV0FDQSxHQUFBVCxHQUFBVSxLQUFBWCxVQUNBLE9BQUFDLEdBQ0FMLEVBQUFjLGVBQUFULElBR0EsR0FHQUosRUFBQWUsdUJBQUEsV0FDQSxNQUFBRCxNQUFBWixTQUVBRixFQUFBZ0IsdUJBQUEsU0FBQUMsR0FDQUgsS0FBQVosUUFBQWUsR0FHQWpCLEVBQUFrQixXQUFBLFdBQ0Es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QWQsTUFBQSxXQUNBYyxFQUFBL0IsUUFBQXlNLFNBQ0E3SSxLQUFBLFNBQUFnQyxHQUNBOUYsRUFBQW1CLE1BQUEyRSxFQUFBMUYsT0FFQThCLEVBQUFVLEdBQUEsZUFDQSxTQUFBZ0ssR0FDQTNLLEVBQUEySyxPQUNBQyxJQUFBIiwiZmlsZSI6Imp1Z2VuZHN0YWR0cGxhbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIganVnZW5kc3RhZHRwbGFuTG9naW4gPSBhbmd1bGFyLm1vZHVsZSgnanVnZW5kc3RhZHRwbGFuLmxvZ2luJywgW10pO1xuXG5qdWdlbmRzdGFkdHBsYW5Mb2dpbi5zZXJ2aWNlKCdMb2dpblNlcnZpY2UnLCBbJyR3aW5kb3cnLCAnand0SGVscGVyJywgZnVuY3Rpb24oJHdpbmRvdywgand0SGVscGVyKSB7XG4gICAgdmFyIExvZ2luU2VydmljZSA9IHtcbiAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2UsXG4gICAgICAgIHRyYWVnZXI6IG51bGxcbiAgICB9O1xuXG4gICAgTG9naW5TZXJ2aWNlLmdldFRva2VuID0gZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIHRva2VuID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnanNwVG9rZW4nKTtcbiAgICAgICAgaWYgKHRva2VuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHRva2VuKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTG9naW5TZXJ2aWNlLnNldFRva2VuID0gZnVuY3Rpb24odG9rZW4pIHtcbiAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnanNwVG9rZW4nLCBKU09OLnN0cmluZ2lmeSh0b2tlbikpO1xuICAgIH07XG5cbiAgICBMb2dpblNlcnZpY2UuaXNUb2tlbkV4cGlyZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHRva2VuID0gdGhpcy5nZXRUb2tlbigpO1xuICAgICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgICAgIHJldHVybiBqd3RIZWxwZXIuaXNUb2tlbkV4cGlyZWQodG9rZW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIExvZ2luU2VydmljZS5nZXRKdWdlbmRzdGFkdHBsYW5Vc2VyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYWVnZXI7XG4gICAgfTtcbiAgICBMb2dpblNlcnZpY2Uuc2V0SnVnZW5kc3RhZHRwbGFuVXNlciA9IGZ1bmN0aW9uKHVzZXIpIHtcbiAgICAgICAgdGhpcy50cmFlZ2VyID0gdXNlcjtcbiAgICB9O1xuXG4gICAgTG9naW5TZXJ2aWNlLmlzTG9nZ2VkSW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXV0aGVudGljYXRlZDtcbiAgICB9O1xuICAgIExvZ2luU2VydmljZS5sb2dpbiA9IGZ1bmN0aW9uKHRva2VuKSB7XG4gICAgICAgIHRoaXMuYXV0aGVudGljYXRlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuc2V0VG9rZW4odG9rZW4pO1xuXG4gICAgICAgIHZhciBkZWNvZGVkID0gand0SGVscGVyLmRlY29kZVRva2VuKHRva2VuKTtcbiAgICAgICAgdGhpcy5zZXRKdWdlbmRzdGFkdHBsYW5Vc2VyKGRlY29kZWQudHJhZWdlcik7XG4gICAgfTtcbiAgICBMb2dpblNlcnZpY2UubG9nb3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMudHJhZWdlciA9IG51bGw7XG4gICAgICAgIHRoaXMuYXV0aGVudGljYXRlZCA9IGZhbHNlO1xuICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdqc3BUb2tlbicpO1xuICAgIH07XG4gICAgTG9naW5TZXJ2aWNlLmluaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHRva2VuID0gdGhpcy5nZXRUb2tlbigpO1xuICAgICAgICBpZiAodG9rZW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNUb2tlbkV4cGlyZWQoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nb3V0KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubG9naW4odG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBMb2dpblNlcnZpY2U7XG59XSk7IiwiYW5ndWxhci5tb2R1bGUoICdqdWdlbmRzdGFkdHBsYW4ucGlucycsIFtcbiAgJ3VpLnJvdXRlcicsXG4gICdqdWdlbmRzdGFkdHBsYW4ubGlua3MnLFxuICAnanVnZW5kc3RhZHRwbGFuLmFuc3ByZWNocGFydG5lcicsXG4gICdqdWdlbmRzdGFkdHBsYW4udGVybWluJ1xuXSk7IiwiYW5ndWxhci5tb2R1bGUoICdqdWdlbmRzdGFkdHBsYW4ubGlua3MnLCBbXG5dKTsiLCJhbmd1bGFyLm1vZHVsZSggJ2p1Z2VuZHN0YWR0cGxhbi5zdGFydHNlaXRlJywgW1xuICAndWkucm91dGVyJyxcbiAgJ2xlYWZsZXQtZGlyZWN0aXZlJ1xuXSk7IiwiYW5ndWxhci5tb2R1bGUoICdqdWdlbmRzdGFkdHBsYW4uYW5zcHJlY2hwYXJ0bmVyJywgW1xuXSk7IiwiYW5ndWxhci5tb2R1bGUoICdqdWdlbmRzdGFkdHBsYW4udGVybWluJywgW1xuXSk7IiwiYW5ndWxhci5tb2R1bGUoICdqdWdlbmRzdGFkdHBsYW4udHJhZWdlcicsIFtcbiAgJ3VpLnJvdXRlcicsXG4gICdqdWdlbmRzdGFkdHBsYW4ubG9naW4nLFxuICAnanVnZW5kc3RhZHRwbGFuLmxpbmtzJyxcbiAgJ2p1Z2VuZHN0YWR0cGxhbi5hbnNwcmVjaHBhcnRuZXInXG5dKTsiLCJ2YXIgSnVnZW5kc3RhZHRwbGFuID0gSnVnZW5kc3RhZHRwbGFuIHx8IHt9O1xuSnVnZW5kc3RhZHRwbGFuLkNvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ2p1Z2VuZHN0YWR0cGxhbi5jb250cm9sbGVycycsIFtdKTtcblxuYW5ndWxhci5tb2R1bGUoICdqdWdlbmRzdGFkdHBsYW4nLCBbXG4gICduZ1Jlc291cmNlJyxcbiAgJ25nU2FuaXRpemUnLFxuICAndWkucm91dGVyJyxcbiAgJ2xlYWZsZXQtZGlyZWN0aXZlJyxcbiAgJ3RleHRBbmd1bGFyJyxcbiAgJ25nRmlsZVVwbG9hZCcsXG4gICdhbmd1bGFyLWp3dCcsXG4gICdqdWdlbmRzdGFkdHBsYW4udGVtcGxhdGVzJyxcbiAgJ2p1Z2VuZHN0YWR0cGxhbi5sb2dpbicsXG4gICdqdWdlbmRzdGFkdHBsYW4uYXBpJyxcbiAgJ2p1Z2VuZHN0YWR0cGxhbi5zdGFydHNlaXRlJyxcbiAgJ2p1Z2VuZHN0YWR0cGxhbi5waW5zJyxcbiAgJ2p1Z2VuZHN0YWR0cGxhbi50cmFlZ2VyJyxcbiAgJ2p1Z2VuZHN0YWR0cGxhbi5jb250cm9sbGVycydcbl0pXG5cbi5jb25maWcoWyAnJHN0YXRlUHJvdmlkZXInLCAnJHVybFJvdXRlclByb3ZpZGVyJywgZnVuY3Rpb24gbXlBcHBDb25maWcoICRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIgKSB7XG4gICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoICcvc3RhcnRzZWl0ZScgKTtcbn1dKVxuXG4ucnVuKCBmdW5jdGlvbiBydW4gKCkge1xufSlcblxuLmNvbnRyb2xsZXIoICdBcHBDdHJsJywgWyAnJHNjb3BlJywgJ0xvZ2luU2VydmljZScsICckc3RhdGUnLCBmdW5jdGlvbiBBcHBDdHJsKCRzY29wZSwgTG9naW5TZXJ2aWNlLCAkc3RhdGUpe1xuXG4gICRzY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN1Y2Nlc3MnLCBmdW5jdGlvbihldmVudCwgdG9TdGF0ZSwgdG9QYXJhbXMsIGZyb21TdGF0ZSwgZnJvbVBhcmFtcyl7XG4gICAgaWYgKCBhbmd1bGFyLmlzRGVmaW5lZCggdG9TdGF0ZS5kYXRhLnBhZ2VUaXRsZSApICkge1xuICAgICAgJHNjb3BlLnBhZ2VUaXRsZSA9IHRvU3RhdGUuZGF0YS5wYWdlVGl0bGUgKyAnIHwgSnVnZW5kc3RhZHRwbGFuJyA7XG4gICAgfVxuICB9KTtcblxuICAvLyBSZWluaXRhbGl6ZSBMb2dpblNlcnZpY2VcbiAgTG9naW5TZXJ2aWNlLmluaXQoKTtcblxuICAkc2NvcGUuaXNMb2dnZWRJbiA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBMb2dpblNlcnZpY2UuaXNMb2dnZWRJbigpO1xuICB9O1xuICBcbiAgJHNjb3BlLmdldEp1Z2VuZHN0YWR0cGxhblVzZXIgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gTG9naW5TZXJ2aWNlLmdldEp1Z2VuZHN0YWR0cGxhblVzZXIoKTtcbiAgfTtcblxuICAkc2NvcGUubG9nb3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgTG9naW5TZXJ2aWNlLmxvZ291dCgpO1xuXG4gICAgJHN0YXRlLmdvKCdTdGFydHNlaXRlJyk7XG4gIH07XG5cbn1dKVxuXG47IiwiYW5ndWxhci5tb2R1bGUoJ2p1Z2VuZHN0YWR0cGxhbi5waW5zJykuY29uZmlnKFsnJHN0YXRlUHJvdmlkZXInLCBmdW5jdGlvbiBjb25maWcoICRzdGF0ZVByb3ZpZGVyICkge1xuICBcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoICdEZXRhaWw6IFBpbicsIHtcbiAgICB1cmw6ICcvcGluL3tpZDpbMC05XSt9JyxcbiAgICB2aWV3czoge1xuICAgICAgXCJtYWluXCI6IHtcbiAgICAgICAgY29udHJvbGxlcjogJ1BpbkRldGFpbENvbnRyb2xsZXInLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC9waW5zL3ZpZXdzL2RldGFpbC50cGwuaHRtbCdcbiAgICAgIH1cbiAgICB9LFxuICAgIHJlc29sdmU6IHtcbiAgICAgIHBpbkRldGFpbDogWyAnJHN0YXRlUGFyYW1zJywgJ1BpbicsIGZ1bmN0aW9uKCRzdGF0ZVBhcmFtcywgUGluKSB7XG4gICAgICAgIHJldHVybiBQaW4uZ2V0KHt9LHtpZDogJHN0YXRlUGFyYW1zLmlkfSk7XG4gICAgICB9XVxuICAgIH0sXG4gICAgZGF0YTp7IHBhZ2VUaXRsZTogJ1BpbicgfVxuICB9KTtcblxufV0pO1xuXG5KdWdlbmRzdGFkdHBsYW4uQ29udHJvbGxlcnMuY29udHJvbGxlciggJ1BpbkRldGFpbENvbnRyb2xsZXInLCBbICckc2NvcGUnLCAncGluRGV0YWlsJywgZnVuY3Rpb24gUGluRGV0YWlsQ29udHJvbGxlciggJHNjb3BlLCBwaW5EZXRhaWwgKSB7XG4gICAgJHNjb3BlLm1hcmtlcnMgPSBbXTtcbiAgICAkc2NvcGUuY2VudGVyID0ge1xuICAgICAgICBsYXQ6IDUwLjczMjgyOTI0NjcyNixcbiAgICAgICAgbG5nOiA3LjA5MzcwMDQwOTAxMTcsXG4gICAgICAgIHpvb206IDEzXG4gICAgfTtcblxuICAgIHBpbkRldGFpbC4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJHNjb3BlLnBpbiA9IHBpbkRldGFpbDtcblxuICAgICAgICAgICAgYW5ndWxhci5leHRlbmQoJHNjb3BlLCB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdHM6IHtcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsV2hlZWxab29tOiBmYWxzZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkc2NvcGUuY2VudGVyID0ge1xuICAgICAgICAgICAgICAgIGxhdDogcGluRGV0YWlsLmxhdGl0dWRlLFxuICAgICAgICAgICAgICAgIGxuZzogcGluRGV0YWlsLmxvbmdpdHVkZSxcbiAgICAgICAgICAgICAgICB6b29tOiAxNVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIG1hcmtlciA9IHtcbiAgICAgICAgICAgICAgICBsYXQ6IHBpbkRldGFpbC5sYXRpdHVkZSxcbiAgICAgICAgICAgICAgICBsbmc6IHBpbkRldGFpbC5sb25naXR1ZGUsXG4gICAgICAgICAgICAgICAgdGl0bGU6IHBpbkRldGFpbC50aXRlbCxcbiAgICAgICAgICAgICAgICBmb2N1czogdHJ1ZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnPGgzPicgKyBwaW5EZXRhaWwudGl0ZWwgKyAnPC9oMz4nICsgcGluRGV0YWlsLmJlc2NocmVpYnVuZyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAkc2NvcGUubWFya2Vycy5wdXNoKG1hcmtlcik7XG4gICAgICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgYW5ndWxhci5leHRlbmQoJHNjb3BlLCB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdHM6IHtcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsV2hlZWxab29tOiBmYWxzZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgKTtcbn1dKTsiLCJhbmd1bGFyLm1vZHVsZSgnanVnZW5kc3RhZHRwbGFuLnBpbnMnKS5jb25maWcoWyckc3RhdGVQcm92aWRlcicsIGZ1bmN0aW9uIGNvbmZpZyggJHN0YXRlUHJvdmlkZXIgKSB7XG5cbiAgICAkc3RhdGVQcm92aWRlci5zdGF0ZSggJ0Zvcm06IFBpbicsIHtcbiAgICAgICAgdXJsOiAnL3Bpbi9jcmVhdGUnLFxuICAgICAgICB2aWV3czoge1xuICAgICAgICAgICAgXCJtYWluXCI6IHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnUGluRm9ybUNvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL3BpbnMvdmlld3MvZm9ybS50cGwuaHRtbCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZGF0YTp7IHBhZ2VUaXRsZTogJ1BpbiBlcnN0ZWxsZW4nIH1cbiAgICB9KTtcblxufV0pO1xuXG5KdWdlbmRzdGFkdHBsYW4uQ29udHJvbGxlcnMuY29udHJvbGxlciggJ1BpbkZvcm1Db250cm9sbGVyJywgWyAnJHNjb3BlJywgJyRsb2NhdGlvbicsICdQaW4nLCAnVHJhZWdlcicsICdLYXRlZ29yaWUnLCBmdW5jdGlvbiBQaW5Gb3JtQ29udHJvbGxlciggJHNjb3BlLCAkbG9jYXRpb24sIFBpbiwgVHJhZWdlciwgS2F0ZWdvcmllICkge1xuICAgICRzY29wZS5rYXRlZ29yaWVuID0gS2F0ZWdvcmllLnF1ZXJ5KCk7XG4gICAgJHNjb3BlLnBpbiA9IG5ldyBQaW4oKTtcbiAgICAkc2NvcGUucGlucyA9IFBpbi5xdWVyeSgpO1xuICAgICRzY29wZS50cmFlZ2VycyA9IFRyYWVnZXIucXVlcnkoKTtcblxuICAgIGFuZ3VsYXIuZXh0ZW5kKCRzY29wZSwge1xuICAgICAgICBjZW50ZXI6IHtcbiAgICAgICAgICAgIGxhdDogNTAuNzMyODI5MjQ2NzI2LFxuICAgICAgICAgICAgbG5nOiA3LjA5MzcwMDQwOTAxMTcsXG4gICAgICAgICAgICB6b29tOiAxM1xuICAgICAgICB9LFxuICAgICAgICBkZWZhdWx0czoge1xuICAgICAgICAgICAgc2Nyb2xsV2hlZWxab29tOiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICBldmVudHM6IHt9XG4gICAgfSk7XG5cbiAgICAkc2NvcGUucGluLm1hcmtlcnMgPSBbXTtcbiAgICAkc2NvcGUuJG9uKFwibGVhZmxldERpcmVjdGl2ZU1hcC5jbGlja1wiLCBmdW5jdGlvbihldmVudCwgYXJncyl7XG4gICAgICAgIHZhciBsZWFmRXZlbnQgPSBhcmdzLmxlYWZsZXRFdmVudDtcblxuICAgICAgICAkc2NvcGUucGluLm1hcmtlcnNbMF0gPSB7XG4gICAgICAgICAgICBsYXQ6IGxlYWZFdmVudC5sYXRsbmcubGF0LFxuICAgICAgICAgICAgbG5nOiBsZWFmRXZlbnQubGF0bG5nLmxuZyxcbiAgICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGZvY3VzOiB0cnVlXG4gICAgICAgIH07XG4gICAgfSk7XG5cbiAgICAkc2NvcGUubmV3UGluID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICRzY29wZS5waW4gPSBuZXcgUGluKCk7XG4gICAgICAgICRzY29wZS5waW4ubWFya2VycyA9IFtdO1xuICAgICAgICAkc2NvcGUuZWRpdGluZyA9IGZhbHNlO1xuICAgIH07XG5cbiAgICAkc2NvcGUuc2F2ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoJHNjb3BlLnBpbi5pZCkge1xuICAgICAgICAgICAgUGluLnVwZGF0ZSgkc2NvcGUucGluKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICRzY29wZS5waW4uJHNhdmUoKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnBpbnMucHVzaChyZXNwb25zZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAkc2NvcGUubmV3UGluKCk7XG4gICAgfTtcblxuICAgICRzY29wZS5zZXRBY3RpdmVQaW4gPSBmdW5jdGlvbihwaW4pIHtcbiAgICAgICAgJHNjb3BlLnBpbiA9IHBpbjtcbiAgICAgICAgJHNjb3BlLnBpbi5tYXJrZXJzID0gW107XG4gICAgICAgIGlmIChwaW4ubG9uZ2l0dWRlICE9IG51bGwpIHtcbiAgICAgICAgICAgICRzY29wZS5waW4ubWFya2Vyc1swXSA9IHtcbiAgICAgICAgICAgICAgICBsYXQ6IHBpbi5sYXRpdHVkZSxcbiAgICAgICAgICAgICAgICBsbmc6IHBpbi5sb25naXR1ZGUsXG4gICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGZvY3VzOiB0cnVlXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgICRzY29wZS5lZGl0aW5nID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLnJlbW92ZSA9IGZ1bmN0aW9uKHBpbikge1xuICAgICAgICBQaW4uZGVsZXRlKHBpbiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSAkc2NvcGUucGlucy5pbmRleE9mKHBpbik7XG4gICAgICAgICAgICBpZiAoaW5kZXggIT0gLTEpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUucGlucy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG5cbiAgICAvLyBCYXJyaWVyZWZyZWloZWl0c2dyYWRlXG4gICAgJHNjb3BlLmJhcnJpZXJlZnJlaWhlaXRzZ3JhZGUgPSBbICdHdXQnLCAnVGVpbHdlaXNlJywgJ05pY2h0IGJhcnJpZXJlZnJlaScgXTtcblxuXG4gICAgLy8gS29zdGVuYXJ0ZW5cbiAgICAkc2NvcGUua29zdGVuYXJ0ZW4gPSBbICdLb3N0ZW5sb3MnLCAnS29zdGVucGZsaWNodGlnJyBdO1xuXG5cbiAgICAvLyBNaW5kZXN0YWx0ZXJcbiAgICAkc2NvcGUubWluZGVzdGFsdGVycyA9IFsgJ2FiIDEyJywgJ2FiIDE2JywgJ2FiIDE4JywgJ2FiIDIxJyBdO1xuXG5cblxufV0pOyIsImFuZ3VsYXIubW9kdWxlKCdqdWdlbmRzdGFkdHBsYW4ucGlucycpLmNvbmZpZyhbICckc3RhdGVQcm92aWRlcicsIGZ1bmN0aW9uIGNvbmZpZyggJHN0YXRlUHJvdmlkZXIgKSB7XG4gIFxuICAkc3RhdGVQcm92aWRlci5zdGF0ZSggJ0xpc3RlOiBQaW4nLCB7XG4gICAgdXJsOiAnL3BpbnMnLFxuICAgIHZpZXdzOiB7XG4gICAgICBcIm1haW5cIjoge1xuICAgICAgICBjb250cm9sbGVyOiAnUGluc0NvbnRyb2xsZXInLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC9waW5zL3ZpZXdzL2xpc3QudHBsLmh0bWwnXG4gICAgICB9XG4gICAgfSxcbiAgICBkYXRhOnsgcGFnZVRpdGxlOiAnUGlucycgfVxuICB9KTtcblxufV0pO1xuXG5KdWdlbmRzdGFkdHBsYW4uQ29udHJvbGxlcnMuY29udHJvbGxlciggJ1BpbnNDb250cm9sbGVyJywgWyAnJHNjb3BlJywgJyRsb2NhdGlvbicsICdQaW4nLCBmdW5jdGlvbiBQaW5zQ29udHJvbGxlciggJHNjb3BlLCAkbG9jYXRpb24sIFBpbiApIHtcbiAgICAkc2NvcGUucGlucyA9IFBpbi5xdWVyeSgpO1xuXG4gICAgJHNjb3BlLnZpZXdQaW4gPSBmdW5jdGlvbiAocGluKSB7XG4gICAgICAkbG9jYXRpb24ucGF0aCgnL3Bpbi8nK3Bpbi5pZCk7XG4gICAgfTtcblxufV0pOyIsIkp1Z2VuZHN0YWR0cGxhbi5Db250cm9sbGVycy5jb250cm9sbGVyKCAnTGlua3NGb3JtQ29udHJvbGxlcicsIFsgJyRzY29wZScsXG4gICAgZnVuY3Rpb24oJHNjb3BlKSB7XG5cbiAgICAgICAgLy8gTGlua3NcbiAgICAgICAgJHNjb3BlLm5ld0xpbmsgPSB7fTtcbiAgICAgICAgJHNjb3BlLmFkZExpbmsgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICgkc2NvcGUubW9kZWwubGlua3MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5tb2RlbC5saW5rcyA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHNjb3BlLm1vZGVsLmxpbmtzLnB1c2goJHNjb3BlLm5ld0xpbmspO1xuICAgICAgICAgICAgJHNjb3BlLm5ld0xpbmsgPSB7fTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuaXNMaW5rVmFsaWQgPSBmdW5jdGlvbihsaW5rKSB7XG4gICAgICAgICAgICBpZiAobGluay50aXRlbCA9PT0gdW5kZWZpbmVkIHx8IGxpbmsudGl0ZWwubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChsaW5rLnVybCA9PT0gdW5kZWZpbmVkIHx8IGxpbmsudXJsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9O1xuXG4gICAgfV0pOyIsImFuZ3VsYXIubW9kdWxlKCdqdWdlbmRzdGFkdHBsYW4uc3RhcnRzZWl0ZScpLmNvbmZpZyhbJyRzdGF0ZVByb3ZpZGVyJywgZnVuY3Rpb24gY29uZmlnKCAkc3RhdGVQcm92aWRlciApIHtcbiAgXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCAnU3RhcnRzZWl0ZScsIHtcbiAgICB1cmw6ICcvc3RhcnRzZWl0ZScsXG4gICAgdmlld3M6IHtcbiAgICAgIFwibWFpblwiOiB7XG4gICAgICAgIGNvbnRyb2xsZXI6ICdTdGFydHNlaXRlQ29udHJvbGxlcicsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL3N0YXJ0c2VpdGUvdmlld3Mvc3RhcnRzZWl0ZS50cGwuaHRtbCdcbiAgICAgIH1cbiAgICB9LFxuICAgIGRhdGE6eyBwYWdlVGl0bGU6ICdTdGFydHNlaXRlJyB9XG4gIH0pO1xuXG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKCdqdWdlbmRzdGFkdHBsYW4uc3RhcnRzZWl0ZScpLmNvbnRyb2xsZXIoICdTdGFydHNlaXRlQ29udHJvbGxlcicsIFsgJyRzY29wZScsICckbG9jYXRpb24nLCAnUGluJywgZnVuY3Rpb24gU3RhcnRzZWl0ZUNvbnRyb2xsZXIoICRzY29wZSwgJGxvY2F0aW9uLCBQaW4gKSB7XG4gICAgIGFuZ3VsYXIuZXh0ZW5kKCRzY29wZSwge1xuICAgICAgICBjZW50ZXI6IHtcbiAgICAgICAgICAgIGxhdDogNTAuNzMyODI5MjQ2NzI2LFxuICAgICAgICAgICAgbG5nOiA3LjA5MzcwMDQwOTAxMTcsXG4gICAgICAgICAgICB6b29tOiAxM1xuICAgICAgICB9LFxuICAgICAgICBkZWZhdWx0czoge1xuICAgICAgICAgICAgc2Nyb2xsV2hlZWxab29tOiBmYWxzZVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAkc2NvcGUubWFya2VycyA9IFtdO1xuXG4gICAgUGluLnF1ZXJ5KGZ1bmN0aW9uKHBpbnMpIHtcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKHBpbnMsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgIGlmIChpdGVtLmxvbmdpdHVkZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1hcmtlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgbGF0OiBpdGVtLmxhdGl0dWRlLFxuICAgICAgICAgICAgICAgICAgICBsbmc6IGl0ZW0ubG9uZ2l0dWRlLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogaXRlbS50aXRlbCxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJzxoMz4nICsgaXRlbS50aXRlbCArICc8L2gzPicgKyBpdGVtLmJlc2NocmVpYnVuZyArICc8c21hbGw+PGEgaHJlZj1cIicgKyAnLyMvcGluLycgKyBpdGVtLmlkICsgJ1wiPk1laHI8L2E+PC9zbWFsbD4nXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAkc2NvcGUubWFya2Vycy5wdXNoKG1hcmtlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG59XSk7IiwiSnVnZW5kc3RhZHRwbGFuLkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoICdBbnNwcmVjaHBhcnRuZXJGb3JtQ29udHJvbGxlcicsIFsgJyRzY29wZScsXG4gICAgZnVuY3Rpb24oJHNjb3BlKSB7XG5cbiAgICAgICAgLy8gQW5zcHJlY2hwYXJ0bmVyXG4gICAgICAgICRzY29wZS5uZXdBbnNwcmVjaHBhcnRuZXIgPSB7fTtcbiAgICAgICAgJHNjb3BlLmFkZEFuc3ByZWNocGFydG5lciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCRzY29wZS5tb2RlbC5hbnNwcmVjaHBhcnRuZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5tb2RlbC5hbnNwcmVjaHBhcnRuZXIgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRzY29wZS5tb2RlbC5hbnNwcmVjaHBhcnRuZXIucHVzaCgkc2NvcGUubmV3QW5zcHJlY2hwYXJ0bmVyKTtcbiAgICAgICAgICAgICRzY29wZS5uZXdBbnNwcmVjaHBhcnRuZXIgPSB7fTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuaXNBbnNwcmVjaHBhcnRuZXJWYWxpZCA9IGZ1bmN0aW9uKGFuc3ByZWNocGFydG5lcikge1xuICAgICAgICAgICAgaWYgKGFuc3ByZWNocGFydG5lci5uYW1lID09PSB1bmRlZmluZWQgfHwgYW5zcHJlY2hwYXJ0bmVyLm5hbWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChhbnNwcmVjaHBhcnRuZXIuZW1haWwgPT09IHVuZGVmaW5lZCB8fCBhbnNwcmVjaHBhcnRuZXIuZW1haWwubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG5cbiAgICB9XSk7IiwiYW5ndWxhci5tb2R1bGUoICdwbHVzT25lJywgW10gKVxuXG4uZGlyZWN0aXZlKCAncGx1c09uZScsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIGxpbms6IGZ1bmN0aW9uKCBzY29wZSwgZWxlbWVudCwgYXR0cnMgKSB7XG4gICAgICBnYXBpLnBsdXNvbmUucmVuZGVyKCBlbGVtZW50WzBdLCB7XG4gICAgICAgIFwic2l6ZVwiOiBcIm1lZGl1bVwiLFxuICAgICAgICBcImhyZWZcIjogXCJodHRwOi8vYml0Lmx5L25nQm9pbGVycGxhdGVcIlxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufSlcblxuO1xuXG4iLCJ2YXIganVnZW5kc3RhZHRwbGFuQXBpID0gYW5ndWxhci5tb2R1bGUoJ2p1Z2VuZHN0YWR0cGxhbi5hcGknLCBbJ25nUmVzb3VyY2UnLCAnYW5ndWxhci1qd3QnXSk7XG5cbmp1Z2VuZHN0YWR0cGxhbkFwaS5jb25maWcoWyckaHR0cFByb3ZpZGVyJywgJ2p3dEludGVyY2VwdG9yUHJvdmlkZXInLCBmdW5jdGlvbigkaHR0cFByb3ZpZGVyLCBqd3RJbnRlcmNlcHRvclByb3ZpZGVyKSB7XG5cbiAgICBqd3RJbnRlcmNlcHRvclByb3ZpZGVyLnRva2VuR2V0dGVyID0gWydjb25maWcnLCAnTG9naW5TZXJ2aWNlJywgZnVuY3Rpb24oY29uZmlnLCBMb2dpblNlcnZpY2UpIHtcbiAgICAgICAgLy8gU2tpcCBhdXRoZW50aWNhdGlvbiBmb3IgYW55IHJlcXVlc3RzIGVuZGluZyBpbiAuaHRtbFxuICAgICAgICBpZiAoY29uZmlnLnVybC5zdWJzdHIoY29uZmlnLnVybC5sZW5ndGggLSA1KSA9PSAnLmh0bWwnKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBMb2dpblNlcnZpY2UuZ2V0VG9rZW4oKTtcbiAgICB9XTtcblxuICAgICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goJ2p3dEludGVyY2VwdG9yJyk7XG59XSk7XG5cbnZhciBiYWNrZW5kUHJlZml4ID0gJ2h0dHA6Ly9hcGkuanVnZW5kc3RhZHRwbGFuLmRldi9hcHBfZGV2LnBocCc7XG5cbmp1Z2VuZHN0YWR0cGxhbkFwaS5wcm92aWRlcignUGluJywgZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kZ2V0ID0gWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XG4gICAgICAgIHZhciBiYWNrZW5kVXJsID0gYmFja2VuZFByZWZpeCArICcvcGlucyc7XG4gICAgICAgIHJldHVybiAkcmVzb3VyY2UoYmFja2VuZFVybCwge30sIHtcbiAgICAgICAgICAgIGdldDoge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICAgICAgdXJsOiBiYWNrZW5kVXJsICsgJy86aWQnLFxuICAgICAgICAgICAgICAgIHBhcmFtczogeyBpZDonQGlkJ30sXG4gICAgICAgICAgICAgICAgc2tpcEF1dGhvcml6YXRpb246IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1cGRhdGU6IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgICAgIHVybDogYmFja2VuZFVybCArICcvdXBkYXRlLzppZCcsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7IGlkOidAaWQnfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNhdmU6IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICB1cmw6IGJhY2tlbmRVcmwgKyAnL2NyZWF0ZSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWxldGU6IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICAgICAgICAgIHVybDogYmFja2VuZFVybCArICcvZGVsZXRlLzppZCcsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7IGlkOidAaWQnfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XTtcbn0pO1xuXG5qdWdlbmRzdGFkdHBsYW5BcGkucHJvdmlkZXIoJ1RyYWVnZXInLCBmdW5jdGlvbigpIHtcbiAgICB0aGlzLiRnZXQgPSBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcbiAgICAgICAgdmFyIGJhY2tlbmRVcmwgPSBiYWNrZW5kUHJlZml4ICsgJy90cmFlZ2VyJztcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShiYWNrZW5kVXJsLCB7fSwge1xuICAgICAgICAgICAgZ2V0OiB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICB1cmw6IGJhY2tlbmRVcmwgKyAnLzppZCcsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7IGlkOidAaWQnfSxcbiAgICAgICAgICAgICAgICBza2lwQXV0aG9yaXphdGlvbjogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVwZGF0ZToge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICAgICAgdXJsOiBiYWNrZW5kVXJsICsgJy91cGRhdGUvOmlkJyxcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHsgaWQ6J0BpZCd9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2F2ZToge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIHVybDogYmFja2VuZFVybCArICcvY3JlYXRlJyxcbiAgICAgICAgICAgICAgICBza2lwQXV0aG9yaXphdGlvbjogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlbGV0ZToge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgICAgICAgICAgdXJsOiBiYWNrZW5kVXJsICsgJy9kZWxldGUvOmlkJyxcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHsgaWQ6J0BpZCd9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbG9naW46IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBza2lwQXV0aG9yaXphdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfSxcbiAgICAgICAgICAgICAgICB1cmw6IGJhY2tlbmRQcmVmaXggKyAnL2F1dGhlbnRpY2F0aW9uL3RyYWVnZXJfY2hlY2snLFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybVJlcXVlc3Q6IGZ1bmN0aW9uIChkYXRhLCBoZWFkZXJzR2V0dGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRyYW5zZm9ybSBKU09OIGludG8gcmVndWxhciBmb3JtIHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RyID0gW107XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGQgaW4gZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ci5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChkKSArIFwiPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGRhdGFbZF0pKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0ci5qb2luKFwiJlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1dO1xufSk7XG5cbmp1Z2VuZHN0YWR0cGxhbkFwaS5wcm92aWRlcignS2F0ZWdvcmllJywgZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kZ2V0ID0gWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XG4gICAgICAgIHZhciBiYWNrZW5kVXJsID0gYmFja2VuZFByZWZpeCArICcva2F0ZWdvcmllJztcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShiYWNrZW5kVXJsKTtcbiAgICB9XTtcbn0pOyIsIkp1Z2VuZHN0YWR0cGxhbi5Db250cm9sbGVycy5jb250cm9sbGVyKCAnVGVybWluRm9ybUNvbnRyb2xsZXInLCBbICckc2NvcGUnLFxuICAgIGZ1bmN0aW9uKCRzY29wZSkge1xuXG4gICAgICAgIC8vIFdvY2hlbnRhZ2VcbiAgICAgICAgJHNjb3BlLndvY2hlbnRhZ2UgPSBbICdNb250YWcnLCAnRGllbnN0YWcnLCAnTWl0dHdvY2gnLCAnRG9ubmVyc3RhZycsICdGcmVpdGFnJywgJ1NhbXN0YWcnLCAnU29ubnRhZycgXTtcblxuXG4gICAgICAgIC8vIFRlcm1pblxuICAgICAgICAkc2NvcGUubmV3VGVybWluID0ge307XG4gICAgICAgICRzY29wZS5hZGRUZXJtaW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICgkc2NvcGUucGluLnRlcm1pbmUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5waW4udGVybWluZSA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHNjb3BlLnBpbi50ZXJtaW5lLnB1c2goJHNjb3BlLm5ld1Rlcm1pbik7XG4gICAgICAgICAgICAkc2NvcGUubmV3VGVybWluID0ge307XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmlzVGVybWluVmFsaWQgPSBmdW5jdGlvbih0ZXJtaW4pIHtcbiAgICAgICAgICAgIGlmICh0ZXJtaW4uYmVnaW5uID09PSB1bmRlZmluZWQgfHwgdGVybWluLmJlZ2lubiA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGVybWluLmdhbnp0YWVnaWcgIT09IHRydWUgJiYgKHRlcm1pbi5iZWdpbm5fdWhyemVpdCA9PT0gdW5kZWZpbmVkIHx8IHRlcm1pbi5iZWdpbm5fdWhyemVpdCA9PT0gMCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIC8vIFdpZWRlcmhvbHVuZ1xuICAgICAgICAkc2NvcGUud29jaGVfZGVzX21vbmF0cyA9IFtcbiAgICAgICAgICAgIHsgaWQ6IDAsIGxhYmVsOiAnSmVkZSBXb2NoZScgfSxcbiAgICAgICAgICAgIHsgaWQ6IDEsIGxhYmVsOiAnSmVkZSAxLiBXb2NoZScgfSxcbiAgICAgICAgICAgIHsgaWQ6IDIsIGxhYmVsOiAnSmVkZSAyLiBXb2NoZScgfSxcbiAgICAgICAgICAgIHsgaWQ6IDMsIGxhYmVsOiAnSmVkZSAzLiBXb2NoZScgfSxcbiAgICAgICAgICAgIHsgaWQ6IDQsIGxhYmVsOiAnSmVkZSA0LiBXb2NoZScgfSxcbiAgICAgICAgICAgIHsgaWQ6IDUsIGxhYmVsOiAnSmVkZSA1LiBXb2NoZScgfVxuICAgICAgICBdO1xuICAgICAgICAkc2NvcGUubmV3V2llZGVyaG9sdW5nID0ge307XG4gICAgICAgICRzY29wZS5hZGRXaWVkZXJob2x1bmcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICgkc2NvcGUubmV3VGVybWluLndpZWRlcmhvbHVuZ2VuID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV3VGVybWluLndpZWRlcmhvbHVuZ2VuID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkc2NvcGUubmV3VGVybWluLndpZWRlcmhvbHVuZ2VuLnB1c2goJHNjb3BlLm5ld1dpZWRlcmhvbHVuZyk7XG4gICAgICAgICAgICAkc2NvcGUubmV3V2llZGVyaG9sdW5nID0ge307XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmlzV2llZGVyaG9sdW5nVmFsaWQgPSBmdW5jdGlvbih3aWVkZXJob2x1bmcpIHtcbiAgICAgICAgICAgIGlmICh3aWVkZXJob2x1bmcud29jaGVudGFnID09PSB1bmRlZmluZWQgfHwgd2llZGVyaG9sdW5nLndvY2hlbnRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9O1xuXG4gICAgfV0pOyIsImFuZ3VsYXIubW9kdWxlKCdqdWdlbmRzdGFkdHBsYW4udHJhZWdlcicpLmNvbmZpZyhbJyRzdGF0ZVByb3ZpZGVyJywgZnVuY3Rpb24gY29uZmlnKCAkc3RhdGVQcm92aWRlciApIHtcbiAgXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCAnTGlzdGU6IFRyYWVnZXInLCB7XG4gICAgdXJsOiAnL3RyYWVnZXInLFxuICAgIHZpZXdzOiB7XG4gICAgICBcIm1haW5cIjoge1xuICAgICAgICBjb250cm9sbGVyOiAnVHJhZWdlckNvbnRyb2xsZXInLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC90cmFlZ2VyL3ZpZXdzL2xpc3RlLnRwbC5odG1sJ1xuICAgICAgfVxuICAgIH0sXG4gICAgZGF0YTp7IHBhZ2VUaXRsZTogJ1Ryw6RnZXInIH1cbiAgfSk7XG5cbn1dKTtcblxuSnVnZW5kc3RhZHRwbGFuLkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoICdUcmFlZ2VyQ29udHJvbGxlcicsIFsgJyRzY29wZScsICckbG9jYXRpb24nLCAnVHJhZWdlcicsIGZ1bmN0aW9uIFRyYWVnZXJDb250cm9sbGVyKCAkc2NvcGUsICRsb2NhdGlvbiwgVHJhZWdlciApIHtcbiAgICAkc2NvcGUudHJhZWdlciA9IFRyYWVnZXIucXVlcnkoKTtcblxuICAgICRzY29wZS52aWV3VHJhZWdlciA9IGZ1bmN0aW9uICh0cmFlZ2VyKSB7XG4gICAgICAkbG9jYXRpb24ucGF0aCgnL3RyYWVnZXIvJyt0cmFlZ2VyLmlkKTtcbiAgICB9O1xuXG59XSk7IiwiYW5ndWxhci5tb2R1bGUoJ2p1Z2VuZHN0YWR0cGxhbi50cmFlZ2VyJykuY29uZmlnKFsnJHN0YXRlUHJvdmlkZXInLCBmdW5jdGlvbiBjb25maWcoICRzdGF0ZVByb3ZpZGVyICkge1xuICBcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoICdEZXRhaWw6IFRyYWVnZXInLCB7XG4gICAgdXJsOiAnL3RyYWVnZXIve2lkOlswLTldK30nLFxuICAgIHZpZXdzOiB7XG4gICAgICBcIm1haW5cIjoge1xuICAgICAgICBjb250cm9sbGVyOiAnVHJhZWdlckRldGFpbENvbnRyb2xsZXInLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC90cmFlZ2VyL3ZpZXdzL2RldGFpbC50cGwuaHRtbCdcbiAgICAgIH1cbiAgICB9LFxuICAgIHJlc29sdmU6IHtcbiAgICAgIHRyYWVnZXJEZXRhaWw6IFsgJyRzdGF0ZVBhcmFtcycsICdUcmFlZ2VyJywgZnVuY3Rpb24oJHN0YXRlUGFyYW1zLCBUcmFlZ2VyKSB7XG4gICAgICAgIHJldHVybiBUcmFlZ2VyLmdldCh7fSx7aWQ6ICRzdGF0ZVBhcmFtcy5pZH0pO1xuICAgICAgfV1cbiAgICB9LFxuICAgIGRhdGE6eyBwYWdlVGl0bGU6ICdUcsOkZ2VyJyB9XG4gIH0pO1xuXG59XSk7XG5cbkp1Z2VuZHN0YWR0cGxhbi5Db250cm9sbGVycy5jb250cm9sbGVyKCAnVHJhZWdlckRldGFpbENvbnRyb2xsZXInLCBbICckc2NvcGUnLCAndHJhZWdlckRldGFpbCcsIGZ1bmN0aW9uIFRyYWVnZXJEZXRhaWxDb250cm9sbGVyKCAkc2NvcGUsIHRyYWVnZXJEZXRhaWwgKSB7XG4gICAgJHNjb3BlLnRyYWVnZXIgPSB0cmFlZ2VyRGV0YWlsO1xuXG4gICAgYW5ndWxhci5leHRlbmQoJHNjb3BlLCB7XG4gICAgICAgIGNlbnRlcjoge1xuICAgICAgICAgICAgbGF0OiA1MC43MzI4MjkyNDY3MjYsXG4gICAgICAgICAgICBsbmc6IDcuMDkzNzAwNDA5MDExNyxcbiAgICAgICAgICAgIHpvb206IDEzXG4gICAgICAgIH0sXG4gICAgICAgIGRlZmF1bHRzOiB7XG4gICAgICAgICAgICBzY3JvbGxXaGVlbFpvb206IGZhbHNlXG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgICRzY29wZS5tYXJrZXJzID0gW107XG5cbiAgICB0cmFlZ2VyRGV0YWlsLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh0cmFlZ2VyRGV0YWlsLnBpbnMsIGZ1bmN0aW9uKGl0ZW0sIGtleSkge1xuICAgICAgICAgICAgdmFyIG1hcmtlciA9IHtcbiAgICAgICAgICAgICAgICBsYXQ6IGl0ZW0ubGF0aXR1ZGUsXG4gICAgICAgICAgICAgICAgbG5nOiBpdGVtLmxvbmdpdHVkZSxcbiAgICAgICAgICAgICAgICB0aXRsZTogaXRlbS50aXRlbCxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnPGgzPicgKyBpdGVtLnRpdGVsICsgJzwvaDM+JyArIGl0ZW0uYmVzY2hyZWlidW5nICsgJzxzbWFsbD48YSBocmVmPVwiJyArICcvIy9waW4vJytpdGVtLmlkICsgJ1wiPk1laHI8L2E+PC9zbWFsbD4nXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgJHNjb3BlLm1hcmtlcnMucHVzaChtYXJrZXIpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1dKTsiLCJhbmd1bGFyLm1vZHVsZSgnanVnZW5kc3RhZHRwbGFuLnRyYWVnZXInKS5jb25maWcoWyckc3RhdGVQcm92aWRlcicsIGZ1bmN0aW9uIGNvbmZpZyggJHN0YXRlUHJvdmlkZXIgKSB7XG5cbiAgICAkc3RhdGVQcm92aWRlci5zdGF0ZSggJ0Zvcm06IFRyYWVnZXInLCB7XG4gICAgICAgIHVybDogJy90cmFlZ2VyL2NyZWF0ZScsXG4gICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgICBcIm1haW5cIjoge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdUcmFlZ2VyRm9ybUNvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL3RyYWVnZXIvdmlld3MvZm9ybS50cGwuaHRtbCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZGF0YTp7IHBhZ2VUaXRsZTogJ1Ryw6RnZXIgZXJzdGVsbGVuJyB9XG4gICAgfSk7XG5cbn1dKTtcblxuSnVnZW5kc3RhZHRwbGFuLkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoICdUcmFlZ2VyRm9ybUNvbnRyb2xsZXInLCBbICckc2NvcGUnLCAnJGxvY2F0aW9uJywgJ1RyYWVnZXInLCAnS2F0ZWdvcmllJywgJ1VwbG9hZCcsIGZ1bmN0aW9uIFRyYWVnZXJGb3JtQ29udHJvbGxlciggJHNjb3BlLCAkbG9jYXRpb24sIFRyYWVnZXIsIEthdGVnb3JpZSwgVXBsb2FkICkge1xuICAgICRzY29wZS5rYXRlZ29yaWVuID0gS2F0ZWdvcmllLnF1ZXJ5KCk7XG4gICAgJHNjb3BlLnRyYWVnZXIgPSBuZXcgVHJhZWdlcigpO1xuICAgICRzY29wZS50cmFlZ2VycyA9IFRyYWVnZXIucXVlcnkoKTtcblxuICAgICRzY29wZS5uZXdUcmFlZ2VyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICRzY29wZS50cmFlZ2VyID0gbmV3IFRyYWVnZXIoKTtcbiAgICAgICAgJHNjb3BlLmVkaXRpbmcgPSBmYWxzZTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLnNhdmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCRzY29wZS50cmFlZ2VyLmlkKSB7XG4gICAgICAgICAgICBUcmFlZ2VyLnVwZGF0ZSgkc2NvcGUudHJhZWdlcikudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV3VHJhZWdlcigpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgYWxlcnQoJ0VpbiBUcsOkZ2VyIG1pdCBkaWVzZXIgRW1haWwtQWRyZXNzZSBleGlzdGllcnQgYmVyZWl0cyEnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJHNjb3BlLnRyYWVnZXIuJHNhdmUoKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnRyYWVnZXJzLnB1c2gocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICRzY29wZS5uZXdUcmFlZ2VyKCk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBhbGVydCgnRWluIFRyw6RnZXIgbWl0IGRpZXNlciBFbWFpbC1BZHJlc3NlIGV4aXN0aWVydCBiZXJlaXRzIScpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgJHNjb3BlLnNldEFjdGl2ZVRyYWVnZXIgPSBmdW5jdGlvbih0cmFlZ2VyKSB7XG4gICAgICAgICRzY29wZS50cmFlZ2VyID0gdHJhZWdlcjtcbiAgICAgICAgJHNjb3BlLmVkaXRpbmcgPSB0cnVlO1xuICAgIH07XG5cbiAgICAkc2NvcGUucmVtb3ZlID0gZnVuY3Rpb24odHJhZWdlcikge1xuICAgICAgICBUcmFlZ2VyLmRlbGV0ZSh0cmFlZ2VyLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9ICRzY29wZS50cmFlZ2Vycy5pbmRleE9mKHRyYWVnZXIpO1xuICAgICAgICAgICAgaWYgKGluZGV4ICE9IC0xKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnRyYWVnZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvLyBCaWxkZXJcbiAgICAkc2NvcGUub25GaWxlU2VsZWN0ID0gZnVuY3Rpb24oJGZpbGVzKSB7XG4gICAgICAgIHZhciBkb1VwbG9hZCA9IGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgICAgICAgIFVwbG9hZC51cGxvYWQoe1xuICAgICAgICAgICAgICAgIHVybDogJ2FwcF9kZXYucGhwL2ltZy91cGxvYWQnLCAvL3VwbG9hZC5waHAgc2NyaXB0LCBub2RlLmpzIHJvdXRlLCBvciBzZXJ2bGV0IHVybFxuICAgICAgICAgICAgICAgIC8vIG1ldGhvZDogJ1BPU1QnIG9yICdQVVQnLFxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIC8vIGhlYWRlcnM6IHsnaGVhZGVyLWtleSc6ICdoZWFkZXItdmFsdWUnfSxcbiAgICAgICAgICAgICAgICAvLyB3aXRoQ3JlZGVudGlhbHM6IHRydWUsXG4gICAgICAgICAgICAgICAgZGF0YToge215T2JqOiAkc2NvcGUubXlNb2RlbE9ian0sXG4gICAgICAgICAgICAgICAgZmlsZTogZmlsZSAvLyBvciBsaXN0IG9mIGZpbGVzOiAkZmlsZXMgZm9yIGh0bWw1IG9ubHlcbiAgICAgICAgICAgICAgICAvLyBmaWxlTmFtZTogJ2RvYy5qcGcnIG9yIFsnMS5qcGcnLCAnMi5qcGcnLCAuLi5dIC8vIHRvIG1vZGlmeSB0aGUgbmFtZSBvZiB0aGUgZmlsZVxuICAgICAgICAgICAgICAgIC8qIGN1c3RvbWl6ZSBmaWxlIGZvcm1EYXRhIG5hbWUgKCdDb250ZW50LURlc3Bvc2l0aW9uJyksIHNlcnZlciBzaWRlIGZpbGUgdmFyaWFibGUgbmFtZS5cbiAgICAgICAgICAgICAgICAgRGVmYXVsdCBpcyAnZmlsZScgKi9cbiAgICAgICAgICAgICAgICAvL2ZpbGVGb3JtRGF0YU5hbWU6IG15RmlsZSwgLy9vciBhIGxpc3Qgb2YgbmFtZXMgZm9yIG11bHRpcGxlIGZpbGVzIChodG1sNSkuXG4gICAgICAgICAgICAgICAgLyogY3VzdG9taXplIGhvdyBkYXRhIGlzIGFkZGVkIHRvIGZvcm1EYXRhLiBTZWUgIzQwI2lzc3VlY29tbWVudC0yODYxMjAwMCBmb3Igc2FtcGxlIGNvZGUgKi9cbiAgICAgICAgICAgICAgICAvL2Zvcm1EYXRhQXBwZW5kZXI6IGZ1bmN0aW9uKGZvcm1EYXRhLCBrZXksIHZhbCl7fVxuICAgICAgICAgICAgfSkucHJvZ3Jlc3MoZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwZXJjZW50OiAnICsgcGFyc2VJbnQoMTAwLjAgKiBldnQubG9hZGVkIC8gZXZ0LnRvdGFsKSk7XG4gICAgICAgICAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xuICAgICAgICAgICAgICAgIC8vIGZpbGUgaXMgdXBsb2FkZWQgc3VjY2Vzc2Z1bGx5XG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS50cmFlZ2VyLmJpbGRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS50cmFlZ2VyLmJpbGRlciA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaWxlLnRtcF9uYW1lID0gZGF0YS5mb2xkZXI7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnRyYWVnZXIuYmlsZGVyLnB1c2goZmlsZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vLmVycm9yKC4uLilcbiAgICAgICAgICAgIC8vLnRoZW4oc3VjY2VzcywgZXJyb3IsIHByb2dyZXNzKTtcbiAgICAgICAgICAgIC8vLnhocihmdW5jdGlvbih4aHIpe3hoci51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lciguLi4pfSkvLyBhY2Nlc3MgYW5kIGF0dGFjaCBhbnkgZXZlbnQgbGlzdGVuZXIgdG8gWE1MSHR0cFJlcXVlc3QuXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8kZmlsZXM6IGFuIGFycmF5IG9mIGZpbGVzIHNlbGVjdGVkLCBlYWNoIGZpbGUgaGFzIG5hbWUsIHNpemUsIGFuZCB0eXBlLlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICRmaWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGZpbGUgPSAkZmlsZXNbaV07XG4gICAgICAgICAgICAkc2NvcGUudXBsb2FkID0gZG9VcGxvYWQoZmlsZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG5cbiAgICAvLyBBZHJlc3NlblxuICAgICRzY29wZS5uZXdBZHJlc3NlID0ge307XG4gICAgJHNjb3BlLmFkZEFkcmVzc2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCRzY29wZS50cmFlZ2VyLmFkcmVzc2VuID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICRzY29wZS50cmFlZ2VyLmFkcmVzc2VuID0gW107XG4gICAgICAgIH1cbiAgICAgICAgJHNjb3BlLnRyYWVnZXIuYWRyZXNzZW4ucHVzaCgkc2NvcGUubmV3QWRyZXNzZSk7XG4gICAgICAgICRzY29wZS5uZXdBZHJlc3NlID0ge307XG4gICAgfTtcblxuICAgICRzY29wZS5pc0FkcmVzc2VWYWxpZCA9IGZ1bmN0aW9uKGFkcmVzc2UpIHtcbiAgICAgICAgaWYgKGFkcmVzc2Uuc3RyYXNzZSA9PT0gdW5kZWZpbmVkIHx8IGFkcmVzc2Uuc3RyYXNzZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBlbHNlIGlmIChhZHJlc3NlLm9ydCA9PT0gdW5kZWZpbmVkIHx8IGFkcmVzc2Uub3J0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbn1dKTsiLCJhbmd1bGFyLm1vZHVsZSgnanVnZW5kc3RhZHRwbGFuLnRyYWVnZXInKS5jb25maWcoWyckc3RhdGVQcm92aWRlcicsIGZ1bmN0aW9uIGNvbmZpZyggJHN0YXRlUHJvdmlkZXIgKSB7XG5cbiAgICAkc3RhdGVQcm92aWRlci5zdGF0ZSggJ0xvZ2luOiBUcmFlZ2VyJywge1xuICAgICAgICB1cmw6ICcvdHJhZWdlci9sb2dpbicsXG4gICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgICBcIm1haW5cIjoge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdUcmFlZ2VyTG9naW5Db250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC90cmFlZ2VyL3ZpZXdzL2xvZ2luLnRwbC5odG1sJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBkYXRhOnsgcGFnZVRpdGxlOiAnRWlubG9nZ2VuJyB9XG4gICAgfSk7XG5cbn1dKTtcblxuSnVnZW5kc3RhZHRwbGFuLkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoICdUcmFlZ2VyTG9naW5Db250cm9sbGVyJywgWyAnJHNjb3BlJywgJyRzdGF0ZScsICckd2luZG93JywgJ0xvZ2luU2VydmljZScsICdqd3RIZWxwZXInLCAnVHJhZWdlcicsIGZ1bmN0aW9uIFRyYWVnZXJMb2dpbkNvbnRyb2xsZXIoICRzY29wZSwgJHN0YXRlLCAkd2luZG93LCBMb2dpblNlcnZpY2UsIGp3dEhlbHBlciwgVHJhZWdlcikge1xuXG4gICAgJHNjb3BlLnRyYWVnZXIgPSBuZXcgVHJhZWdlcigpO1xuXG4gICAgJHNjb3BlLmxvZ2luID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICRzY29wZS50cmFlZ2VyLiRsb2dpbigpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIExvZ2luU2VydmljZS5sb2dpbihyZXNwb25zZS50b2tlbik7XG5cbiAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ1N0YXJ0c2VpdGUnKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmVycm9yID0ge1xuICAgICAgICAgICAgICAgICAgICBtc2c6ICdBdXRoZW50aWZpemllcnVuZyBmZWhsZ2VzY2hsYWdlbiEnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfTtcbn1dKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
