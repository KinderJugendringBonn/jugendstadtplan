function LoginInterceptor(e){return{request:function(n){return e.localStorage.token&&(n.headers.Authorization="Bearer "+e.localStorage.token),n}}}var jugendstadtplanLogin=angular.module("jugendstadtplan.login",[]);jugendstadtplanLogin.service("LoginService",function(){var e=!1;return{isLoggedIn:function(){return e},setLoggedIn:function(n){e=n}}}),angular.module("jugendstadtplan.ansprechpartner",[]),angular.module("jugendstadtplan.links",[]),angular.module("jugendstadtplan.pins",["ui.router","jugendstadtplan.links","jugendstadtplan.ansprechpartner","jugendstadtplan.termin"]),angular.module("jugendstadtplan.traeger",["ui.router","jugendstadtplan.links","jugendstadtplan.ansprechpartner","jugendstadtplan.login"]),angular.module("jugendstadtplan.termin",[]),angular.module("jugendstadtplan.startseite",["ui.router","leaflet-directive"]);var Jugendstadtplan=Jugendstadtplan||{};Jugendstadtplan.Controllers=angular.module("jugendstadtplan.controllers",[]),angular.module("jugendstadtplan",["ngResource","ngSanitize","ui.router","leaflet-directive","textAngular","ngFileUpload","jugendstadtplan.templates","jugendstadtplan.login","jugendstadtplan.api","jugendstadtplan.startseite","jugendstadtplan.pins","jugendstadtplan.traeger","jugendstadtplan.controllers"]).config(function(e,n){n.otherwise("/startseite")}).run(function(){}).controller("AppCtrl",["$scope","$location",function(e,n){e.$on("$stateChangeSuccess",function(n,t,r,a,l){angular.isDefined(t.data.pageTitle)&&(e.pageTitle=t.data.pageTitle+" | Jugendstadtplan")})}]),angular.module("plusOne",[]).directive("plusOne",function(){return{link:function(e,n,t){gapi.plusone.render(n[0],{size:"medium",href:"http://bit.ly/ngBoilerplate"})}}});var jugendstadtplanApi=angular.module("jugendstadtplan.api",["ngResource"]),backendPrefix="http://api.jugendstadtplan.dev";jugendstadtplanApi.provider("Pin",function(){this.$get=["$resource",function(e){var n=backendPrefix+"/pins";return e(n,{},{get:{method:"GET",url:n+"/:id",params:{id:"@id"}},update:{method:"PUT",url:n+"/update/:id",params:{id:"@id"},interceptor:LoginInterceptor},save:{method:"POST",url:n+"/create",interceptor:LoginInterceptor},"delete":{method:"DELETE",url:n+"/delete/:id",params:{id:"@id"},interceptor:LoginInterceptor}})}]}),jugendstadtplanApi.provider("Traeger",function(){this.$get=["$resource",function(e){var n=backendPrefix+"/traeger";return e(n,{},{get:{method:"GET",url:n+"/:id",params:{id:"@id"}},update:{method:"PUT",url:n+"/update/:id",params:{id:"@id"},interceptor:LoginInterceptor},save:{method:"POST",url:n+"/create"},"delete":{method:"DELETE",url:n+"/delete/:id",params:{id:"@id"},interceptor:LoginInterceptor},login:{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},url:backendPrefix+"/authentication/traeger_check",transformRequest:function(e,n){var t=[];for(var r in e)t.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t.join("&")}}})}]}),jugendstadtplanApi.provider("Kategorie",function(){this.$get=["$resource",function(e){var n=backendPrefix+"/kategorie";return e(n)}]}),Jugendstadtplan.Controllers.controller("AnsprechpartnerFormController",["$scope",function(e){e.newAnsprechpartner={},e.addAnsprechpartner=function(){void 0===e.model.ansprechpartner&&(e.model.ansprechpartner=[]),e.model.ansprechpartner.push(e.newAnsprechpartner),e.newAnsprechpartner={}},e.isAnsprechpartnerValid=function(e){return void 0===e.name||0===e.name.length?!1:void 0!==e.email&&0!==e.email.length}}]),Jugendstadtplan.Controllers.controller("LinksFormController",["$scope",function(e){e.newLink={},e.addLink=function(){void 0===e.model.links&&(e.model.links=[]),e.model.links.push(e.newLink),e.newLink={}},e.isLinkValid=function(e){return void 0===e.titel||0===e.titel.length?!1:void 0!==e.url&&0!==e.url.length}}]),angular.module("jugendstadtplan.pins").config(function(e){e.state("Detail: Pin",{url:"/pin/{id:[0-9]+}",views:{main:{controller:"PinDetailController",templateUrl:"app/pins/views/detail.tpl.html"}},resolve:{pinDetail:["$stateParams","Pin",function(e,n){return n.get({},{id:e.id})}]},data:{pageTitle:"Pin"}})}),Jugendstadtplan.Controllers.controller("PinDetailController",["$scope","pinDetail",function(e,n){e.markers=[],e.center={lat:50.732829246726,lng:7.0937004090117,zoom:13},n.$promise.then(function(){e.pin=n,angular.extend(e,{defaults:{scrollWheelZoom:!1}}),e.center={lat:n.latitude,lng:n.longitude,zoom:15};var t={lat:n.latitude,lng:n.longitude,title:n.titel,focus:!0,message:"<h3>"+n.titel+"</h3>"+n.beschreibung};e.markers.push(t)},function(){angular.extend(e,{defaults:{scrollWheelZoom:!1}})})}]),angular.module("jugendstadtplan.pins").config(function(e){e.state("Form: Pin",{url:"/pin/create",views:{main:{controller:"PinFormController",templateUrl:"app/pins/views/form.tpl.html"}},data:{pageTitle:"Pin erstellen"}})}),Jugendstadtplan.Controllers.controller("PinFormController",["$scope","$location","Pin","Traeger","Kategorie",function(e,n,t,r,a){e.kategorien=a.query(),e.pin=new t,e.pins=t.query(),e.traegers=r.query(),angular.extend(e,{center:{lat:50.732829246726,lng:7.0937004090117,zoom:13},defaults:{scrollWheelZoom:!1},events:{}}),e.pin.markers=[],e.$on("leafletDirectiveMap.click",function(n,t){var r=t.leafletEvent;e.pin.markers[0]={lat:r.latlng.lat,lng:r.latlng.lng,draggable:!0,focus:!0}}),e.newPin=function(){e.pin=new t,e.pin.markers=[],e.editing=!1},e.save=function(){e.pin.id?t.update(e.pin):e.pin.$save().then(function(n){e.pins.push(n)}),e.newPin()},e.setActivePin=function(n){e.pin=n,e.pin.markers=[],null!=n.longitude&&(e.pin.markers[0]={lat:n.latitude,lng:n.longitude,draggable:!0,focus:!0}),e.editing=!0},e.remove=function(n){t["delete"](n,function(){var t=e.pins.indexOf(n);-1!=t&&e.pins.splice(t,1)})},e.barrierefreiheitsgrade=["Gut","Teilweise","Nicht barrierefrei"],e.kostenarten=["Kostenlos","Kostenpflichtig"],e.mindestalters=["ab 12","ab 16","ab 18","ab 21"]}]),angular.module("jugendstadtplan.pins").config(function(e){e.state("Liste: Pin",{url:"/pins",views:{main:{controller:"PinsController",templateUrl:"app/pins/views/list.tpl.html"}},data:{pageTitle:"Pins"}})}),Jugendstadtplan.Controllers.controller("PinsController",["$scope","$location","Pin",function(e,n,t){e.pins=t.query(),e.viewPin=function(e){n.path("/pin/"+e.id)}}]),angular.module("jugendstadtplan.traeger").config(function(e){e.state("Liste: Traeger",{url:"/traeger",views:{main:{controller:"TraegerController",templateUrl:"app/traeger/views/liste.tpl.html"}},data:{pageTitle:"Träger"}})}),Jugendstadtplan.Controllers.controller("TraegerController",["$scope","$location","Traeger",function(e,n,t){e.traeger=t.query(),e.viewTraeger=function(e){n.path("/traeger/"+e.id)}}]),angular.module("jugendstadtplan.traeger").config(function(e){e.state("Detail: Traeger",{url:"/traeger/{id:[0-9]+}",views:{main:{controller:"TraegerDetailController",templateUrl:"app/traeger/views/detail.tpl.html"}},resolve:{traegerDetail:["$stateParams","Traeger",function(e,n){return n.get({},{id:e.id})}]},data:{pageTitle:"Träger"}})}),Jugendstadtplan.Controllers.controller("TraegerDetailController",["$scope","traegerDetail",function(e,n){e.traeger=n,angular.extend(e,{center:{lat:50.732829246726,lng:7.0937004090117,zoom:13},defaults:{scrollWheelZoom:!1}}),e.markers=[],n.$promise.then(function(){angular.forEach(n.pins,function(n,t){var r={lat:n.latitude,lng:n.longitude,title:n.titel,message:"<h3>"+n.titel+"</h3>"+n.beschreibung+'<small><a href="/#/pin/'+n.id+'">Mehr</a></small>'};e.markers.push(r)})})}]),angular.module("jugendstadtplan.traeger").config(function(e){e.state("Form: Traeger",{url:"/traeger/create",views:{main:{controller:"TraegerFormController",templateUrl:"app/traeger/views/form.tpl.html"}},data:{pageTitle:"Träger erstellen"}})}),Jugendstadtplan.Controllers.controller("TraegerFormController",["$scope","$location","Traeger","Kategorie","Upload",function(e,n,t,r,a){e.kategorien=r.query(),e.traeger=new t,e.traegers=t.query(),e.newTraeger=function(){e.traeger=new t,e.editing=!1},e.save=function(){e.traeger.id?t.update(e.traeger).then(function(){e.newTraeger()},function(){alert("Ein Träger mit dieser Email-Adresse existiert bereits!")}):e.traeger.$save().then(function(n){e.traegers.push(n),e.newTraeger()},function(){alert("Ein Träger mit dieser Email-Adresse existiert bereits!")})},e.setActiveTraeger=function(n){e.traeger=n,e.editing=!0},e.remove=function(n){t["delete"](n,function(){var t=e.traegers.indexOf(n);-1!=t&&e.traegers.splice(t,1)})},e.onFileSelect=function(n){for(var t=function(n){a.upload({url:"app_dev.php/img/upload",method:"POST",data:{myObj:e.myModelObj},file:n}).progress(function(e){console.log("percent: "+parseInt(100*e.loaded/e.total))}).success(function(t,r,a,l){void 0===e.traeger.bilder&&(e.traeger.bilder=[]),n.tmp_name=t.folder,e.traeger.bilder.push(n)})},r=0;r<n.length;r++){var l=n[r];e.upload=t(l)}},e.newAdresse={},e.addAdresse=function(){void 0===e.traeger.adressen&&(e.traeger.adressen=[]),e.traeger.adressen.push(e.newAdresse),e.newAdresse={}},e.isAdresseValid=function(e){return void 0===e.strasse||0===e.strasse.length?!1:void 0!==e.ort&&0!==e.ort.length}}]),angular.module("jugendstadtplan.traeger").config(function(e){e.state("Login: Traeger",{url:"/traeger/login",views:{main:{controller:"TraegerLoginController",templateUrl:"app/traeger/views/login.tpl.html"}},data:{pageTitle:"Einloggen"}})}),Jugendstadtplan.Controllers.controller("TraegerLoginController",["$scope","$state","$window","LoginService","Traeger",function(e,n,t,r,a){e.traeger=new a,e.login=function(){e.traeger.$login().then(function(e){t.localStorage.token=e.token,r.setLoggedIn(!0),n.go("Startseite")},function(n){e.error={msg:"Authentifizierung fehlgeschlagen!"}})}}]),Jugendstadtplan.Controllers.controller("TerminFormController",["$scope",function(e){e.wochentage=["Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"],e.newTermin={},e.addTermin=function(){void 0===e.pin.termine&&(e.pin.termine=[]),e.pin.termine.push(e.newTermin),e.newTermin={}},e.isTerminValid=function(e){return void 0===e.beginn||0===e.beginn?!1:e.ganztaegig===!0||void 0!==e.beginn_uhrzeit&&0!==e.beginn_uhrzeit},e.woche_des_monats=[{id:0,label:"Jede Woche"},{id:1,label:"Jede 1. Woche"},{id:2,label:"Jede 2. Woche"},{id:3,label:"Jede 3. Woche"},{id:4,label:"Jede 4. Woche"},{id:5,label:"Jede 5. Woche"}],e.newWiederholung={},e.addWiederholung=function(){void 0===e.newTermin.wiederholungen&&(e.newTermin.wiederholungen=[]),e.newTermin.wiederholungen.push(e.newWiederholung),e.newWiederholung={}},e.isWiederholungValid=function(e){return void 0!==e.wochentag&&0!==e.wochentag}}]),angular.module("jugendstadtplan.startseite").config(function(e){e.state("Startseite",{url:"/startseite",views:{main:{controller:"StartseiteController",templateUrl:"app/startseite/views/startseite.tpl.html"}},data:{pageTitle:"Startseite"}})}),angular.module("jugendstadtplan.startseite").controller("StartseiteController",["$scope","$location","Pin",function(e,n,t){angular.extend(e,{center:{lat:50.732829246726,lng:7.0937004090117,zoom:13},defaults:{scrollWheelZoom:!1}}),e.markers=[],t.query(function(n){angular.forEach(n,function(n){if(null!=n.longitude){var t={lat:n.latitude,lng:n.longitude,title:n.titel,message:"<h3>"+n.titel+"</h3>"+n.beschreibung+'<small><a href="/#/pin/'+n.id+'">Mehr</a></small>'};e.markers.push(t)}})})}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi9yZXNvdXJjZXMvSnVnZW5kc3RhZHRwbGFuQXBpLmpzIiwiY29tbW9uL3Jlc291cmNlcy9Mb2dpblNlcnZpY2UuanMiLCJhcHAvYW5zcHJlY2hwYXJ0bmVyL0Fuc3ByZWNocGFydG5lck1vZHVsZS5qcyIsImFwcC9saW5rcy9MaW5rc01vZHVsZS5qcyIsImFwcC9waW5zL1BpbnNNb2R1bGUuanMiLCJhcHAvdHJhZWdlci9UcmFlZ2VyTW9kdWxlLmpzIiwiYXBwL3Rlcm1pbi9UZXJtaW5Nb2R1bGUuanMiLCJhcHAvc3RhcnRzZWl0ZS9TdGFydHNlaXRlTW9kdWxlLmpzIiwiYXBwL2FwcC5qcyIsImNvbW1vbi9wbHVzT25lL3BsdXNPbmUuanMiLCJhcHAvYW5zcHJlY2hwYXJ0bmVyL0Fuc3ByZWNocGFydG5lckZvcm1Db250cm9sbGVyLmpzIiwiYXBwL2xpbmtzL0xpbmtzRm9ybUNvbnRyb2xsZXIuanMiLCJhcHAvcGlucy9QaW5EZXRhaWxDb250cm9sbGVyLmpzIiwiYXBwL3BpbnMvUGluRm9ybUNvbnRyb2xsZXIuanMiLCJhcHAvcGlucy9QaW5zQ29udHJvbGxlci5qcyIsImFwcC90cmFlZ2VyL1RyYWVnZXJDb250cm9sbGVyLmpzIiwiYXBwL3RyYWVnZXIvVHJhZWdlckRldGFpbENvbnRyb2xsZXIuanMiLCJhcHAvdHJhZWdlci9UcmFlZ2VyRm9ybUNvbnRyb2xsZXIuanMiLCJhcHAvdHJhZWdlci9UcmFlZ2VyTG9naW5Db250cm9sbGVyLmpzIiwiYXBwL3Rlcm1pbi9UZXJtaW5Gb3JtQ29udHJvbGxlci5qcyIsImFwcC9zdGFydHNlaXRlL1N0YXJ0c2VpdGVDb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbIkxvZ2luSW50ZXJjZXB0b3IiLCIkd2luZG93IiwicmVxdWVzdCIsImNvbmZpZyIsImxvY2FsU3RvcmFnZSIsInRva2VuIiwiaGVhZGVycyIsIkF1dGhvcml6YXRpb24iLCJqdWdlbmRzdGFkdHBsYW5Mb2dpbiIsImFuZ3VsYXIiLCJtb2R1bGUiLCJzZXJ2aWNlIiwiYXV0aGVudGljYXRlZCIsImlzTG9nZ2VkSW4iLCJzZXRMb2dnZWRJbiIsImxvZ2dlZEluIiwiSnVnZW5kc3RhZHRwbGFuIiwiQ29udHJvbGxlcnMiLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIm90aGVyd2lzZSIsInJ1biIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCIkbG9jYXRpb24iLCIkb24iLCJldmVudCIsInRvU3RhdGUiLCJ0b1BhcmFtcyIsImZyb21TdGF0ZSIsImZyb21QYXJhbXMiLCJpc0RlZmluZWQiLCJkYXRhIiwicGFnZVRpdGxlIiwiZGlyZWN0aXZlIiwibGluayIsInNjb3BlIiwiZWxlbWVudCIsImF0dHJzIiwiZ2FwaSIsInBsdXNvbmUiLCJyZW5kZXIiLCJzaXplIiwiaHJlZiIsImp1Z2VuZHN0YWR0cGxhbkFwaSIsImJhY2tlbmRQcmVmaXgiLCJwcm92aWRlciIsInRoaXMiLCIkZ2V0IiwiJHJlc291cmNlIiwiYmFja2VuZFVybCIsImdldCIsIm1ldGhvZCIsInVybCIsInBhcmFtcyIsImlkIiwidXBkYXRlIiwiaW50ZXJjZXB0b3IiLCJzYXZlIiwiZGVsZXRlIiwibG9naW4iLCJDb250ZW50LVR5cGUiLCJ0cmFuc2Zvcm1SZXF1ZXN0IiwiaGVhZGVyc0dldHRlciIsInN0ciIsImQiLCJwdXNoIiwiZW5jb2RlVVJJQ29tcG9uZW50Iiwiam9pbiIsIm5ld0Fuc3ByZWNocGFydG5lciIsImFkZEFuc3ByZWNocGFydG5lciIsInVuZGVmaW5lZCIsIm1vZGVsIiwiYW5zcHJlY2hwYXJ0bmVyIiwiaXNBbnNwcmVjaHBhcnRuZXJWYWxpZCIsIm5hbWUiLCJsZW5ndGgiLCJlbWFpbCIsIm5ld0xpbmsiLCJhZGRMaW5rIiwibGlua3MiLCJpc0xpbmtWYWxpZCIsInRpdGVsIiwic3RhdGUiLCJ2aWV3cyIsIm1haW4iLCJ0ZW1wbGF0ZVVybCIsInJlc29sdmUiLCJwaW5EZXRhaWwiLCIkc3RhdGVQYXJhbXMiLCJQaW4iLCJtYXJrZXJzIiwiY2VudGVyIiwibGF0IiwibG5nIiwiem9vbSIsIiRwcm9taXNlIiwidGhlbiIsInBpbiIsImV4dGVuZCIsImRlZmF1bHRzIiwic2Nyb2xsV2hlZWxab29tIiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJtYXJrZXIiLCJ0aXRsZSIsImZvY3VzIiwibWVzc2FnZSIsImJlc2NocmVpYnVuZyIsIlRyYWVnZXIiLCJLYXRlZ29yaWUiLCJrYXRlZ29yaWVuIiwicXVlcnkiLCJwaW5zIiwidHJhZWdlcnMiLCJldmVudHMiLCJhcmdzIiwibGVhZkV2ZW50IiwibGVhZmxldEV2ZW50IiwibGF0bG5nIiwiZHJhZ2dhYmxlIiwibmV3UGluIiwiZWRpdGluZyIsIiRzYXZlIiwicmVzcG9uc2UiLCJzZXRBY3RpdmVQaW4iLCJyZW1vdmUiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJiYXJyaWVyZWZyZWloZWl0c2dyYWRlIiwia29zdGVuYXJ0ZW4iLCJtaW5kZXN0YWx0ZXJzIiwidmlld1BpbiIsInBhdGgiLCJ0cmFlZ2VyIiwidmlld1RyYWVnZXIiLCJ0cmFlZ2VyRGV0YWlsIiwiZm9yRWFjaCIsIml0ZW0iLCJrZXkiLCJVcGxvYWQiLCJuZXdUcmFlZ2VyIiwiYWxlcnQiLCJzZXRBY3RpdmVUcmFlZ2VyIiwib25GaWxlU2VsZWN0IiwiJGZpbGVzIiwiZG9VcGxvYWQiLCJmaWxlIiwidXBsb2FkIiwibXlPYmoiLCJteU1vZGVsT2JqIiwicHJvZ3Jlc3MiLCJldnQiLCJjb25zb2xlIiwibG9nIiwicGFyc2VJbnQiLCJsb2FkZWQiLCJ0b3RhbCIsInN1Y2Nlc3MiLCJzdGF0dXMiLCJiaWxkZXIiLCJ0bXBfbmFtZSIsImZvbGRlciIsImkiLCJuZXdBZHJlc3NlIiwiYWRkQWRyZXNzZSIsImFkcmVzc2VuIiwiaXNBZHJlc3NlVmFsaWQiLCJhZHJlc3NlIiwic3RyYXNzZSIsIm9ydCIsIiRzdGF0ZSIsIkxvZ2luU2VydmljZSIsIiRsb2dpbiIsImdvIiwiZXJyb3IiLCJtc2ciLCJ3b2NoZW50YWdlIiwibmV3VGVybWluIiwiYWRkVGVybWluIiwidGVybWluZSIsImlzVGVybWluVmFsaWQiLCJ0ZXJtaW4iLCJiZWdpbm4iLCJnYW56dGFlZ2lnIiwiYmVnaW5uX3VocnplaXQiLCJ3b2NoZV9kZXNfbW9uYXRzIiwibGFiZWwiLCJuZXdXaWVkZXJob2x1bmciLCJhZGRXaWVkZXJob2x1bmciLCJ3aWVkZXJob2x1bmdlbiIsImlzV2llZGVyaG9sdW5nVmFsaWQiLCJ3aWVkZXJob2x1bmciLCJ3b2NoZW50YWciXSwibWFwcGluZ3MiOiJBQUVBLFFBQUFBLGtCQUFBQyxHQUNBLE9BQ0FDLFFBQUEsU0FBQUMsR0FLQSxNQUpBRixHQUFBRyxhQUFBQyxRQUNBRixFQUFBRyxRQUFBQyxjQUFBLFVBQUFOLEVBQUFHLGFBQUFDLE9BR0FGLElDVEEsR0FBQUssc0JBQUFDLFFBQUFDLE9BQUEsMkJBRUFGLHNCQUFBRyxRQUFBLGVBQUEsV0FDQSxHQUFBQyxJQUFBLENBRUEsUUFDQUMsV0FBQSxXQUNBLE1BQUFELElBR0FFLFlBQUEsU0FBQUMsR0FDQUgsRUFBQUcsTUNYQU4sUUFBQUMsT0FBQSxzQ0NBQUQsUUFBQUMsT0FBQSw0QkNBQUQsUUFBQUMsT0FBQSx3QkFDQSxZQUFBLHdCQUFBLGtDQUFBLDJCQ0RBRCxRQUFBQyxPQUFBLDJCQUNBLFlBQUEsd0JBQUEsa0NBQUEsMEJDREFELFFBQUFDLE9BQUEsNkJDQUFELFFBQUFDLE9BQUEsOEJBQ0EsWUFDQSxxQkNGQSxJQUFBTSxpQkFBQUEsbUJBQ0FBLGlCQUFBQyxZQUFBUixRQUFBQyxPQUFBLGtDQUVBRCxRQUFBQyxPQUFBLG1CQUNBLGFBQ0EsYUFDQSxZQUNBLG9CQUNBLGNBQ0EsZUFDQSw0QkFDQSx3QkFDQSxzQkFDQSw2QkFDQSx1QkFDQSwwQkFDQSxnQ0FHQVAsT0FBQSxTQUFBZSxFQUFBQyxHQUNBQSxFQUFBQyxVQUFBLGlCQUdBQyxJQUFBLGNBR0FDLFdBQUEsV0FBQSxTQUFBLFlBQUEsU0FBQUMsRUFBQUMsR0FDQUQsRUFBQUUsSUFBQSxzQkFBQSxTQUFBQyxFQUFBQyxFQUFB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LE1BQUEsa0JBRUFySyxFQUFBc0ssbUJBQ0F0SyxFQUFBdUssZ0JBQUEsV0FDQXZILFNBQUFoRCxFQUFBNEosVUFBQVksaUJBQ0F4SyxFQUFBNEosVUFBQVksbUJBRUF4SyxFQUFBNEosVUFBQVksZUFBQTdILEtBQUEzQyxFQUFBc0ssaUJBQ0F0SyxFQUFBc0ssb0JBR0F0SyxFQUFBeUssb0JBQUEsU0FBQUMsR0FDQSxNQUFBMUgsVUFBQTBILEVBQUFDLFdBQUEsSUFBQUQsRUFBQUMsY0M5Q0F6TCxRQUFBQyxPQUFBLDhCQUFBUCxPQUFBLFNBQUFlLEdBRUFBLEVBQUFpRSxNQUFBLGNBQ0E5QixJQUFBLGNBQ0ErQixPQUNBQyxNQUNBL0QsV0FBQSx1QkFDQWdFLFlBQUEsNkNBR0F0RCxNQUFBQyxVQUFBLGtCQUtBeEIsUUFBQUMsT0FBQSw4QkFBQVksV0FBQSx3QkFBQSxTQUFBLFlBQUEsTUFBQSxTQUFBQyxFQUFBQyxFQUFBa0UsR0FDQWpGLFFBQUEwRixPQUFBNUUsR0FDQXFFLFFBQ0FDLElBQUEsZ0JBQ0FDLElBQUEsZ0JBQ0FDLEtBQUEsSUFFQUssVUFDQUMsaUJBQUEsS0FJQTlFLEVBQUFvRSxXQUVBRCxFQUFBc0IsTUFBQSxTQUFBQyxHQUNBeEcsUUFBQWlJLFFBQUF6QixFQUFBLFNBQUEwQixHQUNBLEdBQUEsTUFBQUEsRUFBQXBDLFVBQUEsQ0FDQSxHQUFBQyxJQUNBWCxJQUFBOEMsRUFBQXJDLFNBQ0FSLElBQUE2QyxFQUFBcEMsVUFDQUUsTUFBQWtDLEVBQUF6RCxNQUNBeUIsUUFBQSxPQUFBZ0MsRUFBQXpELE1BQUEsUUFBQXlELEVBQUEvQixhQUFBLDBCQUFBK0IsRUFBQXBGLEdBQUEscUJBRUFoQyxHQUFBb0UsUUFBQXpCLEtBQUFzQyIsImZpbGUiOiJqdWdlbmRzdGFkdHBsYW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGp1Z2VuZHN0YWR0cGxhbkFwaSA9IGFuZ3VsYXIubW9kdWxlKCdqdWdlbmRzdGFkdHBsYW4uYXBpJywgWyduZ1Jlc291cmNlJ10pO1xuXG5mdW5jdGlvbiBMb2dpbkludGVyY2VwdG9yKCR3aW5kb3cpe1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlcXVlc3Q6IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgICAgICAgICAgaWYgKCR3aW5kb3cubG9jYWxTdG9yYWdlLnRva2VuKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnLmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9ICdCZWFyZXIgJyArICR3aW5kb3cubG9jYWxTdG9yYWdlLnRva2VuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgICAgICB9XG4gICAgfVxufVxuXG52YXIgYmFja2VuZFByZWZpeCA9ICdodHRwOi8vYXBpLmp1Z2VuZHN0YWR0cGxhbi5kZXYnO1xuXG5qdWdlbmRzdGFkdHBsYW5BcGkucHJvdmlkZXIoJ1BpbicsIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuJGdldCA9IFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xuICAgICAgICB2YXIgYmFja2VuZFVybCA9IGJhY2tlbmRQcmVmaXggKyAnL3BpbnMnO1xuICAgICAgICByZXR1cm4gJHJlc291cmNlKGJhY2tlbmRVcmwsIHt9LCB7XG4gICAgICAgICAgICBnZXQ6IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgICAgIHVybDogYmFja2VuZFVybCArICcvOmlkJyxcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHsgaWQ6J0BpZCd9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdXBkYXRlOiB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgICAgICB1cmw6IGJhY2tlbmRVcmwgKyAnL3VwZGF0ZS86aWQnLFxuICAgICAgICAgICAgICAgIHBhcmFtczogeyBpZDonQGlkJ30sXG4gICAgICAgICAgICAgICAgaW50ZXJjZXB0b3I6IExvZ2luSW50ZXJjZXB0b3JcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzYXZlOiB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgdXJsOiBiYWNrZW5kVXJsICsgJy9jcmVhdGUnLFxuICAgICAgICAgICAgICAgIGludGVyY2VwdG9yOiBMb2dpbkludGVyY2VwdG9yXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVsZXRlOiB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgICAgICAgICB1cmw6IGJhY2tlbmRVcmwgKyAnL2RlbGV0ZS86aWQnLFxuICAgICAgICAgICAgICAgIHBhcmFtczogeyBpZDonQGlkJ30sXG4gICAgICAgICAgICAgICAgaW50ZXJjZXB0b3I6IExvZ2luSW50ZXJjZXB0b3JcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfV07XG59KTtcblxuanVnZW5kc3RhZHRwbGFuQXBpLnByb3ZpZGVyKCdUcmFlZ2VyJywgZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kZ2V0ID0gWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XG4gICAgICAgIHZhciBiYWNrZW5kVXJsID0gYmFja2VuZFByZWZpeCArICcvdHJhZWdlcic7XG4gICAgICAgIHJldHVybiAkcmVzb3VyY2UoYmFja2VuZFVybCwge30sIHtcbiAgICAgICAgICAgIGdldDoge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICAgICAgdXJsOiBiYWNrZW5kVXJsICsgJy86aWQnLFxuICAgICAgICAgICAgICAgIHBhcmFtczogeyBpZDonQGlkJ31cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1cGRhdGU6IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgICAgIHVybDogYmFja2VuZFVybCArICcvdXBkYXRlLzppZCcsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7IGlkOidAaWQnfSxcbiAgICAgICAgICAgICAgICBpbnRlcmNlcHRvcjogTG9naW5JbnRlcmNlcHRvclxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNhdmU6IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICB1cmw6IGJhY2tlbmRVcmwgKyAnL2NyZWF0ZSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWxldGU6IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICAgICAgICAgIHVybDogYmFja2VuZFVybCArICcvZGVsZXRlLzppZCcsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7IGlkOidAaWQnfSxcbiAgICAgICAgICAgICAgICBpbnRlcmNlcHRvcjogTG9naW5JbnRlcmNlcHRvclxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxvZ2luOiB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ30sXG4gICAgICAgICAgICAgICAgdXJsOiBiYWNrZW5kUHJlZml4ICsgJy9hdXRoZW50aWNhdGlvbi90cmFlZ2VyX2NoZWNrJyxcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBmdW5jdGlvbiAoZGF0YSwgaGVhZGVyc0dldHRlcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBUcmFuc2Zvcm0gSlNPTiBpbnRvIHJlZ3VsYXIgZm9ybSB2YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0ciA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBkIGluIGRhdGEpXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHIucHVzaChlbmNvZGVVUklDb21wb25lbnQoZCkgKyBcIj1cIiArIGVuY29kZVVSSUNvbXBvbmVudChkYXRhW2RdKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdHIuam9pbihcIiZcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XTtcbn0pO1xuXG5qdWdlbmRzdGFkdHBsYW5BcGkucHJvdmlkZXIoJ0thdGVnb3JpZScsIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuJGdldCA9IFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xuICAgICAgICB2YXIgYmFja2VuZFVybCA9IGJhY2tlbmRQcmVmaXggKyAnL2thdGVnb3JpZSc7XG4gICAgICAgIHJldHVybiAkcmVzb3VyY2UoYmFja2VuZFVybCk7XG4gICAgfV07XG59KTsiLCJ2YXIganVnZW5kc3RhZHRwbGFuTG9naW4gPSBhbmd1bGFyLm1vZHVsZSgnanVnZW5kc3RhZHRwbGFuLmxvZ2luJywgW10pO1xuXG5qdWdlbmRzdGFkdHBsYW5Mb2dpbi5zZXJ2aWNlKCdMb2dpblNlcnZpY2UnLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXV0aGVudGljYXRlZCA9IGZhbHNlO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgaXNMb2dnZWRJbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGF1dGhlbnRpY2F0ZWQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0TG9nZ2VkSW46IGZ1bmN0aW9uIChsb2dnZWRJbikge1xuICAgICAgICAgICAgYXV0aGVudGljYXRlZCA9IGxvZ2dlZEluO1xuICAgICAgICB9XG4gICAgfVxufSk7IiwiYW5ndWxhci5tb2R1bGUoICdqdWdlbmRzdGFkdHBsYW4uYW5zcHJlY2hwYXJ0bmVyJywgW1xuXSk7IiwiYW5ndWxhci5tb2R1bGUoICdqdWdlbmRzdGFkdHBsYW4ubGlua3MnLCBbXG5dKTsiLCJhbmd1bGFyLm1vZHVsZSggJ2p1Z2VuZHN0YWR0cGxhbi5waW5zJywgW1xuICAndWkucm91dGVyJywgJ2p1Z2VuZHN0YWR0cGxhbi5saW5rcycsICdqdWdlbmRzdGFkdHBsYW4uYW5zcHJlY2hwYXJ0bmVyJywgJ2p1Z2VuZHN0YWR0cGxhbi50ZXJtaW4nXG5dKTsiLCJhbmd1bGFyLm1vZHVsZSggJ2p1Z2VuZHN0YWR0cGxhbi50cmFlZ2VyJywgW1xuICAndWkucm91dGVyJywgJ2p1Z2VuZHN0YWR0cGxhbi5saW5rcycsICdqdWdlbmRzdGFkdHBsYW4uYW5zcHJlY2hwYXJ0bmVyJywgJ2p1Z2VuZHN0YWR0cGxhbi5sb2dpbidcbl0pOyIsImFuZ3VsYXIubW9kdWxlKCAnanVnZW5kc3RhZHRwbGFuLnRlcm1pbicsIFtcbl0pOyIsImFuZ3VsYXIubW9kdWxlKCAnanVnZW5kc3RhZHRwbGFuLnN0YXJ0c2VpdGUnLCBbXG4gICd1aS5yb3V0ZXInLFxuICAnbGVhZmxldC1kaXJlY3RpdmUnXG5dKTsiLCJ2YXIgSnVnZW5kc3RhZHRwbGFuID0gSnVnZW5kc3RhZHRwbGFuIHx8IHt9O1xuSnVnZW5kc3RhZHRwbGFuLkNvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ2p1Z2VuZHN0YWR0cGxhbi5jb250cm9sbGVycycsIFtdKTtcblxuYW5ndWxhci5tb2R1bGUoICdqdWdlbmRzdGFkdHBsYW4nLCBbXG4gICduZ1Jlc291cmNlJyxcbiAgJ25nU2FuaXRpemUnLFxuICAndWkucm91dGVyJyxcbiAgJ2xlYWZsZXQtZGlyZWN0aXZlJyxcbiAgJ3RleHRBbmd1bGFyJyxcbiAgJ25nRmlsZVVwbG9hZCcsXG4gICdqdWdlbmRzdGFkdHBsYW4udGVtcGxhdGVzJyxcbiAgJ2p1Z2VuZHN0YWR0cGxhbi5sb2dpbicsXG4gICdqdWdlbmRzdGFkdHBsYW4uYXBpJyxcbiAgJ2p1Z2VuZHN0YWR0cGxhbi5zdGFydHNlaXRlJyxcbiAgJ2p1Z2VuZHN0YWR0cGxhbi5waW5zJyxcbiAgJ2p1Z2VuZHN0YWR0cGxhbi50cmFlZ2VyJyxcbiAgJ2p1Z2VuZHN0YWR0cGxhbi5jb250cm9sbGVycydcbl0pXG5cbi5jb25maWcoIGZ1bmN0aW9uIG15QXBwQ29uZmlnICggJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciApIHtcbiAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSggJy9zdGFydHNlaXRlJyApO1xufSlcblxuLnJ1biggZnVuY3Rpb24gcnVuICgpIHtcbn0pXG5cbi5jb250cm9sbGVyKCAnQXBwQ3RybCcsIFsgJyRzY29wZScsICckbG9jYXRpb24nLCBmdW5jdGlvbiBBcHBDdHJsKCAkc2NvcGUsICRsb2NhdGlvbiApe1xuICAkc2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdWNjZXNzJywgZnVuY3Rpb24oZXZlbnQsIHRvU3RhdGUsIHRvUGFyYW1zLCBmcm9tU3RhdGUsIGZyb21QYXJhbXMpe1xuICAgIGlmICggYW5ndWxhci5pc0RlZmluZWQoIHRvU3RhdGUuZGF0YS5wYWdlVGl0bGUgKSApIHtcbiAgICAgICRzY29wZS5wYWdlVGl0bGUgPSB0b1N0YXRlLmRhdGEucGFnZVRpdGxlICsgJyB8IEp1Z2VuZHN0YWR0cGxhbicgO1xuICAgIH1cbiAgfSk7XG59XSlcblxuOyIsImFuZ3VsYXIubW9kdWxlKCAncGx1c09uZScsIFtdIClcblxuLmRpcmVjdGl2ZSggJ3BsdXNPbmUnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICBsaW5rOiBmdW5jdGlvbiggc2NvcGUsIGVsZW1lbnQsIGF0dHJzICkge1xuICAgICAgZ2FwaS5wbHVzb25lLnJlbmRlciggZWxlbWVudFswXSwge1xuICAgICAgICBcInNpemVcIjogXCJtZWRpdW1cIixcbiAgICAgICAgXCJocmVmXCI6IFwiaHR0cDovL2JpdC5seS9uZ0JvaWxlcnBsYXRlXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn0pXG5cbjtcblxuIiwiSnVnZW5kc3RhZHRwbGFuLkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoICdBbnNwcmVjaHBhcnRuZXJGb3JtQ29udHJvbGxlcicsIFsgJyRzY29wZScsXG4gICAgZnVuY3Rpb24oJHNjb3BlKSB7XG5cbiAgICAgICAgLy8gQW5zcHJlY2hwYXJ0bmVyXG4gICAgICAgICRzY29wZS5uZXdBbnNwcmVjaHBhcnRuZXIgPSB7fTtcbiAgICAgICAgJHNjb3BlLmFkZEFuc3ByZWNocGFydG5lciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCRzY29wZS5tb2RlbC5hbnNwcmVjaHBhcnRuZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5tb2RlbC5hbnNwcmVjaHBhcnRuZXIgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRzY29wZS5tb2RlbC5hbnNwcmVjaHBhcnRuZXIucHVzaCgkc2NvcGUubmV3QW5zcHJlY2hwYXJ0bmVyKTtcbiAgICAgICAgICAgICRzY29wZS5uZXdBbnNwcmVjaHBhcnRuZXIgPSB7fTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuaXNBbnNwcmVjaHBhcnRuZXJWYWxpZCA9IGZ1bmN0aW9uKGFuc3ByZWNocGFydG5lcikge1xuICAgICAgICAgICAgaWYgKGFuc3ByZWNocGFydG5lci5uYW1lID09PSB1bmRlZmluZWQgfHwgYW5zcHJlY2hwYXJ0bmVyLm5hbWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChhbnNwcmVjaHBhcnRuZXIuZW1haWwgPT09IHVuZGVmaW5lZCB8fCBhbnNwcmVjaHBhcnRuZXIuZW1haWwubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG5cbiAgICB9XSk7IiwiSnVnZW5kc3RhZHRwbGFuLkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoICdMaW5rc0Zvcm1Db250cm9sbGVyJywgWyAnJHNjb3BlJyxcbiAgICBmdW5jdGlvbigkc2NvcGUpIHtcblxuICAgICAgICAvLyBMaW5rc1xuICAgICAgICAkc2NvcGUubmV3TGluayA9IHt9O1xuICAgICAgICAkc2NvcGUuYWRkTGluayA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCRzY29wZS5tb2RlbC5saW5rcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLm1vZGVsLmxpbmtzID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkc2NvcGUubW9kZWwubGlua3MucHVzaCgkc2NvcGUubmV3TGluayk7XG4gICAgICAgICAgICAkc2NvcGUubmV3TGluayA9IHt9O1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5pc0xpbmtWYWxpZCA9IGZ1bmN0aW9uKGxpbmspIHtcbiAgICAgICAgICAgIGlmIChsaW5rLnRpdGVsID09PSB1bmRlZmluZWQgfHwgbGluay50aXRlbC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxpbmsudXJsID09PSB1bmRlZmluZWQgfHwgbGluay51cmwubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG5cbiAgICB9XSk7IiwiYW5ndWxhci5tb2R1bGUoJ2p1Z2VuZHN0YWR0cGxhbi5waW5zJykuY29uZmlnKGZ1bmN0aW9uIGNvbmZpZyggJHN0YXRlUHJvdmlkZXIgKSB7XG4gIFxuICAkc3RhdGVQcm92aWRlci5zdGF0ZSggJ0RldGFpbDogUGluJywge1xuICAgIHVybDogJy9waW4ve2lkOlswLTldK30nLFxuICAgIHZpZXdzOiB7XG4gICAgICBcIm1haW5cIjoge1xuICAgICAgICBjb250cm9sbGVyOiAnUGluRGV0YWlsQ29udHJvbGxlcicsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL3BpbnMvdmlld3MvZGV0YWlsLnRwbC5odG1sJ1xuICAgICAgfVxuICAgIH0sXG4gICAgcmVzb2x2ZToge1xuICAgICAgcGluRGV0YWlsOiBbICckc3RhdGVQYXJhbXMnLCAnUGluJywgZnVuY3Rpb24oJHN0YXRlUGFyYW1zLCBQaW4pIHtcbiAgICAgICAgcmV0dXJuIFBpbi5nZXQoe30se2lkOiAkc3RhdGVQYXJhbXMuaWR9KTtcbiAgICAgIH1dXG4gICAgfSxcbiAgICBkYXRhOnsgcGFnZVRpdGxlOiAnUGluJyB9XG4gIH0pO1xuXG59KTtcblxuSnVnZW5kc3RhZHRwbGFuLkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoICdQaW5EZXRhaWxDb250cm9sbGVyJywgWyAnJHNjb3BlJywgJ3BpbkRldGFpbCcsIGZ1bmN0aW9uIFBpbkRldGFpbENvbnRyb2xsZXIoICRzY29wZSwgcGluRGV0YWlsICkge1xuICAgICRzY29wZS5tYXJrZXJzID0gW107XG4gICAgJHNjb3BlLmNlbnRlciA9IHtcbiAgICAgICAgbGF0OiA1MC43MzI4MjkyNDY3MjYsXG4gICAgICAgIGxuZzogNy4wOTM3MDA0MDkwMTE3LFxuICAgICAgICB6b29tOiAxM1xuICAgIH07XG5cbiAgICBwaW5EZXRhaWwuJHByb21pc2UudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRzY29wZS5waW4gPSBwaW5EZXRhaWw7XG5cbiAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKCRzY29wZSwge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRzOiB7XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFdoZWVsWm9vbTogZmFsc2VcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJHNjb3BlLmNlbnRlciA9IHtcbiAgICAgICAgICAgICAgICBsYXQ6IHBpbkRldGFpbC5sYXRpdHVkZSxcbiAgICAgICAgICAgICAgICBsbmc6IHBpbkRldGFpbC5sb25naXR1ZGUsXG4gICAgICAgICAgICAgICAgem9vbTogMTVcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciBtYXJrZXIgPSB7XG4gICAgICAgICAgICAgICAgbGF0OiBwaW5EZXRhaWwubGF0aXR1ZGUsXG4gICAgICAgICAgICAgICAgbG5nOiBwaW5EZXRhaWwubG9uZ2l0dWRlLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBwaW5EZXRhaWwudGl0ZWwsXG4gICAgICAgICAgICAgICAgZm9jdXM6IHRydWUsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJzxoMz4nICsgcGluRGV0YWlsLnRpdGVsICsgJzwvaDM+JyArIHBpbkRldGFpbC5iZXNjaHJlaWJ1bmcsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgJHNjb3BlLm1hcmtlcnMucHVzaChtYXJrZXIpO1xuICAgICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKCRzY29wZSwge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRzOiB7XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFdoZWVsWm9vbTogZmFsc2VcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICk7XG59XSk7IiwiYW5ndWxhci5tb2R1bGUoJ2p1Z2VuZHN0YWR0cGxhbi5waW5zJykuY29uZmlnKGZ1bmN0aW9uIGNvbmZpZyggJHN0YXRlUHJvdmlkZXIgKSB7XG5cbiAgICAkc3RhdGVQcm92aWRlci5zdGF0ZSggJ0Zvcm06IFBpbicsIHtcbiAgICAgICAgdXJsOiAnL3Bpbi9jcmVhdGUnLFxuICAgICAgICB2aWV3czoge1xuICAgICAgICAgICAgXCJtYWluXCI6IHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnUGluRm9ybUNvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL3BpbnMvdmlld3MvZm9ybS50cGwuaHRtbCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZGF0YTp7IHBhZ2VUaXRsZTogJ1BpbiBlcnN0ZWxsZW4nIH1cbiAgICB9KTtcblxufSk7XG5cbkp1Z2VuZHN0YWR0cGxhbi5Db250cm9sbGVycy5jb250cm9sbGVyKCAnUGluRm9ybUNvbnRyb2xsZXInLCBbICckc2NvcGUnLCAnJGxvY2F0aW9uJywgJ1BpbicsICdUcmFlZ2VyJywgJ0thdGVnb3JpZScsIGZ1bmN0aW9uIFBpbkZvcm1Db250cm9sbGVyKCAkc2NvcGUsICRsb2NhdGlvbiwgUGluLCBUcmFlZ2VyLCBLYXRlZ29yaWUgKSB7XG4gICAgJHNjb3BlLmthdGVnb3JpZW4gPSBLYXRlZ29yaWUucXVlcnkoKTtcbiAgICAkc2NvcGUucGluID0gbmV3IFBpbigpO1xuICAgICRzY29wZS5waW5zID0gUGluLnF1ZXJ5KCk7XG4gICAgJHNjb3BlLnRyYWVnZXJzID0gVHJhZWdlci5xdWVyeSgpO1xuXG4gICAgYW5ndWxhci5leHRlbmQoJHNjb3BlLCB7XG4gICAgICAgIGNlbnRlcjoge1xuICAgICAgICAgICAgbGF0OiA1MC43MzI4MjkyNDY3MjYsXG4gICAgICAgICAgICBsbmc6IDcuMDkzNzAwNDA5MDExNyxcbiAgICAgICAgICAgIHpvb206IDEzXG4gICAgICAgIH0sXG4gICAgICAgIGRlZmF1bHRzOiB7XG4gICAgICAgICAgICBzY3JvbGxXaGVlbFpvb206IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIGV2ZW50czoge31cbiAgICB9KTtcblxuICAgICRzY29wZS5waW4ubWFya2VycyA9IFtdO1xuICAgICRzY29wZS4kb24oXCJsZWFmbGV0RGlyZWN0aXZlTWFwLmNsaWNrXCIsIGZ1bmN0aW9uKGV2ZW50LCBhcmdzKXtcbiAgICAgICAgdmFyIGxlYWZFdmVudCA9IGFyZ3MubGVhZmxldEV2ZW50O1xuXG4gICAgICAgICRzY29wZS5waW4ubWFya2Vyc1swXSA9IHtcbiAgICAgICAgICAgIGxhdDogbGVhZkV2ZW50LmxhdGxuZy5sYXQsXG4gICAgICAgICAgICBsbmc6IGxlYWZFdmVudC5sYXRsbmcubG5nLFxuICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlLFxuICAgICAgICAgICAgZm9jdXM6IHRydWVcbiAgICAgICAgfTtcbiAgICB9KTtcblxuICAgICRzY29wZS5uZXdQaW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgJHNjb3BlLnBpbiA9IG5ldyBQaW4oKTtcbiAgICAgICAgJHNjb3BlLnBpbi5tYXJrZXJzID0gW107XG4gICAgICAgICRzY29wZS5lZGl0aW5nID0gZmFsc2U7XG4gICAgfTtcblxuICAgICRzY29wZS5zYXZlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgkc2NvcGUucGluLmlkKSB7XG4gICAgICAgICAgICBQaW4udXBkYXRlKCRzY29wZS5waW4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJHNjb3BlLnBpbi4kc2F2ZSgpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUucGlucy5wdXNoKHJlc3BvbnNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgICRzY29wZS5uZXdQaW4oKTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLnNldEFjdGl2ZVBpbiA9IGZ1bmN0aW9uKHBpbikge1xuICAgICAgICAkc2NvcGUucGluID0gcGluO1xuICAgICAgICAkc2NvcGUucGluLm1hcmtlcnMgPSBbXTtcbiAgICAgICAgaWYgKHBpbi5sb25naXR1ZGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgJHNjb3BlLnBpbi5tYXJrZXJzWzBdID0ge1xuICAgICAgICAgICAgICAgIGxhdDogcGluLmxhdGl0dWRlLFxuICAgICAgICAgICAgICAgIGxuZzogcGluLmxvbmdpdHVkZSxcbiAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgZm9jdXM6IHRydWVcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgJHNjb3BlLmVkaXRpbmcgPSB0cnVlO1xuICAgIH07XG5cbiAgICAkc2NvcGUucmVtb3ZlID0gZnVuY3Rpb24ocGluKSB7XG4gICAgICAgIFBpbi5kZWxldGUocGluLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9ICRzY29wZS5waW5zLmluZGV4T2YocGluKTtcbiAgICAgICAgICAgIGlmIChpbmRleCAhPSAtMSkge1xuICAgICAgICAgICAgICAgICRzY29wZS5waW5zLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cblxuICAgIC8vIEJhcnJpZXJlZnJlaWhlaXRzZ3JhZGVcbiAgICAkc2NvcGUuYmFycmllcmVmcmVpaGVpdHNncmFkZSA9IFsgJ0d1dCcsICdUZWlsd2Vpc2UnLCAnTmljaHQgYmFycmllcmVmcmVpJyBdO1xuXG5cbiAgICAvLyBLb3N0ZW5hcnRlblxuICAgICRzY29wZS5rb3N0ZW5hcnRlbiA9IFsgJ0tvc3RlbmxvcycsICdLb3N0ZW5wZmxpY2h0aWcnIF07XG5cblxuICAgIC8vIE1pbmRlc3RhbHRlclxuICAgICRzY29wZS5taW5kZXN0YWx0ZXJzID0gWyAnYWIgMTInLCAnYWIgMTYnLCAnYWIgMTgnLCAnYWIgMjEnIF07XG5cblxuXG59XSk7IiwiYW5ndWxhci5tb2R1bGUoJ2p1Z2VuZHN0YWR0cGxhbi5waW5zJykuY29uZmlnKGZ1bmN0aW9uIGNvbmZpZyggJHN0YXRlUHJvdmlkZXIgKSB7XG4gIFxuICAkc3RhdGVQcm92aWRlci5zdGF0ZSggJ0xpc3RlOiBQaW4nLCB7XG4gICAgdXJsOiAnL3BpbnMnLFxuICAgIHZpZXdzOiB7XG4gICAgICBcIm1haW5cIjoge1xuICAgICAgICBjb250cm9sbGVyOiAnUGluc0NvbnRyb2xsZXInLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC9waW5zL3ZpZXdzL2xpc3QudHBsLmh0bWwnXG4gICAgICB9XG4gICAgfSxcbiAgICBkYXRhOnsgcGFnZVRpdGxlOiAnUGlucycgfVxuICB9KTtcblxufSk7XG5cbkp1Z2VuZHN0YWR0cGxhbi5Db250cm9sbGVycy5jb250cm9sbGVyKCAnUGluc0NvbnRyb2xsZXInLCBbICckc2NvcGUnLCAnJGxvY2F0aW9uJywgJ1BpbicsIGZ1bmN0aW9uIFBpbnNDb250cm9sbGVyKCAkc2NvcGUsICRsb2NhdGlvbiwgUGluICkge1xuICAgICRzY29wZS5waW5zID0gUGluLnF1ZXJ5KCk7XG5cbiAgICAkc2NvcGUudmlld1BpbiA9IGZ1bmN0aW9uIChwaW4pIHtcbiAgICAgICRsb2NhdGlvbi5wYXRoKCcvcGluLycrcGluLmlkKTtcbiAgICB9O1xuXG59XSk7IiwiYW5ndWxhci5tb2R1bGUoJ2p1Z2VuZHN0YWR0cGxhbi50cmFlZ2VyJykuY29uZmlnKGZ1bmN0aW9uIGNvbmZpZyggJHN0YXRlUHJvdmlkZXIgKSB7XG4gIFxuICAkc3RhdGVQcm92aWRlci5zdGF0ZSggJ0xpc3RlOiBUcmFlZ2VyJywge1xuICAgIHVybDogJy90cmFlZ2VyJyxcbiAgICB2aWV3czoge1xuICAgICAgXCJtYWluXCI6IHtcbiAgICAgICAgY29udHJvbGxlcjogJ1RyYWVnZXJDb250cm9sbGVyJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvdHJhZWdlci92aWV3cy9saXN0ZS50cGwuaHRtbCdcbiAgICAgIH1cbiAgICB9LFxuICAgIGRhdGE6eyBwYWdlVGl0bGU6ICdUcsOkZ2VyJyB9XG4gIH0pO1xuXG59KTtcblxuSnVnZW5kc3RhZHRwbGFuLkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoICdUcmFlZ2VyQ29udHJvbGxlcicsIFsgJyRzY29wZScsICckbG9jYXRpb24nLCAnVHJhZWdlcicsIGZ1bmN0aW9uIFRyYWVnZXJDb250cm9sbGVyKCAkc2NvcGUsICRsb2NhdGlvbiwgVHJhZWdlciApIHtcbiAgICAkc2NvcGUudHJhZWdlciA9IFRyYWVnZXIucXVlcnkoKTtcblxuICAgICRzY29wZS52aWV3VHJhZWdlciA9IGZ1bmN0aW9uICh0cmFlZ2VyKSB7XG4gICAgICAkbG9jYXRpb24ucGF0aCgnL3RyYWVnZXIvJyt0cmFlZ2VyLmlkKTtcbiAgICB9O1xuXG59XSk7IiwiYW5ndWxhci5tb2R1bGUoJ2p1Z2VuZHN0YWR0cGxhbi50cmFlZ2VyJykuY29uZmlnKGZ1bmN0aW9uIGNvbmZpZyggJHN0YXRlUHJvdmlkZXIgKSB7XG4gIFxuICAkc3RhdGVQcm92aWRlci5zdGF0ZSggJ0RldGFpbDogVHJhZWdlcicsIHtcbiAgICB1cmw6ICcvdHJhZWdlci97aWQ6WzAtOV0rfScsXG4gICAgdmlld3M6IHtcbiAgICAgIFwibWFpblwiOiB7XG4gICAgICAgIGNvbnRyb2xsZXI6ICdUcmFlZ2VyRGV0YWlsQ29udHJvbGxlcicsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL3RyYWVnZXIvdmlld3MvZGV0YWlsLnRwbC5odG1sJ1xuICAgICAgfVxuICAgIH0sXG4gICAgcmVzb2x2ZToge1xuICAgICAgdHJhZWdlckRldGFpbDogWyAnJHN0YXRlUGFyYW1zJywgJ1RyYWVnZXInLCBmdW5jdGlvbigkc3RhdGVQYXJhbXMsIFRyYWVnZXIpIHtcbiAgICAgICAgcmV0dXJuIFRyYWVnZXIuZ2V0KHt9LHtpZDogJHN0YXRlUGFyYW1zLmlkfSk7XG4gICAgICB9XVxuICAgIH0sXG4gICAgZGF0YTp7IHBhZ2VUaXRsZTogJ1Ryw6RnZXInIH1cbiAgfSk7XG5cbn0pO1xuXG5KdWdlbmRzdGFkdHBsYW4uQ29udHJvbGxlcnMuY29udHJvbGxlciggJ1RyYWVnZXJEZXRhaWxDb250cm9sbGVyJywgWyAnJHNjb3BlJywgJ3RyYWVnZXJEZXRhaWwnLCBmdW5jdGlvbiBUcmFlZ2VyRGV0YWlsQ29udHJvbGxlciggJHNjb3BlLCB0cmFlZ2VyRGV0YWlsICkge1xuICAgICRzY29wZS50cmFlZ2VyID0gdHJhZWdlckRldGFpbDtcblxuICAgIGFuZ3VsYXIuZXh0ZW5kKCRzY29wZSwge1xuICAgICAgICBjZW50ZXI6IHtcbiAgICAgICAgICAgIGxhdDogNTAuNzMyODI5MjQ2NzI2LFxuICAgICAgICAgICAgbG5nOiA3LjA5MzcwMDQwOTAxMTcsXG4gICAgICAgICAgICB6b29tOiAxM1xuICAgICAgICB9LFxuICAgICAgICBkZWZhdWx0czoge1xuICAgICAgICAgICAgc2Nyb2xsV2hlZWxab29tOiBmYWxzZVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAkc2NvcGUubWFya2VycyA9IFtdO1xuXG4gICAgdHJhZWdlckRldGFpbC4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICBhbmd1bGFyLmZvckVhY2godHJhZWdlckRldGFpbC5waW5zLCBmdW5jdGlvbihpdGVtLCBrZXkpIHtcbiAgICAgICAgICAgIHZhciBtYXJrZXIgPSB7XG4gICAgICAgICAgICAgICAgbGF0OiBpdGVtLmxhdGl0dWRlLFxuICAgICAgICAgICAgICAgIGxuZzogaXRlbS5sb25naXR1ZGUsXG4gICAgICAgICAgICAgICAgdGl0bGU6IGl0ZW0udGl0ZWwsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJzxoMz4nICsgaXRlbS50aXRlbCArICc8L2gzPicgKyBpdGVtLmJlc2NocmVpYnVuZyArICc8c21hbGw+PGEgaHJlZj1cIicgKyAnLyMvcGluLycraXRlbS5pZCArICdcIj5NZWhyPC9hPjwvc21hbGw+J1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICRzY29wZS5tYXJrZXJzLnB1c2gobWFya2VyKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XSk7IiwiYW5ndWxhci5tb2R1bGUoJ2p1Z2VuZHN0YWR0cGxhbi50cmFlZ2VyJykuY29uZmlnKGZ1bmN0aW9uIGNvbmZpZyggJHN0YXRlUHJvdmlkZXIgKSB7XG5cbiAgICAkc3RhdGVQcm92aWRlci5zdGF0ZSggJ0Zvcm06IFRyYWVnZXInLCB7XG4gICAgICAgIHVybDogJy90cmFlZ2VyL2NyZWF0ZScsXG4gICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgICBcIm1haW5cIjoge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdUcmFlZ2VyRm9ybUNvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL3RyYWVnZXIvdmlld3MvZm9ybS50cGwuaHRtbCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZGF0YTp7IHBhZ2VUaXRsZTogJ1Ryw6RnZXIgZXJzdGVsbGVuJyB9XG4gICAgfSk7XG5cbn0pO1xuXG5KdWdlbmRzdGFkdHBsYW4uQ29udHJvbGxlcnMuY29udHJvbGxlciggJ1RyYWVnZXJGb3JtQ29udHJvbGxlcicsIFsgJyRzY29wZScsICckbG9jYXRpb24nLCAnVHJhZWdlcicsICdLYXRlZ29yaWUnLCAnVXBsb2FkJywgZnVuY3Rpb24gVHJhZWdlckZvcm1Db250cm9sbGVyKCAkc2NvcGUsICRsb2NhdGlvbiwgVHJhZWdlciwgS2F0ZWdvcmllLCBVcGxvYWQgKSB7XG4gICAgJHNjb3BlLmthdGVnb3JpZW4gPSBLYXRlZ29yaWUucXVlcnkoKTtcbiAgICAkc2NvcGUudHJhZWdlciA9IG5ldyBUcmFlZ2VyKCk7XG4gICAgJHNjb3BlLnRyYWVnZXJzID0gVHJhZWdlci5xdWVyeSgpO1xuXG4gICAgJHNjb3BlLm5ld1RyYWVnZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgJHNjb3BlLnRyYWVnZXIgPSBuZXcgVHJhZWdlcigpO1xuICAgICAgICAkc2NvcGUuZWRpdGluZyA9IGZhbHNlO1xuICAgIH07XG5cbiAgICAkc2NvcGUuc2F2ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoJHNjb3BlLnRyYWVnZXIuaWQpIHtcbiAgICAgICAgICAgIFRyYWVnZXIudXBkYXRlKCRzY29wZS50cmFlZ2VyKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5uZXdUcmFlZ2VyKCk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBhbGVydCgnRWluIFRyw6RnZXIgbWl0IGRpZXNlciBFbWFpbC1BZHJlc3NlIGV4aXN0aWVydCBiZXJlaXRzIScpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkc2NvcGUudHJhZWdlci4kc2F2ZSgpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUudHJhZWdlcnMucHVzaChyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgJHNjb3BlLm5ld1RyYWVnZXIoKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGFsZXJ0KCdFaW4gVHLDpGdlciBtaXQgZGllc2VyIEVtYWlsLUFkcmVzc2UgZXhpc3RpZXJ0IGJlcmVpdHMhJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAkc2NvcGUuc2V0QWN0aXZlVHJhZWdlciA9IGZ1bmN0aW9uKHRyYWVnZXIpIHtcbiAgICAgICAgJHNjb3BlLnRyYWVnZXIgPSB0cmFlZ2VyO1xuICAgICAgICAkc2NvcGUuZWRpdGluZyA9IHRydWU7XG4gICAgfTtcblxuICAgICRzY29wZS5yZW1vdmUgPSBmdW5jdGlvbih0cmFlZ2VyKSB7XG4gICAgICAgIFRyYWVnZXIuZGVsZXRlKHRyYWVnZXIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLnRyYWVnZXJzLmluZGV4T2YodHJhZWdlcik7XG4gICAgICAgICAgICBpZiAoaW5kZXggIT0gLTEpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUudHJhZWdlcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIEJpbGRlclxuICAgICRzY29wZS5vbkZpbGVTZWxlY3QgPSBmdW5jdGlvbigkZmlsZXMpIHtcbiAgICAgICAgdmFyIGRvVXBsb2FkID0gZnVuY3Rpb24oZmlsZSkge1xuICAgICAgICAgICAgVXBsb2FkLnVwbG9hZCh7XG4gICAgICAgICAgICAgICAgdXJsOiAnYXBwX2Rldi5waHAvaW1nL3VwbG9hZCcsIC8vdXBsb2FkLnBocCBzY3JpcHQsIG5vZGUuanMgcm91dGUsIG9yIHNlcnZsZXQgdXJsXG4gICAgICAgICAgICAgICAgLy8gbWV0aG9kOiAnUE9TVCcgb3IgJ1BVVCcsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgLy8gaGVhZGVyczogeydoZWFkZXIta2V5JzogJ2hlYWRlci12YWx1ZSd9LFxuICAgICAgICAgICAgICAgIC8vIHdpdGhDcmVkZW50aWFsczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBkYXRhOiB7bXlPYmo6ICRzY29wZS5teU1vZGVsT2JqfSxcbiAgICAgICAgICAgICAgICBmaWxlOiBmaWxlIC8vIG9yIGxpc3Qgb2YgZmlsZXM6ICRmaWxlcyBmb3IgaHRtbDUgb25seVxuICAgICAgICAgICAgICAgIC8vIGZpbGVOYW1lOiAnZG9jLmpwZycgb3IgWycxLmpwZycsICcyLmpwZycsIC4uLl0gLy8gdG8gbW9kaWZ5IHRoZSBuYW1lIG9mIHRoZSBmaWxlXG4gICAgICAgICAgICAgICAgLyogY3VzdG9taXplIGZpbGUgZm9ybURhdGEgbmFtZSAoJ0NvbnRlbnQtRGVzcG9zaXRpb24nKSwgc2VydmVyIHNpZGUgZmlsZSB2YXJpYWJsZSBuYW1lLlxuICAgICAgICAgICAgICAgICBEZWZhdWx0IGlzICdmaWxlJyAqL1xuICAgICAgICAgICAgICAgIC8vZmlsZUZvcm1EYXRhTmFtZTogbXlGaWxlLCAvL29yIGEgbGlzdCBvZiBuYW1lcyBmb3IgbXVsdGlwbGUgZmlsZXMgKGh0bWw1KS5cbiAgICAgICAgICAgICAgICAvKiBjdXN0b21pemUgaG93IGRhdGEgaXMgYWRkZWQgdG8gZm9ybURhdGEuIFNlZSAjNDAjaXNzdWVjb21tZW50LTI4NjEyMDAwIGZvciBzYW1wbGUgY29kZSAqL1xuICAgICAgICAgICAgICAgIC8vZm9ybURhdGFBcHBlbmRlcjogZnVuY3Rpb24oZm9ybURhdGEsIGtleSwgdmFsKXt9XG4gICAgICAgICAgICB9KS5wcm9ncmVzcyhmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3BlcmNlbnQ6ICcgKyBwYXJzZUludCgxMDAuMCAqIGV2dC5sb2FkZWQgLyBldnQudG90YWwpKTtcbiAgICAgICAgICAgIH0pLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgLy8gZmlsZSBpcyB1cGxvYWRlZCBzdWNjZXNzZnVsbHlcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnRyYWVnZXIuYmlsZGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRyYWVnZXIuYmlsZGVyID0gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbGUudG1wX25hbWUgPSBkYXRhLmZvbGRlcjtcbiAgICAgICAgICAgICAgICAkc2NvcGUudHJhZWdlci5iaWxkZXIucHVzaChmaWxlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8uZXJyb3IoLi4uKVxuICAgICAgICAgICAgLy8udGhlbihzdWNjZXNzLCBlcnJvciwgcHJvZ3Jlc3MpO1xuICAgICAgICAgICAgLy8ueGhyKGZ1bmN0aW9uKHhocil7eGhyLnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKC4uLil9KS8vIGFjY2VzcyBhbmQgYXR0YWNoIGFueSBldmVudCBsaXN0ZW5lciB0byBYTUxIdHRwUmVxdWVzdC5cbiAgICAgICAgfTtcblxuICAgICAgICAvLyRmaWxlczogYW4gYXJyYXkgb2YgZmlsZXMgc2VsZWN0ZWQsIGVhY2ggZmlsZSBoYXMgbmFtZSwgc2l6ZSwgYW5kIHR5cGUuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJGZpbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZmlsZSA9ICRmaWxlc1tpXTtcbiAgICAgICAgICAgICRzY29wZS51cGxvYWQgPSBkb1VwbG9hZChmaWxlKTtcbiAgICAgICAgfVxuICAgIH07XG5cblxuICAgIC8vIEFkcmVzc2VuXG4gICAgJHNjb3BlLm5ld0FkcmVzc2UgPSB7fTtcbiAgICAkc2NvcGUuYWRkQWRyZXNzZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoJHNjb3BlLnRyYWVnZXIuYWRyZXNzZW4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgJHNjb3BlLnRyYWVnZXIuYWRyZXNzZW4gPSBbXTtcbiAgICAgICAgfVxuICAgICAgICAkc2NvcGUudHJhZWdlci5hZHJlc3Nlbi5wdXNoKCRzY29wZS5uZXdBZHJlc3NlKTtcbiAgICAgICAgJHNjb3BlLm5ld0FkcmVzc2UgPSB7fTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmlzQWRyZXNzZVZhbGlkID0gZnVuY3Rpb24oYWRyZXNzZSkge1xuICAgICAgICBpZiAoYWRyZXNzZS5zdHJhc3NlID09PSB1bmRlZmluZWQgfHwgYWRyZXNzZS5zdHJhc3NlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKGFkcmVzc2Uub3J0ID09PSB1bmRlZmluZWQgfHwgYWRyZXNzZS5vcnQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxufV0pOyIsImFuZ3VsYXIubW9kdWxlKCdqdWdlbmRzdGFkdHBsYW4udHJhZWdlcicpLmNvbmZpZyhmdW5jdGlvbiBjb25maWcoICRzdGF0ZVByb3ZpZGVyICkge1xuXG4gICAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoICdMb2dpbjogVHJhZWdlcicsIHtcbiAgICAgICAgdXJsOiAnL3RyYWVnZXIvbG9naW4nLFxuICAgICAgICB2aWV3czoge1xuICAgICAgICAgICAgXCJtYWluXCI6IHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnVHJhZWdlckxvZ2luQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvdHJhZWdlci92aWV3cy9sb2dpbi50cGwuaHRtbCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZGF0YTp7IHBhZ2VUaXRsZTogJ0VpbmxvZ2dlbicgfVxuICAgIH0pO1xuXG59KTtcblxuSnVnZW5kc3RhZHRwbGFuLkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoICdUcmFlZ2VyTG9naW5Db250cm9sbGVyJywgWyAnJHNjb3BlJywgJyRzdGF0ZScsICckd2luZG93JywgJ0xvZ2luU2VydmljZScsICdUcmFlZ2VyJywgZnVuY3Rpb24gVHJhZWdlckxvZ2luQ29udHJvbGxlciggJHNjb3BlLCAkc3RhdGUsICR3aW5kb3csIExvZ2luU2VydmljZSwgVHJhZWdlcikge1xuXG4gICAgJHNjb3BlLnRyYWVnZXIgPSBuZXcgVHJhZWdlcigpO1xuXG4gICAgJHNjb3BlLmxvZ2luID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICRzY29wZS50cmFlZ2VyLiRsb2dpbigpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLnRva2VuID0gcmVzcG9uc2UudG9rZW47XG4gICAgICAgICAgICAgICAgTG9naW5TZXJ2aWNlLnNldExvZ2dlZEluKHRydWUpO1xuXG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdTdGFydHNlaXRlJyk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgICAgICAgICRzY29wZS5lcnJvciA9IHtcbiAgICAgICAgICAgICAgICAgICAgbXNnOiAnQXV0aGVudGlmaXppZXJ1bmcgZmVobGdlc2NobGFnZW4hJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH07XG59XSk7XG4iLCJKdWdlbmRzdGFkdHBsYW4uQ29udHJvbGxlcnMuY29udHJvbGxlciggJ1Rlcm1pbkZvcm1Db250cm9sbGVyJywgWyAnJHNjb3BlJyxcbiAgICBmdW5jdGlvbigkc2NvcGUpIHtcblxuICAgICAgICAvLyBXb2NoZW50YWdlXG4gICAgICAgICRzY29wZS53b2NoZW50YWdlID0gWyAnTW9udGFnJywgJ0RpZW5zdGFnJywgJ01pdHR3b2NoJywgJ0Rvbm5lcnN0YWcnLCAnRnJlaXRhZycsICdTYW1zdGFnJywgJ1Nvbm50YWcnIF07XG5cblxuICAgICAgICAvLyBUZXJtaW5cbiAgICAgICAgJHNjb3BlLm5ld1Rlcm1pbiA9IHt9O1xuICAgICAgICAkc2NvcGUuYWRkVGVybWluID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoJHNjb3BlLnBpbi50ZXJtaW5lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUucGluLnRlcm1pbmUgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRzY29wZS5waW4udGVybWluZS5wdXNoKCRzY29wZS5uZXdUZXJtaW4pO1xuICAgICAgICAgICAgJHNjb3BlLm5ld1Rlcm1pbiA9IHt9O1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5pc1Rlcm1pblZhbGlkID0gZnVuY3Rpb24odGVybWluKSB7XG4gICAgICAgICAgICBpZiAodGVybWluLmJlZ2lubiA9PT0gdW5kZWZpbmVkIHx8IHRlcm1pbi5iZWdpbm4gPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRlcm1pbi5nYW56dGFlZ2lnICE9PSB0cnVlICYmICh0ZXJtaW4uYmVnaW5uX3VocnplaXQgPT09IHVuZGVmaW5lZCB8fCB0ZXJtaW4uYmVnaW5uX3VocnplaXQgPT09IDApKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG5cblxuICAgICAgICAvLyBXaWVkZXJob2x1bmdcbiAgICAgICAgJHNjb3BlLndvY2hlX2Rlc19tb25hdHMgPSBbXG4gICAgICAgICAgICB7IGlkOiAwLCBsYWJlbDogJ0plZGUgV29jaGUnIH0sXG4gICAgICAgICAgICB7IGlkOiAxLCBsYWJlbDogJ0plZGUgMS4gV29jaGUnIH0sXG4gICAgICAgICAgICB7IGlkOiAyLCBsYWJlbDogJ0plZGUgMi4gV29jaGUnIH0sXG4gICAgICAgICAgICB7IGlkOiAzLCBsYWJlbDogJ0plZGUgMy4gV29jaGUnIH0sXG4gICAgICAgICAgICB7IGlkOiA0LCBsYWJlbDogJ0plZGUgNC4gV29jaGUnIH0sXG4gICAgICAgICAgICB7IGlkOiA1LCBsYWJlbDogJ0plZGUgNS4gV29jaGUnIH1cbiAgICAgICAgXTtcbiAgICAgICAgJHNjb3BlLm5ld1dpZWRlcmhvbHVuZyA9IHt9O1xuICAgICAgICAkc2NvcGUuYWRkV2llZGVyaG9sdW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoJHNjb3BlLm5ld1Rlcm1pbi53aWVkZXJob2x1bmdlbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLm5ld1Rlcm1pbi53aWVkZXJob2x1bmdlbiA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHNjb3BlLm5ld1Rlcm1pbi53aWVkZXJob2x1bmdlbi5wdXNoKCRzY29wZS5uZXdXaWVkZXJob2x1bmcpO1xuICAgICAgICAgICAgJHNjb3BlLm5ld1dpZWRlcmhvbHVuZyA9IHt9O1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5pc1dpZWRlcmhvbHVuZ1ZhbGlkID0gZnVuY3Rpb24od2llZGVyaG9sdW5nKSB7XG4gICAgICAgICAgICBpZiAod2llZGVyaG9sdW5nLndvY2hlbnRhZyA9PT0gdW5kZWZpbmVkIHx8IHdpZWRlcmhvbHVuZy53b2NoZW50YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfTtcblxuICAgIH1dKTsiLCJhbmd1bGFyLm1vZHVsZSgnanVnZW5kc3RhZHRwbGFuLnN0YXJ0c2VpdGUnKS5jb25maWcoZnVuY3Rpb24gY29uZmlnKCAkc3RhdGVQcm92aWRlciApIHtcbiAgXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCAnU3RhcnRzZWl0ZScsIHtcbiAgICB1cmw6ICcvc3RhcnRzZWl0ZScsXG4gICAgdmlld3M6IHtcbiAgICAgIFwibWFpblwiOiB7XG4gICAgICAgIGNvbnRyb2xsZXI6ICdTdGFydHNlaXRlQ29udHJvbGxlcicsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL3N0YXJ0c2VpdGUvdmlld3Mvc3RhcnRzZWl0ZS50cGwuaHRtbCdcbiAgICAgIH1cbiAgICB9LFxuICAgIGRhdGE6eyBwYWdlVGl0bGU6ICdTdGFydHNlaXRlJyB9XG4gIH0pO1xuXG59KTtcblxuYW5ndWxhci5tb2R1bGUoJ2p1Z2VuZHN0YWR0cGxhbi5zdGFydHNlaXRlJykuY29udHJvbGxlciggJ1N0YXJ0c2VpdGVDb250cm9sbGVyJywgWyAnJHNjb3BlJywgJyRsb2NhdGlvbicsICdQaW4nLCBmdW5jdGlvbiBTdGFydHNlaXRlQ29udHJvbGxlciggJHNjb3BlLCAkbG9jYXRpb24sIFBpbiApIHtcbiAgICAgYW5ndWxhci5leHRlbmQoJHNjb3BlLCB7XG4gICAgICAgIGNlbnRlcjoge1xuICAgICAgICAgICAgbGF0OiA1MC43MzI4MjkyNDY3MjYsXG4gICAgICAgICAgICBsbmc6IDcuMDkzNzAwNDA5MDExNyxcbiAgICAgICAgICAgIHpvb206IDEzXG4gICAgICAgIH0sXG4gICAgICAgIGRlZmF1bHRzOiB7XG4gICAgICAgICAgICBzY3JvbGxXaGVlbFpvb206IGZhbHNlXG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgICRzY29wZS5tYXJrZXJzID0gW107XG5cbiAgICBQaW4ucXVlcnkoZnVuY3Rpb24ocGlucykge1xuICAgICAgICBhbmd1bGFyLmZvckVhY2gocGlucywgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgaWYgKGl0ZW0ubG9uZ2l0dWRlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWFya2VyID0ge1xuICAgICAgICAgICAgICAgICAgICBsYXQ6IGl0ZW0ubGF0aXR1ZGUsXG4gICAgICAgICAgICAgICAgICAgIGxuZzogaXRlbS5sb25naXR1ZGUsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBpdGVtLnRpdGVsLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnPGgzPicgKyBpdGVtLnRpdGVsICsgJzwvaDM+JyArIGl0ZW0uYmVzY2hyZWlidW5nICsgJzxzbWFsbD48YSBocmVmPVwiJyArICcvIy9waW4vJyArIGl0ZW0uaWQgKyAnXCI+TWVocjwvYT48L3NtYWxsPidcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzLnB1c2gobWFya2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbn1dKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
