var jugendstadtplanLogin=angular.module("jugendstadtplan.login",[]);jugendstadtplanLogin.service("LoginService",function(){var e=!1,t=null;return{isLoggedIn:function(){return e},setLoggedIn:function(t){e=t},setJugendstadtplanUser:function(e){t=e},getJugendstadtplanUser:function(){return t}}}),angular.module("jugendstadtplan.ansprechpartner",[]),angular.module("jugendstadtplan.traeger",["ui.router","jugendstadtplan.login","jugendstadtplan.links","jugendstadtplan.ansprechpartner"]),angular.module("jugendstadtplan.startseite",["ui.router","leaflet-directive"]),angular.module("jugendstadtplan.links",[]),angular.module("jugendstadtplan.termin",[]),angular.module("jugendstadtplan.pins",["ui.router","jugendstadtplan.links","jugendstadtplan.ansprechpartner","jugendstadtplan.termin"]);var Jugendstadtplan=Jugendstadtplan||{};Jugendstadtplan.Controllers=angular.module("jugendstadtplan.controllers",[]),angular.module("jugendstadtplan",["ngResource","ngSanitize","ui.router","leaflet-directive","textAngular","ngFileUpload","angular-jwt","jugendstadtplan.templates","jugendstadtplan.login","jugendstadtplan.api","jugendstadtplan.startseite","jugendstadtplan.pins","jugendstadtplan.traeger","jugendstadtplan.controllers"]).config(["$stateProvider","$urlRouterProvider",function(e,t){t.otherwise("/startseite")}]).run(function(){}).controller("AppCtrl",["$scope","LoginService",function(e,t){e.$on("$stateChangeSuccess",function(t,n,r,a,i){angular.isDefined(n.data.pageTitle)&&(e.pageTitle=n.data.pageTitle+" | Jugendstadtplan")}),e.isLoggedIn=function(){return t.isLoggedIn()},e.getJugendstadtplanUser=function(){return t.getJugendstadtplanUser()}}]);var jugendstadtplanApi=angular.module("jugendstadtplan.api",["ngResource","angular-jwt"]);jugendstadtplanApi.config(["$httpProvider","jwtInterceptorProvider",function(e,t){t.tokenGetter=["config",function(e){return".html"==e.url.substr(e.url.length-5)?null:localStorage.getItem("jspToken")}],e.interceptors.push("jwtInterceptor")}]);var backendPrefix="http://api.jugendstadtplan.dev/app_dev.php";jugendstadtplanApi.provider("Pin",function(){this.$get=["$resource",function(e){var t=backendPrefix+"/pins";return e(t,{},{get:{method:"GET",url:t+"/:id",params:{id:"@id"},skipAuthorization:!0},update:{method:"PUT",url:t+"/update/:id",params:{id:"@id"}},save:{method:"POST",url:t+"/create"},"delete":{method:"DELETE",url:t+"/delete/:id",params:{id:"@id"}}})}]}),jugendstadtplanApi.provider("Traeger",function(){this.$get=["$resource",function(e){var t=backendPrefix+"/traeger";return e(t,{},{get:{method:"GET",url:t+"/:id",params:{id:"@id"},skipAuthorization:!0},update:{method:"PUT",url:t+"/update/:id",params:{id:"@id"}},save:{method:"POST",url:t+"/create",skipAuthorization:!0},"delete":{method:"DELETE",url:t+"/delete/:id",params:{id:"@id"}},login:{method:"POST",skipAuthorization:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},url:backendPrefix+"/authentication/traeger_check",transformRequest:function(e,t){var n=[];for(var r in e)n.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return n.join("&")}}})}]}),jugendstadtplanApi.provider("Kategorie",function(){this.$get=["$resource",function(e){var t=backendPrefix+"/kategorie";return e(t)}]}),angular.module("plusOne",[]).directive("plusOne",function(){return{link:function(e,t,n){gapi.plusone.render(t[0],{size:"medium",href:"http://bit.ly/ngBoilerplate"})}}}),Jugendstadtplan.Controllers.controller("AnsprechpartnerFormController",["$scope",function(e){e.newAnsprechpartner={},e.addAnsprechpartner=function(){void 0===e.model.ansprechpartner&&(e.model.ansprechpartner=[]),e.model.ansprechpartner.push(e.newAnsprechpartner),e.newAnsprechpartner={}},e.isAnsprechpartnerValid=function(e){return void 0===e.name||0===e.name.length?!1:void 0!==e.email&&0!==e.email.length}}]),angular.module("jugendstadtplan.traeger").config(["$stateProvider",function(e){e.state("Liste: Traeger",{url:"/traeger",views:{main:{controller:"TraegerController",templateUrl:"app/traeger/views/liste.tpl.html"}},data:{pageTitle:"Träger"}})}]),Jugendstadtplan.Controllers.controller("TraegerController",["$scope","$location","Traeger",function(e,t,n){e.traeger=n.query(),e.viewTraeger=function(e){t.path("/traeger/"+e.id)}}]),angular.module("jugendstadtplan.traeger").config(["$stateProvider",function(e){e.state("Detail: Traeger",{url:"/traeger/{id:[0-9]+}",views:{main:{controller:"TraegerDetailController",templateUrl:"app/traeger/views/detail.tpl.html"}},resolve:{traegerDetail:["$stateParams","Traeger",function(e,t){return t.get({},{id:e.id})}]},data:{pageTitle:"Träger"}})}]),Jugendstadtplan.Controllers.controller("TraegerDetailController",["$scope","traegerDetail",function(e,t){e.traeger=t,angular.extend(e,{center:{lat:50.732829246726,lng:7.0937004090117,zoom:13},defaults:{scrollWheelZoom:!1}}),e.markers=[],t.$promise.then(function(){angular.forEach(t.pins,function(t,n){var r={lat:t.latitude,lng:t.longitude,title:t.titel,message:"<h3>"+t.titel+"</h3>"+t.beschreibung+'<small><a href="/#/pin/'+t.id+'">Mehr</a></small>'};e.markers.push(r)})})}]),angular.module("jugendstadtplan.traeger").config(["$stateProvider",function(e){e.state("Form: Traeger",{url:"/traeger/create",views:{main:{controller:"TraegerFormController",templateUrl:"app/traeger/views/form.tpl.html"}},data:{pageTitle:"Träger erstellen"}})}]),Jugendstadtplan.Controllers.controller("TraegerFormController",["$scope","$location","Traeger","Kategorie","Upload",function(e,t,n,r,a){e.kategorien=r.query(),e.traeger=new n,e.traegers=n.query(),e.newTraeger=function(){e.traeger=new n,e.editing=!1},e.save=function(){e.traeger.id?n.update(e.traeger).then(function(){e.newTraeger()},function(){alert("Ein Träger mit dieser Email-Adresse existiert bereits!")}):e.traeger.$save().then(function(t){e.traegers.push(t),e.newTraeger()},function(){alert("Ein Träger mit dieser Email-Adresse existiert bereits!")})},e.setActiveTraeger=function(t){e.traeger=t,e.editing=!0},e.remove=function(t){n["delete"](t,function(){var n=e.traegers.indexOf(t);-1!=n&&e.traegers.splice(n,1)})},e.onFileSelect=function(t){for(var n=function(t){a.upload({url:"app_dev.php/img/upload",method:"POST",data:{myObj:e.myModelObj},file:t}).progress(function(e){console.log("percent: "+parseInt(100*e.loaded/e.total))}).success(function(n,r,a,i){void 0===e.traeger.bilder&&(e.traeger.bilder=[]),t.tmp_name=n.folder,e.traeger.bilder.push(t)})},r=0;r<t.length;r++){var i=t[r];e.upload=n(i)}},e.newAdresse={},e.addAdresse=function(){void 0===e.traeger.adressen&&(e.traeger.adressen=[]),e.traeger.adressen.push(e.newAdresse),e.newAdresse={}},e.isAdresseValid=function(e){return void 0===e.strasse||0===e.strasse.length?!1:void 0!==e.ort&&0!==e.ort.length}}]),angular.module("jugendstadtplan.traeger").config(["$stateProvider",function(e){e.state("Login: Traeger",{url:"/traeger/login",views:{main:{controller:"TraegerLoginController",templateUrl:"app/traeger/views/login.tpl.html"}},data:{pageTitle:"Einloggen"}})}]),Jugendstadtplan.Controllers.controller("TraegerLoginController",["$scope","$state","$window","LoginService","jwtHelper","Traeger",function(e,t,n,r,a,i){e.traeger=new i,e.login=function(){e.traeger.$login().then(function(e){n.localStorage.jspToken=e.token;var i=a.decodeToken(e.token);r.setLoggedIn(!0),r.setJugendstadtplanUser(i.traeger),t.go("Startseite")},function(t){e.error={msg:"Authentifizierung fehlgeschlagen!"}})}}]),angular.module("jugendstadtplan.startseite").config(["$stateProvider",function(e){e.state("Startseite",{url:"/startseite",views:{main:{controller:"StartseiteController",templateUrl:"app/startseite/views/startseite.tpl.html"}},data:{pageTitle:"Startseite"}})}]),angular.module("jugendstadtplan.startseite").controller("StartseiteController",["$scope","$location","Pin",function(e,t,n){angular.extend(e,{center:{lat:50.732829246726,lng:7.0937004090117,zoom:13},defaults:{scrollWheelZoom:!1}}),e.markers=[],n.query(function(t){angular.forEach(t,function(t){if(null!=t.longitude){var n={lat:t.latitude,lng:t.longitude,title:t.titel,message:"<h3>"+t.titel+"</h3>"+t.beschreibung+'<small><a href="/#/pin/'+t.id+'">Mehr</a></small>'};e.markers.push(n)}})})}]),Jugendstadtplan.Controllers.controller("LinksFormController",["$scope",function(e){e.newLink={},e.addLink=function(){void 0===e.model.links&&(e.model.links=[]),e.model.links.push(e.newLink),e.newLink={}},e.isLinkValid=function(e){return void 0===e.titel||0===e.titel.length?!1:void 0!==e.url&&0!==e.url.length}}]),Jugendstadtplan.Controllers.controller("TerminFormController",["$scope",function(e){e.wochentage=["Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"],e.newTermin={},e.addTermin=function(){void 0===e.pin.termine&&(e.pin.termine=[]),e.pin.termine.push(e.newTermin),e.newTermin={}},e.isTerminValid=function(e){return void 0===e.beginn||0===e.beginn?!1:e.ganztaegig===!0||void 0!==e.beginn_uhrzeit&&0!==e.beginn_uhrzeit},e.woche_des_monats=[{id:0,label:"Jede Woche"},{id:1,label:"Jede 1. Woche"},{id:2,label:"Jede 2. Woche"},{id:3,label:"Jede 3. Woche"},{id:4,label:"Jede 4. Woche"},{id:5,label:"Jede 5. Woche"}],e.newWiederholung={},e.addWiederholung=function(){void 0===e.newTermin.wiederholungen&&(e.newTermin.wiederholungen=[]),e.newTermin.wiederholungen.push(e.newWiederholung),e.newWiederholung={}},e.isWiederholungValid=function(e){return void 0!==e.wochentag&&0!==e.wochentag}}]),angular.module("jugendstadtplan.pins").config(["$stateProvider",function(e){e.state("Detail: Pin",{url:"/pin/{id:[0-9]+}",views:{main:{controller:"PinDetailController",templateUrl:"app/pins/views/detail.tpl.html"}},resolve:{pinDetail:["$stateParams","Pin",function(e,t){return t.get({},{id:e.id})}]},data:{pageTitle:"Pin"}})}]),Jugendstadtplan.Controllers.controller("PinDetailController",["$scope","pinDetail",function(e,t){e.markers=[],e.center={lat:50.732829246726,lng:7.0937004090117,zoom:13},t.$promise.then(function(){e.pin=t,angular.extend(e,{defaults:{scrollWheelZoom:!1}}),e.center={lat:t.latitude,lng:t.longitude,zoom:15};var n={lat:t.latitude,lng:t.longitude,title:t.titel,focus:!0,message:"<h3>"+t.titel+"</h3>"+t.beschreibung};e.markers.push(n)},function(){angular.extend(e,{defaults:{scrollWheelZoom:!1}})})}]),angular.module("jugendstadtplan.pins").config(["$stateProvider",function(e){e.state("Form: Pin",{url:"/pin/create",views:{main:{controller:"PinFormController",templateUrl:"app/pins/views/form.tpl.html"}},data:{pageTitle:"Pin erstellen"}})}]),Jugendstadtplan.Controllers.controller("PinFormController",["$scope","$location","Pin","Traeger","Kategorie",function(e,t,n,r,a){e.kategorien=a.query(),e.pin=new n,e.pins=n.query(),e.traegers=r.query(),angular.extend(e,{center:{lat:50.732829246726,lng:7.0937004090117,zoom:13},defaults:{scrollWheelZoom:!1},events:{}}),e.pin.markers=[],e.$on("leafletDirectiveMap.click",function(t,n){var r=n.leafletEvent;e.pin.markers[0]={lat:r.latlng.lat,lng:r.latlng.lng,draggable:!0,focus:!0}}),e.newPin=function(){e.pin=new n,e.pin.markers=[],e.editing=!1},e.save=function(){e.pin.id?n.update(e.pin):e.pin.$save().then(function(t){e.pins.push(t)}),e.newPin()},e.setActivePin=function(t){e.pin=t,e.pin.markers=[],null!=t.longitude&&(e.pin.markers[0]={lat:t.latitude,lng:t.longitude,draggable:!0,focus:!0}),e.editing=!0},e.remove=function(t){n["delete"](t,function(){var n=e.pins.indexOf(t);-1!=n&&e.pins.splice(n,1)})},e.barrierefreiheitsgrade=["Gut","Teilweise","Nicht barrierefrei"],e.kostenarten=["Kostenlos","Kostenpflichtig"],e.mindestalters=["ab 12","ab 16","ab 18","ab 21"]}]),angular.module("jugendstadtplan.pins").config(["$stateProvider",function(e){e.state("Liste: Pin",{url:"/pins",views:{main:{controller:"PinsController",templateUrl:"app/pins/views/list.tpl.html"}},data:{pageTitle:"Pins"}})}]),Jugendstadtplan.Controllers.controller("PinsController",["$scope","$location","Pin",function(e,t,n){e.pins=n.query(),e.viewPin=function(e){t.path("/pin/"+e.id)}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi9yZXNvdXJjZXMvTG9naW5TZXJ2aWNlLmpzIiwiYXBwL2Fuc3ByZWNocGFydG5lci9BbnNwcmVjaHBhcnRuZXJNb2R1bGUuanMiLCJhcHAvdHJhZWdlci9UcmFlZ2VyTW9kdWxlLmpzIiwiYXBwL3N0YXJ0c2VpdGUvU3RhcnRzZWl0ZU1vZHVsZS5qcyIsImFwcC9saW5rcy9MaW5rc01vZHVsZS5qcyIsImFwcC90ZXJtaW4vVGVybWluTW9kdWxlLmpzIiwiYXBwL3BpbnMvUGluc01vZHVsZS5qcyIsImFwcC9hcHAuanMiLCJjb21tb24vcmVzb3VyY2VzL0p1Z2VuZHN0YWR0cGxhbkFwaS5qcyIsImNvbW1vbi9wbHVzT25lL3BsdXNPbmUuanMiLCJhcHAvYW5zcHJlY2hwYXJ0bmVyL0Fuc3ByZWNocGFydG5lckZvcm1Db250cm9sbGVyLmpzIiwiYXBwL3RyYWVnZXIvVHJhZWdlckNvbnRyb2xsZXIuanMiLCJhcHAvdHJhZWdlci9UcmFlZ2VyRGV0YWlsQ29udHJvbGxlci5qcyIsImFwcC90cmFlZ2VyL1RyYWVnZXJGb3JtQ29udHJvbGxlci5qcyIsImFwcC90cmFlZ2VyL1RyYWVnZXJMb2dpbkNvbnRyb2xsZXIuanMiLCJhcHAvc3RhcnRzZWl0ZS9TdGFydHNlaXRlQ29udHJvbGxlci5qcyIsImFwcC9saW5rcy9MaW5rc0Zvcm1Db250cm9sbGVyLmpzIiwiYXBwL3Rlcm1pbi9UZXJtaW5Gb3JtQ29udHJvbGxlci5qcyIsImFwcC9waW5zL1BpbkRldGFpbENvbnRyb2xsZXIuanMiLCJhcHAvcGlucy9QaW5Gb3JtQ29udHJvbGxlci5qcyIsImFwcC9waW5zL1BpbnNDb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbImp1Z2VuZHN0YWR0cGxhbkxvZ2luIiwiYW5ndWxhciIsIm1vZHVsZSIsInNlcnZpY2UiLCJhdXRoZW50aWNhdGVkIiwidHJhZWdlciIsImlzTG9nZ2VkSW4iLCJzZXRMb2dnZWRJbiIsImxvZ2dlZEluIiwic2V0SnVnZW5kc3RhZHRwbGFuVXNlciIsInVzZXIiLCJnZXRKdWdlbmRzdGFkdHBsYW5Vc2VyIiwiSnVnZW5kc3RhZHRwbGFuIiwiQ29udHJvbGxlcnMiLCJjb25maWciLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIm90aGVyd2lzZSIsInJ1biIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCJMb2dpblNlcnZpY2UiLCIkb24iLCJldmVudCIsInRvU3RhdGUiLCJ0b1BhcmFtcyIsImZyb21TdGF0ZSIsImZyb21QYXJhbXMiLCJpc0RlZmluZWQiLCJkYXRhIiwicGFnZVRpdGxlIiwianVnZW5kc3RhZHRwbGFuQXBpIiwiJGh0dHBQcm92aWRlciIsImp3dEludGVyY2VwdG9yUHJvdmlkZXIiLCJ0b2tlbkdldHRlciIsInVybCIsInN1YnN0ciIsImxlbmd0aCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJpbnRlcmNlcHRvcnMiLCJwdXNoIiwiYmFja2VuZFByZWZpeCIsInByb3ZpZGVyIiwidGhpcyIsIiRnZXQiLCIkcmVzb3VyY2UiLCJiYWNrZW5kVXJsIiwiZ2V0IiwibWV0aG9kIiwicGFyYW1zIiwiaWQiLCJza2lwQXV0aG9yaXphdGlvbiIsInVwZGF0ZSIsInNhdmUiLCJkZWxldGUiLCJsb2dpbiIsImhlYWRlcnMiLCJDb250ZW50LVR5cGUiLCJ0cmFuc2Zvcm1SZXF1ZXN0IiwiaGVhZGVyc0dldHRlciIsInN0ciIsImQiLCJlbmNvZGVVUklDb21wb25lbnQiLCJqb2luIiwiZGlyZWN0aXZlIiwibGluayIsInNjb3BlIiwiZWxlbWVudCIsImF0dHJzIiwiZ2FwaSIsInBsdXNvbmUiLCJyZW5kZXIiLCJzaXplIiwiaHJlZiIsIm5ld0Fuc3ByZWNocGFydG5lciIsImFkZEFuc3ByZWNocGFydG5lciIsInVuZGVmaW5lZCIsIm1vZGVsIiwiYW5zcHJlY2hwYXJ0bmVyIiwiaXNBbnNwcmVjaHBhcnRuZXJWYWxpZCIsIm5hbWUiLCJlbWFpbCIsInN0YXRlIiwidmlld3MiLCJtYWluIiwidGVtcGxhdGVVcmwiLCIkbG9jYXRpb24iLCJUcmFlZ2VyIiwicXVlcnkiLCJ2aWV3VHJhZWdlciIsInBhdGgiLCJyZXNvbHZlIiwidHJhZWdlckRldGFpbCIsIiRzdGF0ZVBhcmFtcyIsImV4dGVuZCIsImNlbnRlciIsImxhdCIsImxuZyIsInpvb20iLCJkZWZhdWx0cyIsInNjcm9sbFdoZWVsWm9vbSIsIm1hcmtlcnMiLCIkcHJvbWlzZSIsInRoZW4iLCJmb3JFYWNoIiwicGlucyIsIml0ZW0iLCJrZXkiLCJtYXJrZXIiLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsInRpdGxlIiwidGl0ZWwiLCJtZXNzYWdlIiwiYmVzY2hyZWlidW5nIiwiS2F0ZWdvcmllIiwiVXBsb2FkIiwia2F0ZWdvcmllbiIsInRyYWVnZXJzIiwibmV3VHJhZWdlciIsImVkaXRpbmciLCJhbGVydCIsIiRzYXZlIiwicmVzcG9uc2UiLCJzZXRBY3RpdmVUcmFlZ2VyIiwicmVtb3ZlIiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwib25GaWxlU2VsZWN0IiwiJGZpbGVzIiwiZG9VcGxvYWQiLCJmaWxlIiwidXBsb2FkIiwibXlPYmoiLCJteU1vZGVsT2JqIiwicHJvZ3Jlc3MiLCJldnQiLCJjb25zb2xlIiwibG9nIiwicGFyc2VJbnQiLCJsb2FkZWQiLCJ0b3RhbCIsInN1Y2Nlc3MiLCJzdGF0dXMiLCJiaWxkZXIiLCJ0bXBfbmFtZSIsImZvbGRlciIsImkiLCJuZXdBZHJlc3NlIiwiYWRkQWRyZXNzZSIsImFkcmVzc2VuIiwiaXNBZHJlc3NlVmFsaWQiLCJhZHJlc3NlIiwic3RyYXNzZSIsIm9ydCIsIiRzdGF0ZSIsIiR3aW5kb3ciLCJqd3RIZWxwZXIiLCIkbG9naW4iLCJqc3BUb2tlbiIsInRva2VuIiwiZGVjb2RlZCIsImRlY29kZVRva2VuIiwiZ28iLCJlcnJvciIsIm1zZyIsIlBpbiIsIm5ld0xpbmsiLCJhZGRMaW5rIiwibGlua3MiLCJpc0xpbmtWYWxpZCIsIndvY2hlbnRhZ2UiLCJuZXdUZXJtaW4iLCJhZGRUZXJtaW4iLCJwaW4iLCJ0ZXJtaW5lIiwiaXNUZXJtaW5WYWxpZCIsInRlcm1pbiIsImJlZ2lubiIsImdhbnp0YWVnaWciLCJiZWdpbm5fdWhyemVpdCIsIndvY2hlX2Rlc19tb25hdHMiLCJsYWJlbCIsIm5ld1dpZWRlcmhvbHVuZyIsImFkZFdpZWRlcmhvbHVuZyIsIndpZWRlcmhvbHVuZ2VuIiwiaXNXaWVkZXJob2x1bmdWYWxpZCIsIndpZWRlcmhvbHVuZyIsIndvY2hlbnRhZyIsInBpbkRldGFpbCIsImZvY3VzIiwiZXZlbnRzIiwiYXJncyIsImxlYWZFdmVudCIsImxlYWZsZXRFdmVudCIsImxhdGxuZyIsImRyYWdnYWJsZSIsIm5ld1BpbiIsInNldEFjdGl2ZVBpbiIsImJhcnJpZXJlZnJlaWhlaXRzZ3JhZGUiLCJrb3N0ZW5hcnRlbiIsIm1pbmRlc3RhbHRlcnMiLCJ2aWV3UGluIl0sIm1hcHBpbmdzIjoiQUFBQSxHQUFBQSxzQkFBQUMsUUFBQUMsT0FBQSwyQkFFQUYsc0JBQUFHLFFBQUEsZUFBQSxXQUNBLEdBQUFDLElBQUEsRUFDQUMsRUFBQSxJQUVBLFFBQ0FDLFdBQUEsV0FDQSxNQUFBRixJQUdBRyxZQUFBLFNBQUFDLEdBQ0FKLEVBQUFJLEdBR0FDLHVCQUFBLFNBQUFDLEdBQ0FMLEVBQUFLLEdBR0FDLHVCQUFBLFdBQ0EsTUFBQU4sT0NwQkFKLFFBQUFDLE9BQUEsc0NDQUFELFFBQUFDLE9BQUEsMkJBQ0EsWUFDQSx3QkFDQSx3QkFDQSxvQ0NKQUQsUUFBQUMsT0FBQSw4QkFDQSxZQUNBLHNCQ0ZBRCxRQUFBQyxPQUFBLDRCQ0FBRCxRQUFBQyxPQUFBLDZCQ0FBRCxRQUFBQyxPQUFBLHdCQUNBLFlBQ0Esd0JBQ0Esa0NBQ0EsMEJDSkEsSUFBQVUsaUJBQUFBLG1CQUNBQSxpQkFBQUMsWUFBQVosUUFBQUMsT0FBQSxrQ0FFQUQsUUFBQUMsT0FBQSxtQkFDQSxhQUNBLGFBQ0EsWUFDQSxvQkFDQSxjQUNBLGVBQ0EsY0FDQSw0QkFDQSx3QkFDQSxzQkFDQSw2QkFDQSx1QkFDQSwwQkFDQSxnQ0FHQVksUUFBQSxpQkFB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LHNCQUlBckwsRUFBQXNMLGFBQUEsWUFBQSxtQkFJQXRMLEVBQUF1TCxlQUFBLFFBQUEsUUFBQSxRQUFBLFlDL0ZBMU0sUUFBQUMsT0FBQSx3QkFBQVksUUFBQSxpQkFBQSxTQUFBQyxHQUVBQSxFQUFBb0UsTUFBQSxjQUNBaEQsSUFBQSxRQUNBaUQsT0FDQUMsTUFDQWxFLFdBQUEsaUJBQ0FtRSxZQUFBLGlDQUdBekQsTUFBQUMsVUFBQSxhQUtBbEIsZ0JBQUFDLFlBQUFNLFdBQUEsa0JBQUEsU0FBQSxZQUFBLE1BQUEsU0FBQUMsRUFBQW1FLEVBQUFpRixHQUNBcEosRUFBQXNGLEtBQUE4RCxFQUFBL0UsUUFFQXJFLEVBQUF3TCxRQUFBLFNBQUE1QixHQUNBekYsRUFBQUksS0FBQSxRQUFBcUYsRUFBQTdIIiwiZmlsZSI6Imp1Z2VuZHN0YWR0cGxhbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIganVnZW5kc3RhZHRwbGFuTG9naW4gPSBhbmd1bGFyLm1vZHVsZSgnanVnZW5kc3RhZHRwbGFuLmxvZ2luJywgW10pO1xuXG5qdWdlbmRzdGFkdHBsYW5Mb2dpbi5zZXJ2aWNlKCdMb2dpblNlcnZpY2UnLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXV0aGVudGljYXRlZCA9IGZhbHNlO1xuICAgIHZhciB0cmFlZ2VyID0gbnVsbDtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGlzTG9nZ2VkSW46IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBhdXRoZW50aWNhdGVkO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldExvZ2dlZEluOiBmdW5jdGlvbiAobG9nZ2VkSW4pIHtcbiAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQgPSBsb2dnZWRJbjtcbiAgICAgICAgfSxcblxuICAgICAgICBzZXRKdWdlbmRzdGFkdHBsYW5Vc2VyOiBmdW5jdGlvbih1c2VyKSB7XG4gICAgICAgICAgICB0cmFlZ2VyID0gdXNlcjtcbiAgICAgICAgfSxcblxuICAgICAgICBnZXRKdWdlbmRzdGFkdHBsYW5Vc2VyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0cmFlZ2VyO1xuICAgICAgICB9XG4gICAgfVxufSk7IiwiYW5ndWxhci5tb2R1bGUoICdqdWdlbmRzdGFkdHBsYW4uYW5zcHJlY2hwYXJ0bmVyJywgW1xuXSk7IiwiYW5ndWxhci5tb2R1bGUoICdqdWdlbmRzdGFkdHBsYW4udHJhZWdlcicsIFtcbiAgJ3VpLnJvdXRlcicsXG4gICdqdWdlbmRzdGFkdHBsYW4ubG9naW4nLFxuICAnanVnZW5kc3RhZHRwbGFuLmxpbmtzJyxcbiAgJ2p1Z2VuZHN0YWR0cGxhbi5hbnNwcmVjaHBhcnRuZXInXG5dKTsiLCJhbmd1bGFyLm1vZHVsZSggJ2p1Z2VuZHN0YWR0cGxhbi5zdGFydHNlaXRlJywgW1xuICAndWkucm91dGVyJyxcbiAgJ2xlYWZsZXQtZGlyZWN0aXZlJ1xuXSk7IiwiYW5ndWxhci5tb2R1bGUoICdqdWdlbmRzdGFkdHBsYW4ubGlua3MnLCBbXG5dKTsiLCJhbmd1bGFyLm1vZHVsZSggJ2p1Z2VuZHN0YWR0cGxhbi50ZXJtaW4nLCBbXG5dKTsiLCJhbmd1bGFyLm1vZHVsZSggJ2p1Z2VuZHN0YWR0cGxhbi5waW5zJywgW1xuICAndWkucm91dGVyJyxcbiAgJ2p1Z2VuZHN0YWR0cGxhbi5saW5rcycsXG4gICdqdWdlbmRzdGFkdHBsYW4uYW5zcHJlY2hwYXJ0bmVyJyxcbiAgJ2p1Z2VuZHN0YWR0cGxhbi50ZXJtaW4nXG5dKTsiLCJ2YXIgSnVnZW5kc3RhZHRwbGFuID0gSnVnZW5kc3RhZHRwbGFuIHx8IHt9O1xuSnVnZW5kc3RhZHRwbGFuLkNvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ2p1Z2VuZHN0YWR0cGxhbi5jb250cm9sbGVycycsIFtdKTtcblxuYW5ndWxhci5tb2R1bGUoICdqdWdlbmRzdGFkdHBsYW4nLCBbXG4gICduZ1Jlc291cmNlJyxcbiAgJ25nU2FuaXRpemUnLFxuICAndWkucm91dGVyJyxcbiAgJ2xlYWZsZXQtZGlyZWN0aXZlJyxcbiAgJ3RleHRBbmd1bGFyJyxcbiAgJ25nRmlsZVVwbG9hZCcsXG4gICdhbmd1bGFyLWp3dCcsXG4gICdqdWdlbmRzdGFkdHBsYW4udGVtcGxhdGVzJyxcbiAgJ2p1Z2VuZHN0YWR0cGxhbi5sb2dpbicsXG4gICdqdWdlbmRzdGFkdHBsYW4uYXBpJyxcbiAgJ2p1Z2VuZHN0YWR0cGxhbi5zdGFydHNlaXRlJyxcbiAgJ2p1Z2VuZHN0YWR0cGxhbi5waW5zJyxcbiAgJ2p1Z2VuZHN0YWR0cGxhbi50cmFlZ2VyJyxcbiAgJ2p1Z2VuZHN0YWR0cGxhbi5jb250cm9sbGVycydcbl0pXG5cbi5jb25maWcoWyAnJHN0YXRlUHJvdmlkZXInLCAnJHVybFJvdXRlclByb3ZpZGVyJywgZnVuY3Rpb24gbXlBcHBDb25maWcoICRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIgKSB7XG4gICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoICcvc3RhcnRzZWl0ZScgKTtcbn1dKVxuXG4ucnVuKCBmdW5jdGlvbiBydW4gKCkge1xufSlcblxuLmNvbnRyb2xsZXIoICdBcHBDdHJsJywgWyAnJHNjb3BlJywgJ0xvZ2luU2VydmljZScsIGZ1bmN0aW9uIEFwcEN0cmwoJHNjb3BlLCBMb2dpblNlcnZpY2Upe1xuXG4gICRzY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN1Y2Nlc3MnLCBmdW5jdGlvbihldmVudCwgdG9TdGF0ZSwgdG9QYXJhbXMsIGZyb21TdGF0ZSwgZnJvbVBhcmFtcyl7XG4gICAgaWYgKCBhbmd1bGFyLmlzRGVmaW5lZCggdG9TdGF0ZS5kYXRhLnBhZ2VUaXRsZSApICkge1xuICAgICAgJHNjb3BlLnBhZ2VUaXRsZSA9IHRvU3RhdGUuZGF0YS5wYWdlVGl0bGUgKyAnIHwgSnVnZW5kc3RhZHRwbGFuJyA7XG4gICAgfVxuICB9KTtcblxuICAkc2NvcGUuaXNMb2dnZWRJbiA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBMb2dpblNlcnZpY2UuaXNMb2dnZWRJbigpO1xuICB9O1xuICBcbiAgJHNjb3BlLmdldEp1Z2VuZHN0YWR0cGxhblVzZXIgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gTG9naW5TZXJ2aWNlLmdldEp1Z2VuZHN0YWR0cGxhblVzZXIoKTtcbiAgfTtcblxufV0pXG5cbjsiLCJ2YXIganVnZW5kc3RhZHRwbGFuQXBpID0gYW5ndWxhci5tb2R1bGUoJ2p1Z2VuZHN0YWR0cGxhbi5hcGknLCBbJ25nUmVzb3VyY2UnLCAnYW5ndWxhci1qd3QnXSk7XG5cbmp1Z2VuZHN0YWR0cGxhbkFwaS5jb25maWcoWyckaHR0cFByb3ZpZGVyJywgJ2p3dEludGVyY2VwdG9yUHJvdmlkZXInLCBmdW5jdGlvbigkaHR0cFByb3ZpZGVyLCBqd3RJbnRlcmNlcHRvclByb3ZpZGVyKSB7XG5cbiAgICBqd3RJbnRlcmNlcHRvclByb3ZpZGVyLnRva2VuR2V0dGVyID0gWydjb25maWcnLCBmdW5jdGlvbihjb25maWcpIHtcbiAgICAgICAgLy8gU2tpcCBhdXRoZW50aWNhdGlvbiBmb3IgYW55IHJlcXVlc3RzIGVuZGluZyBpbiAuaHRtbFxuICAgICAgICBpZiAoY29uZmlnLnVybC5zdWJzdHIoY29uZmlnLnVybC5sZW5ndGggLSA1KSA9PSAnLmh0bWwnKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnanNwVG9rZW4nKTtcbiAgICB9XTtcblxuICAgICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goJ2p3dEludGVyY2VwdG9yJyk7XG59XSk7XG5cbnZhciBiYWNrZW5kUHJlZml4ID0gJ2h0dHA6Ly9hcGkuanVnZW5kc3RhZHRwbGFuLmRldi9hcHBfZGV2LnBocCc7XG5cbmp1Z2VuZHN0YWR0cGxhbkFwaS5wcm92aWRlcignUGluJywgZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kZ2V0ID0gWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XG4gICAgICAgIHZhciBiYWNrZW5kVXJsID0gYmFja2VuZFByZWZpeCArICcvcGlucyc7XG4gICAgICAgIHJldHVybiAkcmVzb3VyY2UoYmFja2VuZFVybCwge30sIHtcbiAgICAgICAgICAgIGdldDoge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICAgICAgdXJsOiBiYWNrZW5kVXJsICsgJy86aWQnLFxuICAgICAgICAgICAgICAgIHBhcmFtczogeyBpZDonQGlkJ30sXG4gICAgICAgICAgICAgICAgc2tpcEF1dGhvcml6YXRpb246IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1cGRhdGU6IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgICAgIHVybDogYmFja2VuZFVybCArICcvdXBkYXRlLzppZCcsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7IGlkOidAaWQnfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNhdmU6IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICB1cmw6IGJhY2tlbmRVcmwgKyAnL2NyZWF0ZSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWxldGU6IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICAgICAgICAgIHVybDogYmFja2VuZFVybCArICcvZGVsZXRlLzppZCcsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7IGlkOidAaWQnfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XTtcbn0pO1xuXG5qdWdlbmRzdGFkdHBsYW5BcGkucHJvdmlkZXIoJ1RyYWVnZXInLCBmdW5jdGlvbigpIHtcbiAgICB0aGlzLiRnZXQgPSBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcbiAgICAgICAgdmFyIGJhY2tlbmRVcmwgPSBiYWNrZW5kUHJlZml4ICsgJy90cmFlZ2VyJztcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShiYWNrZW5kVXJsLCB7fSwge1xuICAgICAgICAgICAgZ2V0OiB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICB1cmw6IGJhY2tlbmRVcmwgKyAnLzppZCcsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7IGlkOidAaWQnfSxcbiAgICAgICAgICAgICAgICBza2lwQXV0aG9yaXphdGlvbjogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVwZGF0ZToge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICAgICAgdXJsOiBiYWNrZW5kVXJsICsgJy91cGRhdGUvOmlkJyxcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHsgaWQ6J0BpZCd9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2F2ZToge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIHVybDogYmFja2VuZFVybCArICcvY3JlYXRlJyxcbiAgICAgICAgICAgICAgICBza2lwQXV0aG9yaXphdGlvbjogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlbGV0ZToge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgICAgICAgICAgdXJsOiBiYWNrZW5kVXJsICsgJy9kZWxldGUvOmlkJyxcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHsgaWQ6J0BpZCd9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbG9naW46IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBza2lwQXV0aG9yaXphdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfSxcbiAgICAgICAgICAgICAgICB1cmw6IGJhY2tlbmRQcmVmaXggKyAnL2F1dGhlbnRpY2F0aW9uL3RyYWVnZXJfY2hlY2snLFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybVJlcXVlc3Q6IGZ1bmN0aW9uIChkYXRhLCBoZWFkZXJzR2V0dGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRyYW5zZm9ybSBKU09OIGludG8gcmVndWxhciBmb3JtIHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RyID0gW107XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGQgaW4gZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ci5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChkKSArIFwiPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGRhdGFbZF0pKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0ci5qb2luKFwiJlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1dO1xufSk7XG5cbmp1Z2VuZHN0YWR0cGxhbkFwaS5wcm92aWRlcignS2F0ZWdvcmllJywgZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kZ2V0ID0gWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XG4gICAgICAgIHZhciBiYWNrZW5kVXJsID0gYmFja2VuZFByZWZpeCArICcva2F0ZWdvcmllJztcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShiYWNrZW5kVXJsKTtcbiAgICB9XTtcbn0pOyIsImFuZ3VsYXIubW9kdWxlKCAncGx1c09uZScsIFtdIClcblxuLmRpcmVjdGl2ZSggJ3BsdXNPbmUnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICBsaW5rOiBmdW5jdGlvbiggc2NvcGUsIGVsZW1lbnQsIGF0dHJzICkge1xuICAgICAgZ2FwaS5wbHVzb25lLnJlbmRlciggZWxlbWVudFswXSwge1xuICAgICAgICBcInNpemVcIjogXCJtZWRpdW1cIixcbiAgICAgICAgXCJocmVmXCI6IFwiaHR0cDovL2JpdC5seS9uZ0JvaWxlcnBsYXRlXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn0pXG5cbjtcblxuIiwiSnVnZW5kc3RhZHRwbGFuLkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoICdBbnNwcmVjaHBhcnRuZXJGb3JtQ29udHJvbGxlcicsIFsgJyRzY29wZScsXG4gICAgZnVuY3Rpb24oJHNjb3BlKSB7XG5cbiAgICAgICAgLy8gQW5zcHJlY2hwYXJ0bmVyXG4gICAgICAgICRzY29wZS5uZXdBbnNwcmVjaHBhcnRuZXIgPSB7fTtcbiAgICAgICAgJHNjb3BlLmFkZEFuc3ByZWNocGFydG5lciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCRzY29wZS5tb2RlbC5hbnNwcmVjaHBhcnRuZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5tb2RlbC5hbnNwcmVjaHBhcnRuZXIgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRzY29wZS5tb2RlbC5hbnNwcmVjaHBhcnRuZXIucHVzaCgkc2NvcGUubmV3QW5zcHJlY2hwYXJ0bmVyKTtcbiAgICAgICAgICAgICRzY29wZS5uZXdBbnNwcmVjaHBhcnRuZXIgPSB7fTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuaXNBbnNwcmVjaHBhcnRuZXJWYWxpZCA9IGZ1bmN0aW9uKGFuc3ByZWNocGFydG5lcikge1xuICAgICAgICAgICAgaWYgKGFuc3ByZWNocGFydG5lci5uYW1lID09PSB1bmRlZmluZWQgfHwgYW5zcHJlY2hwYXJ0bmVyLm5hbWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChhbnNwcmVjaHBhcnRuZXIuZW1haWwgPT09IHVuZGVmaW5lZCB8fCBhbnNwcmVjaHBhcnRuZXIuZW1haWwubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG5cbiAgICB9XSk7IiwiYW5ndWxhci5tb2R1bGUoJ2p1Z2VuZHN0YWR0cGxhbi50cmFlZ2VyJykuY29uZmlnKFsnJHN0YXRlUHJvdmlkZXInLCBmdW5jdGlvbiBjb25maWcoICRzdGF0ZVByb3ZpZGVyICkge1xuICBcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoICdMaXN0ZTogVHJhZWdlcicsIHtcbiAgICB1cmw6ICcvdHJhZWdlcicsXG4gICAgdmlld3M6IHtcbiAgICAgIFwibWFpblwiOiB7XG4gICAgICAgIGNvbnRyb2xsZXI6ICdUcmFlZ2VyQ29udHJvbGxlcicsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL3RyYWVnZXIvdmlld3MvbGlzdGUudHBsLmh0bWwnXG4gICAgICB9XG4gICAgfSxcbiAgICBkYXRhOnsgcGFnZVRpdGxlOiAnVHLDpGdlcicgfVxuICB9KTtcblxufV0pO1xuXG5KdWdlbmRzdGFkdHBsYW4uQ29udHJvbGxlcnMuY29udHJvbGxlciggJ1RyYWVnZXJDb250cm9sbGVyJywgWyAnJHNjb3BlJywgJyRsb2NhdGlvbicsICdUcmFlZ2VyJywgZnVuY3Rpb24gVHJhZWdlckNvbnRyb2xsZXIoICRzY29wZSwgJGxvY2F0aW9uLCBUcmFlZ2VyICkge1xuICAgICRzY29wZS50cmFlZ2VyID0gVHJhZWdlci5xdWVyeSgpO1xuXG4gICAgJHNjb3BlLnZpZXdUcmFlZ2VyID0gZnVuY3Rpb24gKHRyYWVnZXIpIHtcbiAgICAgICRsb2NhdGlvbi5wYXRoKCcvdHJhZWdlci8nK3RyYWVnZXIuaWQpO1xuICAgIH07XG5cbn1dKTsiLCJhbmd1bGFyLm1vZHVsZSgnanVnZW5kc3RhZHRwbGFuLnRyYWVnZXInKS5jb25maWcoWyckc3RhdGVQcm92aWRlcicsIGZ1bmN0aW9uIGNvbmZpZyggJHN0YXRlUHJvdmlkZXIgKSB7XG4gIFxuICAkc3RhdGVQcm92aWRlci5zdGF0ZSggJ0RldGFpbDogVHJhZWdlcicsIHtcbiAgICB1cmw6ICcvdHJhZWdlci97aWQ6WzAtOV0rfScsXG4gICAgdmlld3M6IHtcbiAgICAgIFwibWFpblwiOiB7XG4gICAgICAgIGNvbnRyb2xsZXI6ICdUcmFlZ2VyRGV0YWlsQ29udHJvbGxlcicsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL3RyYWVnZXIvdmlld3MvZGV0YWlsLnRwbC5odG1sJ1xuICAgICAgfVxuICAgIH0sXG4gICAgcmVzb2x2ZToge1xuICAgICAgdHJhZWdlckRldGFpbDogWyAnJHN0YXRlUGFyYW1zJywgJ1RyYWVnZXInLCBmdW5jdGlvbigkc3RhdGVQYXJhbXMsIFRyYWVnZXIpIHtcbiAgICAgICAgcmV0dXJuIFRyYWVnZXIuZ2V0KHt9LHtpZDogJHN0YXRlUGFyYW1zLmlkfSk7XG4gICAgICB9XVxuICAgIH0sXG4gICAgZGF0YTp7IHBhZ2VUaXRsZTogJ1Ryw6RnZXInIH1cbiAgfSk7XG5cbn1dKTtcblxuSnVnZW5kc3RhZHRwbGFuLkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoICdUcmFlZ2VyRGV0YWlsQ29udHJvbGxlcicsIFsgJyRzY29wZScsICd0cmFlZ2VyRGV0YWlsJywgZnVuY3Rpb24gVHJhZWdlckRldGFpbENvbnRyb2xsZXIoICRzY29wZSwgdHJhZWdlckRldGFpbCApIHtcbiAgICAkc2NvcGUudHJhZWdlciA9IHRyYWVnZXJEZXRhaWw7XG5cbiAgICBhbmd1bGFyLmV4dGVuZCgkc2NvcGUsIHtcbiAgICAgICAgY2VudGVyOiB7XG4gICAgICAgICAgICBsYXQ6IDUwLjczMjgyOTI0NjcyNixcbiAgICAgICAgICAgIGxuZzogNy4wOTM3MDA0MDkwMTE3LFxuICAgICAgICAgICAgem9vbTogMTNcbiAgICAgICAgfSxcbiAgICAgICAgZGVmYXVsdHM6IHtcbiAgICAgICAgICAgIHNjcm9sbFdoZWVsWm9vbTogZmFsc2VcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgJHNjb3BlLm1hcmtlcnMgPSBbXTtcblxuICAgIHRyYWVnZXJEZXRhaWwuJHByb21pc2UudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKHRyYWVnZXJEZXRhaWwucGlucywgZnVuY3Rpb24oaXRlbSwga2V5KSB7XG4gICAgICAgICAgICB2YXIgbWFya2VyID0ge1xuICAgICAgICAgICAgICAgIGxhdDogaXRlbS5sYXRpdHVkZSxcbiAgICAgICAgICAgICAgICBsbmc6IGl0ZW0ubG9uZ2l0dWRlLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBpdGVtLnRpdGVsLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICc8aDM+JyArIGl0ZW0udGl0ZWwgKyAnPC9oMz4nICsgaXRlbS5iZXNjaHJlaWJ1bmcgKyAnPHNtYWxsPjxhIGhyZWY9XCInICsgJy8jL3Bpbi8nK2l0ZW0uaWQgKyAnXCI+TWVocjwvYT48L3NtYWxsPidcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAkc2NvcGUubWFya2Vycy5wdXNoKG1hcmtlcik7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufV0pOyIsImFuZ3VsYXIubW9kdWxlKCdqdWdlbmRzdGFkdHBsYW4udHJhZWdlcicpLmNvbmZpZyhbJyRzdGF0ZVByb3ZpZGVyJywgZnVuY3Rpb24gY29uZmlnKCAkc3RhdGVQcm92aWRlciApIHtcblxuICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCAnRm9ybTogVHJhZWdlcicsIHtcbiAgICAgICAgdXJsOiAnL3RyYWVnZXIvY3JlYXRlJyxcbiAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgIFwibWFpblwiOiB7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ1RyYWVnZXJGb3JtQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvdHJhZWdlci92aWV3cy9mb3JtLnRwbC5odG1sJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBkYXRhOnsgcGFnZVRpdGxlOiAnVHLDpGdlciBlcnN0ZWxsZW4nIH1cbiAgICB9KTtcblxufV0pO1xuXG5KdWdlbmRzdGFkdHBsYW4uQ29udHJvbGxlcnMuY29udHJvbGxlciggJ1RyYWVnZXJGb3JtQ29udHJvbGxlcicsIFsgJyRzY29wZScsICckbG9jYXRpb24nLCAnVHJhZWdlcicsICdLYXRlZ29yaWUnLCAnVXBsb2FkJywgZnVuY3Rpb24gVHJhZWdlckZvcm1Db250cm9sbGVyKCAkc2NvcGUsICRsb2NhdGlvbiwgVHJhZWdlciwgS2F0ZWdvcmllLCBVcGxvYWQgKSB7XG4gICAgJHNjb3BlLmthdGVnb3JpZW4gPSBLYXRlZ29yaWUucXVlcnkoKTtcbiAgICAkc2NvcGUudHJhZWdlciA9IG5ldyBUcmFlZ2VyKCk7XG4gICAgJHNjb3BlLnRyYWVnZXJzID0gVHJhZWdlci5xdWVyeSgpO1xuXG4gICAgJHNjb3BlLm5ld1RyYWVnZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgJHNjb3BlLnRyYWVnZXIgPSBuZXcgVHJhZWdlcigpO1xuICAgICAgICAkc2NvcGUuZWRpdGluZyA9IGZhbHNlO1xuICAgIH07XG5cbiAgICAkc2NvcGUuc2F2ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoJHNjb3BlLnRyYWVnZXIuaWQpIHtcbiAgICAgICAgICAgIFRyYWVnZXIudXBkYXRlKCRzY29wZS50cmFlZ2VyKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5uZXdUcmFlZ2VyKCk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBhbGVydCgnRWluIFRyw6RnZXIgbWl0IGRpZXNlciBFbWFpbC1BZHJlc3NlIGV4aXN0aWVydCBiZXJlaXRzIScpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkc2NvcGUudHJhZWdlci4kc2F2ZSgpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUudHJhZWdlcnMucHVzaChyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgJHNjb3BlLm5ld1RyYWVnZXIoKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGFsZXJ0KCdFaW4gVHLDpGdlciBtaXQgZGllc2VyIEVtYWlsLUFkcmVzc2UgZXhpc3RpZXJ0IGJlcmVpdHMhJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAkc2NvcGUuc2V0QWN0aXZlVHJhZWdlciA9IGZ1bmN0aW9uKHRyYWVnZXIpIHtcbiAgICAgICAgJHNjb3BlLnRyYWVnZXIgPSB0cmFlZ2VyO1xuICAgICAgICAkc2NvcGUuZWRpdGluZyA9IHRydWU7XG4gICAgfTtcblxuICAgICRzY29wZS5yZW1vdmUgPSBmdW5jdGlvbih0cmFlZ2VyKSB7XG4gICAgICAgIFRyYWVnZXIuZGVsZXRlKHRyYWVnZXIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLnRyYWVnZXJzLmluZGV4T2YodHJhZWdlcik7XG4gICAgICAgICAgICBpZiAoaW5kZXggIT0gLTEpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUudHJhZWdlcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIEJpbGRlclxuICAgICRzY29wZS5vbkZpbGVTZWxlY3QgPSBmdW5jdGlvbigkZmlsZXMpIHtcbiAgICAgICAgdmFyIGRvVXBsb2FkID0gZnVuY3Rpb24oZmlsZSkge1xuICAgICAgICAgICAgVXBsb2FkLnVwbG9hZCh7XG4gICAgICAgICAgICAgICAgdXJsOiAnYXBwX2Rldi5waHAvaW1nL3VwbG9hZCcsIC8vdXBsb2FkLnBocCBzY3JpcHQsIG5vZGUuanMgcm91dGUsIG9yIHNlcnZsZXQgdXJsXG4gICAgICAgICAgICAgICAgLy8gbWV0aG9kOiAnUE9TVCcgb3IgJ1BVVCcsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgLy8gaGVhZGVyczogeydoZWFkZXIta2V5JzogJ2hlYWRlci12YWx1ZSd9LFxuICAgICAgICAgICAgICAgIC8vIHdpdGhDcmVkZW50aWFsczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBkYXRhOiB7bXlPYmo6ICRzY29wZS5teU1vZGVsT2JqfSxcbiAgICAgICAgICAgICAgICBmaWxlOiBmaWxlIC8vIG9yIGxpc3Qgb2YgZmlsZXM6ICRmaWxlcyBmb3IgaHRtbDUgb25seVxuICAgICAgICAgICAgICAgIC8vIGZpbGVOYW1lOiAnZG9jLmpwZycgb3IgWycxLmpwZycsICcyLmpwZycsIC4uLl0gLy8gdG8gbW9kaWZ5IHRoZSBuYW1lIG9mIHRoZSBmaWxlXG4gICAgICAgICAgICAgICAgLyogY3VzdG9taXplIGZpbGUgZm9ybURhdGEgbmFtZSAoJ0NvbnRlbnQtRGVzcG9zaXRpb24nKSwgc2VydmVyIHNpZGUgZmlsZSB2YXJpYWJsZSBuYW1lLlxuICAgICAgICAgICAgICAgICBEZWZhdWx0IGlzICdmaWxlJyAqL1xuICAgICAgICAgICAgICAgIC8vZmlsZUZvcm1EYXRhTmFtZTogbXlGaWxlLCAvL29yIGEgbGlzdCBvZiBuYW1lcyBmb3IgbXVsdGlwbGUgZmlsZXMgKGh0bWw1KS5cbiAgICAgICAgICAgICAgICAvKiBjdXN0b21pemUgaG93IGRhdGEgaXMgYWRkZWQgdG8gZm9ybURhdGEuIFNlZSAjNDAjaXNzdWVjb21tZW50LTI4NjEyMDAwIGZvciBzYW1wbGUgY29kZSAqL1xuICAgICAgICAgICAgICAgIC8vZm9ybURhdGFBcHBlbmRlcjogZnVuY3Rpb24oZm9ybURhdGEsIGtleSwgdmFsKXt9XG4gICAgICAgICAgICB9KS5wcm9ncmVzcyhmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3BlcmNlbnQ6ICcgKyBwYXJzZUludCgxMDAuMCAqIGV2dC5sb2FkZWQgLyBldnQudG90YWwpKTtcbiAgICAgICAgICAgIH0pLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgLy8gZmlsZSBpcyB1cGxvYWRlZCBzdWNjZXNzZnVsbHlcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnRyYWVnZXIuYmlsZGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRyYWVnZXIuYmlsZGVyID0gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbGUudG1wX25hbWUgPSBkYXRhLmZvbGRlcjtcbiAgICAgICAgICAgICAgICAkc2NvcGUudHJhZWdlci5iaWxkZXIucHVzaChmaWxlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8uZXJyb3IoLi4uKVxuICAgICAgICAgICAgLy8udGhlbihzdWNjZXNzLCBlcnJvciwgcHJvZ3Jlc3MpO1xuICAgICAgICAgICAgLy8ueGhyKGZ1bmN0aW9uKHhocil7eGhyLnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKC4uLil9KS8vIGFjY2VzcyBhbmQgYXR0YWNoIGFueSBldmVudCBsaXN0ZW5lciB0byBYTUxIdHRwUmVxdWVzdC5cbiAgICAgICAgfTtcblxuICAgICAgICAvLyRmaWxlczogYW4gYXJyYXkgb2YgZmlsZXMgc2VsZWN0ZWQsIGVhY2ggZmlsZSBoYXMgbmFtZSwgc2l6ZSwgYW5kIHR5cGUuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJGZpbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZmlsZSA9ICRmaWxlc1tpXTtcbiAgICAgICAgICAgICRzY29wZS51cGxvYWQgPSBkb1VwbG9hZChmaWxlKTtcbiAgICAgICAgfVxuICAgIH07XG5cblxuICAgIC8vIEFkcmVzc2VuXG4gICAgJHNjb3BlLm5ld0FkcmVzc2UgPSB7fTtcbiAgICAkc2NvcGUuYWRkQWRyZXNzZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoJHNjb3BlLnRyYWVnZXIuYWRyZXNzZW4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgJHNjb3BlLnRyYWVnZXIuYWRyZXNzZW4gPSBbXTtcbiAgICAgICAgfVxuICAgICAgICAkc2NvcGUudHJhZWdlci5hZHJlc3Nlbi5wdXNoKCRzY29wZS5uZXdBZHJlc3NlKTtcbiAgICAgICAgJHNjb3BlLm5ld0FkcmVzc2UgPSB7fTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmlzQWRyZXNzZVZhbGlkID0gZnVuY3Rpb24oYWRyZXNzZSkge1xuICAgICAgICBpZiAoYWRyZXNzZS5zdHJhc3NlID09PSB1bmRlZmluZWQgfHwgYWRyZXNzZS5zdHJhc3NlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKGFkcmVzc2Uub3J0ID09PSB1bmRlZmluZWQgfHwgYWRyZXNzZS5vcnQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxufV0pOyIsImFuZ3VsYXIubW9kdWxlKCdqdWdlbmRzdGFkdHBsYW4udHJhZWdlcicpLmNvbmZpZyhbJyRzdGF0ZVByb3ZpZGVyJywgZnVuY3Rpb24gY29uZmlnKCAkc3RhdGVQcm92aWRlciApIHtcblxuICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCAnTG9naW46IFRyYWVnZXInLCB7XG4gICAgICAgIHVybDogJy90cmFlZ2VyL2xvZ2luJyxcbiAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgIFwibWFpblwiOiB7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ1RyYWVnZXJMb2dpbkNvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL3RyYWVnZXIvdmlld3MvbG9naW4udHBsLmh0bWwnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGRhdGE6eyBwYWdlVGl0bGU6ICdFaW5sb2dnZW4nIH1cbiAgICB9KTtcblxufV0pO1xuXG5KdWdlbmRzdGFkdHBsYW4uQ29udHJvbGxlcnMuY29udHJvbGxlciggJ1RyYWVnZXJMb2dpbkNvbnRyb2xsZXInLCBbICckc2NvcGUnLCAnJHN0YXRlJywgJyR3aW5kb3cnLCAnTG9naW5TZXJ2aWNlJywgJ2p3dEhlbHBlcicsICdUcmFlZ2VyJywgZnVuY3Rpb24gVHJhZWdlckxvZ2luQ29udHJvbGxlciggJHNjb3BlLCAkc3RhdGUsICR3aW5kb3csIExvZ2luU2VydmljZSwgand0SGVscGVyLCBUcmFlZ2VyKSB7XG5cbiAgICAkc2NvcGUudHJhZWdlciA9IG5ldyBUcmFlZ2VyKCk7XG5cbiAgICAkc2NvcGUubG9naW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgJHNjb3BlLnRyYWVnZXIuJGxvZ2luKClcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2UuanNwVG9rZW4gPSByZXNwb25zZS50b2tlbjtcblxuICAgICAgICAgICAgICAgIHZhciBkZWNvZGVkID0gand0SGVscGVyLmRlY29kZVRva2VuKHJlc3BvbnNlLnRva2VuKTtcblxuICAgICAgICAgICAgICAgIExvZ2luU2VydmljZS5zZXRMb2dnZWRJbih0cnVlKTtcbiAgICAgICAgICAgICAgICBMb2dpblNlcnZpY2Uuc2V0SnVnZW5kc3RhZHRwbGFuVXNlcihkZWNvZGVkLnRyYWVnZXIpO1xuXG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdTdGFydHNlaXRlJyk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgICAgICAgICRzY29wZS5lcnJvciA9IHtcbiAgICAgICAgICAgICAgICAgICAgbXNnOiAnQXV0aGVudGlmaXppZXJ1bmcgZmVobGdlc2NobGFnZW4hJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH07XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnanVnZW5kc3RhZHRwbGFuLnN0YXJ0c2VpdGUnKS5jb25maWcoWyckc3RhdGVQcm92aWRlcicsIGZ1bmN0aW9uIGNvbmZpZyggJHN0YXRlUHJvdmlkZXIgKSB7XG4gIFxuICAkc3RhdGVQcm92aWRlci5zdGF0ZSggJ1N0YXJ0c2VpdGUnLCB7XG4gICAgdXJsOiAnL3N0YXJ0c2VpdGUnLFxuICAgIHZpZXdzOiB7XG4gICAgICBcIm1haW5cIjoge1xuICAgICAgICBjb250cm9sbGVyOiAnU3RhcnRzZWl0ZUNvbnRyb2xsZXInLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC9zdGFydHNlaXRlL3ZpZXdzL3N0YXJ0c2VpdGUudHBsLmh0bWwnXG4gICAgICB9XG4gICAgfSxcbiAgICBkYXRhOnsgcGFnZVRpdGxlOiAnU3RhcnRzZWl0ZScgfVxuICB9KTtcblxufV0pO1xuXG5hbmd1bGFyLm1vZHVsZSgnanVnZW5kc3RhZHRwbGFuLnN0YXJ0c2VpdGUnKS5jb250cm9sbGVyKCAnU3RhcnRzZWl0ZUNvbnRyb2xsZXInLCBbICckc2NvcGUnLCAnJGxvY2F0aW9uJywgJ1BpbicsIGZ1bmN0aW9uIFN0YXJ0c2VpdGVDb250cm9sbGVyKCAkc2NvcGUsICRsb2NhdGlvbiwgUGluICkge1xuICAgICBhbmd1bGFyLmV4dGVuZCgkc2NvcGUsIHtcbiAgICAgICAgY2VudGVyOiB7XG4gICAgICAgICAgICBsYXQ6IDUwLjczMjgyOTI0NjcyNixcbiAgICAgICAgICAgIGxuZzogNy4wOTM3MDA0MDkwMTE3LFxuICAgICAgICAgICAgem9vbTogMTNcbiAgICAgICAgfSxcbiAgICAgICAgZGVmYXVsdHM6IHtcbiAgICAgICAgICAgIHNjcm9sbFdoZWVsWm9vbTogZmFsc2VcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgJHNjb3BlLm1hcmtlcnMgPSBbXTtcblxuICAgIFBpbi5xdWVyeShmdW5jdGlvbihwaW5zKSB7XG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaChwaW5zLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICBpZiAoaXRlbS5sb25naXR1ZGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHZhciBtYXJrZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgIGxhdDogaXRlbS5sYXRpdHVkZSxcbiAgICAgICAgICAgICAgICAgICAgbG5nOiBpdGVtLmxvbmdpdHVkZSxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGl0ZW0udGl0ZWwsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICc8aDM+JyArIGl0ZW0udGl0ZWwgKyAnPC9oMz4nICsgaXRlbS5iZXNjaHJlaWJ1bmcgKyAnPHNtYWxsPjxhIGhyZWY9XCInICsgJy8jL3Bpbi8nICsgaXRlbS5pZCArICdcIj5NZWhyPC9hPjwvc21hbGw+J1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgJHNjb3BlLm1hcmtlcnMucHVzaChtYXJrZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcblxufV0pOyIsIkp1Z2VuZHN0YWR0cGxhbi5Db250cm9sbGVycy5jb250cm9sbGVyKCAnTGlua3NGb3JtQ29udHJvbGxlcicsIFsgJyRzY29wZScsXG4gICAgZnVuY3Rpb24oJHNjb3BlKSB7XG5cbiAgICAgICAgLy8gTGlua3NcbiAgICAgICAgJHNjb3BlLm5ld0xpbmsgPSB7fTtcbiAgICAgICAgJHNjb3BlLmFkZExpbmsgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICgkc2NvcGUubW9kZWwubGlua3MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5tb2RlbC5saW5rcyA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHNjb3BlLm1vZGVsLmxpbmtzLnB1c2goJHNjb3BlLm5ld0xpbmspO1xuICAgICAgICAgICAgJHNjb3BlLm5ld0xpbmsgPSB7fTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuaXNMaW5rVmFsaWQgPSBmdW5jdGlvbihsaW5rKSB7XG4gICAgICAgICAgICBpZiAobGluay50aXRlbCA9PT0gdW5kZWZpbmVkIHx8IGxpbmsudGl0ZWwubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChsaW5rLnVybCA9PT0gdW5kZWZpbmVkIHx8IGxpbmsudXJsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9O1xuXG4gICAgfV0pOyIsIkp1Z2VuZHN0YWR0cGxhbi5Db250cm9sbGVycy5jb250cm9sbGVyKCAnVGVybWluRm9ybUNvbnRyb2xsZXInLCBbICckc2NvcGUnLFxuICAgIGZ1bmN0aW9uKCRzY29wZSkge1xuXG4gICAgICAgIC8vIFdvY2hlbnRhZ2VcbiAgICAgICAgJHNjb3BlLndvY2hlbnRhZ2UgPSBbICdNb250YWcnLCAnRGllbnN0YWcnLCAnTWl0dHdvY2gnLCAnRG9ubmVyc3RhZycsICdGcmVpdGFnJywgJ1NhbXN0YWcnLCAnU29ubnRhZycgXTtcblxuXG4gICAgICAgIC8vIFRlcm1pblxuICAgICAgICAkc2NvcGUubmV3VGVybWluID0ge307XG4gICAgICAgICRzY29wZS5hZGRUZXJtaW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICgkc2NvcGUucGluLnRlcm1pbmUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5waW4udGVybWluZSA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHNjb3BlLnBpbi50ZXJtaW5lLnB1c2goJHNjb3BlLm5ld1Rlcm1pbik7XG4gICAgICAgICAgICAkc2NvcGUubmV3VGVybWluID0ge307XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmlzVGVybWluVmFsaWQgPSBmdW5jdGlvbih0ZXJtaW4pIHtcbiAgICAgICAgICAgIGlmICh0ZXJtaW4uYmVnaW5uID09PSB1bmRlZmluZWQgfHwgdGVybWluLmJlZ2lubiA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGVybWluLmdhbnp0YWVnaWcgIT09IHRydWUgJiYgKHRlcm1pbi5iZWdpbm5fdWhyemVpdCA9PT0gdW5kZWZpbmVkIHx8IHRlcm1pbi5iZWdpbm5fdWhyemVpdCA9PT0gMCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIC8vIFdpZWRlcmhvbHVuZ1xuICAgICAgICAkc2NvcGUud29jaGVfZGVzX21vbmF0cyA9IFtcbiAgICAgICAgICAgIHsgaWQ6IDAsIGxhYmVsOiAnSmVkZSBXb2NoZScgfSxcbiAgICAgICAgICAgIHsgaWQ6IDEsIGxhYmVsOiAnSmVkZSAxLiBXb2NoZScgfSxcbiAgICAgICAgICAgIHsgaWQ6IDIsIGxhYmVsOiAnSmVkZSAyLiBXb2NoZScgfSxcbiAgICAgICAgICAgIHsgaWQ6IDMsIGxhYmVsOiAnSmVkZSAzLiBXb2NoZScgfSxcbiAgICAgICAgICAgIHsgaWQ6IDQsIGxhYmVsOiAnSmVkZSA0LiBXb2NoZScgfSxcbiAgICAgICAgICAgIHsgaWQ6IDUsIGxhYmVsOiAnSmVkZSA1LiBXb2NoZScgfVxuICAgICAgICBdO1xuICAgICAgICAkc2NvcGUubmV3V2llZGVyaG9sdW5nID0ge307XG4gICAgICAgICRzY29wZS5hZGRXaWVkZXJob2x1bmcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICgkc2NvcGUubmV3VGVybWluLndpZWRlcmhvbHVuZ2VuID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV3VGVybWluLndpZWRlcmhvbHVuZ2VuID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkc2NvcGUubmV3VGVybWluLndpZWRlcmhvbHVuZ2VuLnB1c2goJHNjb3BlLm5ld1dpZWRlcmhvbHVuZyk7XG4gICAgICAgICAgICAkc2NvcGUubmV3V2llZGVyaG9sdW5nID0ge307XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmlzV2llZGVyaG9sdW5nVmFsaWQgPSBmdW5jdGlvbih3aWVkZXJob2x1bmcpIHtcbiAgICAgICAgICAgIGlmICh3aWVkZXJob2x1bmcud29jaGVudGFnID09PSB1bmRlZmluZWQgfHwgd2llZGVyaG9sdW5nLndvY2hlbnRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9O1xuXG4gICAgfV0pOyIsImFuZ3VsYXIubW9kdWxlKCdqdWdlbmRzdGFkdHBsYW4ucGlucycpLmNvbmZpZyhbJyRzdGF0ZVByb3ZpZGVyJywgZnVuY3Rpb24gY29uZmlnKCAkc3RhdGVQcm92aWRlciApIHtcbiAgXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCAnRGV0YWlsOiBQaW4nLCB7XG4gICAgdXJsOiAnL3Bpbi97aWQ6WzAtOV0rfScsXG4gICAgdmlld3M6IHtcbiAgICAgIFwibWFpblwiOiB7XG4gICAgICAgIGNvbnRyb2xsZXI6ICdQaW5EZXRhaWxDb250cm9sbGVyJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvcGlucy92aWV3cy9kZXRhaWwudHBsLmh0bWwnXG4gICAgICB9XG4gICAgfSxcbiAgICByZXNvbHZlOiB7XG4gICAgICBwaW5EZXRhaWw6IFsgJyRzdGF0ZVBhcmFtcycsICdQaW4nLCBmdW5jdGlvbigkc3RhdGVQYXJhbXMsIFBpbikge1xuICAgICAgICByZXR1cm4gUGluLmdldCh7fSx7aWQ6ICRzdGF0ZVBhcmFtcy5pZH0pO1xuICAgICAgfV1cbiAgICB9LFxuICAgIGRhdGE6eyBwYWdlVGl0bGU6ICdQaW4nIH1cbiAgfSk7XG5cbn1dKTtcblxuSnVnZW5kc3RhZHRwbGFuLkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoICdQaW5EZXRhaWxDb250cm9sbGVyJywgWyAnJHNjb3BlJywgJ3BpbkRldGFpbCcsIGZ1bmN0aW9uIFBpbkRldGFpbENvbnRyb2xsZXIoICRzY29wZSwgcGluRGV0YWlsICkge1xuICAgICRzY29wZS5tYXJrZXJzID0gW107XG4gICAgJHNjb3BlLmNlbnRlciA9IHtcbiAgICAgICAgbGF0OiA1MC43MzI4MjkyNDY3MjYsXG4gICAgICAgIGxuZzogNy4wOTM3MDA0MDkwMTE3LFxuICAgICAgICB6b29tOiAxM1xuICAgIH07XG5cbiAgICBwaW5EZXRhaWwuJHByb21pc2UudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRzY29wZS5waW4gPSBwaW5EZXRhaWw7XG5cbiAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKCRzY29wZSwge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRzOiB7XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFdoZWVsWm9vbTogZmFsc2VcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJHNjb3BlLmNlbnRlciA9IHtcbiAgICAgICAgICAgICAgICBsYXQ6IHBpbkRldGFpbC5sYXRpdHVkZSxcbiAgICAgICAgICAgICAgICBsbmc6IHBpbkRldGFpbC5sb25naXR1ZGUsXG4gICAgICAgICAgICAgICAgem9vbTogMTVcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciBtYXJrZXIgPSB7XG4gICAgICAgICAgICAgICAgbGF0OiBwaW5EZXRhaWwubGF0aXR1ZGUsXG4gICAgICAgICAgICAgICAgbG5nOiBwaW5EZXRhaWwubG9uZ2l0dWRlLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBwaW5EZXRhaWwudGl0ZWwsXG4gICAgICAgICAgICAgICAgZm9jdXM6IHRydWUsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJzxoMz4nICsgcGluRGV0YWlsLnRpdGVsICsgJzwvaDM+JyArIHBpbkRldGFpbC5iZXNjaHJlaWJ1bmcsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgJHNjb3BlLm1hcmtlcnMucHVzaChtYXJrZXIpO1xuICAgICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKCRzY29wZSwge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRzOiB7XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFdoZWVsWm9vbTogZmFsc2VcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICk7XG59XSk7IiwiYW5ndWxhci5tb2R1bGUoJ2p1Z2VuZHN0YWR0cGxhbi5waW5zJykuY29uZmlnKFsnJHN0YXRlUHJvdmlkZXInLCBmdW5jdGlvbiBjb25maWcoICRzdGF0ZVByb3ZpZGVyICkge1xuXG4gICAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoICdGb3JtOiBQaW4nLCB7XG4gICAgICAgIHVybDogJy9waW4vY3JlYXRlJyxcbiAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgIFwibWFpblwiOiB7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ1BpbkZvcm1Db250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC9waW5zL3ZpZXdzL2Zvcm0udHBsLmh0bWwnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGRhdGE6eyBwYWdlVGl0bGU6ICdQaW4gZXJzdGVsbGVuJyB9XG4gICAgfSk7XG5cbn1dKTtcblxuSnVnZW5kc3RhZHRwbGFuLkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoICdQaW5Gb3JtQ29udHJvbGxlcicsIFsgJyRzY29wZScsICckbG9jYXRpb24nLCAnUGluJywgJ1RyYWVnZXInLCAnS2F0ZWdvcmllJywgZnVuY3Rpb24gUGluRm9ybUNvbnRyb2xsZXIoICRzY29wZSwgJGxvY2F0aW9uLCBQaW4sIFRyYWVnZXIsIEthdGVnb3JpZSApIHtcbiAgICAkc2NvcGUua2F0ZWdvcmllbiA9IEthdGVnb3JpZS5xdWVyeSgpO1xuICAgICRzY29wZS5waW4gPSBuZXcgUGluKCk7XG4gICAgJHNjb3BlLnBpbnMgPSBQaW4ucXVlcnkoKTtcbiAgICAkc2NvcGUudHJhZWdlcnMgPSBUcmFlZ2VyLnF1ZXJ5KCk7XG5cbiAgICBhbmd1bGFyLmV4dGVuZCgkc2NvcGUsIHtcbiAgICAgICAgY2VudGVyOiB7XG4gICAgICAgICAgICBsYXQ6IDUwLjczMjgyOTI0NjcyNixcbiAgICAgICAgICAgIGxuZzogNy4wOTM3MDA0MDkwMTE3LFxuICAgICAgICAgICAgem9vbTogMTNcbiAgICAgICAgfSxcbiAgICAgICAgZGVmYXVsdHM6IHtcbiAgICAgICAgICAgIHNjcm9sbFdoZWVsWm9vbTogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgZXZlbnRzOiB7fVxuICAgIH0pO1xuXG4gICAgJHNjb3BlLnBpbi5tYXJrZXJzID0gW107XG4gICAgJHNjb3BlLiRvbihcImxlYWZsZXREaXJlY3RpdmVNYXAuY2xpY2tcIiwgZnVuY3Rpb24oZXZlbnQsIGFyZ3Mpe1xuICAgICAgICB2YXIgbGVhZkV2ZW50ID0gYXJncy5sZWFmbGV0RXZlbnQ7XG5cbiAgICAgICAgJHNjb3BlLnBpbi5tYXJrZXJzWzBdID0ge1xuICAgICAgICAgICAgbGF0OiBsZWFmRXZlbnQubGF0bG5nLmxhdCxcbiAgICAgICAgICAgIGxuZzogbGVhZkV2ZW50LmxhdGxuZy5sbmcsXG4gICAgICAgICAgICBkcmFnZ2FibGU6IHRydWUsXG4gICAgICAgICAgICBmb2N1czogdHJ1ZVxuICAgICAgICB9O1xuICAgIH0pO1xuXG4gICAgJHNjb3BlLm5ld1BpbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAkc2NvcGUucGluID0gbmV3IFBpbigpO1xuICAgICAgICAkc2NvcGUucGluLm1hcmtlcnMgPSBbXTtcbiAgICAgICAgJHNjb3BlLmVkaXRpbmcgPSBmYWxzZTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLnNhdmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCRzY29wZS5waW4uaWQpIHtcbiAgICAgICAgICAgIFBpbi51cGRhdGUoJHNjb3BlLnBpbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkc2NvcGUucGluLiRzYXZlKCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICRzY29wZS5waW5zLnB1c2gocmVzcG9uc2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgJHNjb3BlLm5ld1BpbigpO1xuICAgIH07XG5cbiAgICAkc2NvcGUuc2V0QWN0aXZlUGluID0gZnVuY3Rpb24ocGluKSB7XG4gICAgICAgICRzY29wZS5waW4gPSBwaW47XG4gICAgICAgICRzY29wZS5waW4ubWFya2VycyA9IFtdO1xuICAgICAgICBpZiAocGluLmxvbmdpdHVkZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAkc2NvcGUucGluLm1hcmtlcnNbMF0gPSB7XG4gICAgICAgICAgICAgICAgbGF0OiBwaW4ubGF0aXR1ZGUsXG4gICAgICAgICAgICAgICAgbG5nOiBwaW4ubG9uZ2l0dWRlLFxuICAgICAgICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBmb2N1czogdHJ1ZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAkc2NvcGUuZWRpdGluZyA9IHRydWU7XG4gICAgfTtcblxuICAgICRzY29wZS5yZW1vdmUgPSBmdW5jdGlvbihwaW4pIHtcbiAgICAgICAgUGluLmRlbGV0ZShwaW4sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLnBpbnMuaW5kZXhPZihwaW4pO1xuICAgICAgICAgICAgaWYgKGluZGV4ICE9IC0xKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnBpbnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuXG4gICAgLy8gQmFycmllcmVmcmVpaGVpdHNncmFkZVxuICAgICRzY29wZS5iYXJyaWVyZWZyZWloZWl0c2dyYWRlID0gWyAnR3V0JywgJ1RlaWx3ZWlzZScsICdOaWNodCBiYXJyaWVyZWZyZWknIF07XG5cblxuICAgIC8vIEtvc3RlbmFydGVuXG4gICAgJHNjb3BlLmtvc3RlbmFydGVuID0gWyAnS29zdGVubG9zJywgJ0tvc3RlbnBmbGljaHRpZycgXTtcblxuXG4gICAgLy8gTWluZGVzdGFsdGVyXG4gICAgJHNjb3BlLm1pbmRlc3RhbHRlcnMgPSBbICdhYiAxMicsICdhYiAxNicsICdhYiAxOCcsICdhYiAyMScgXTtcblxuXG5cbn1dKTsiLCJhbmd1bGFyLm1vZHVsZSgnanVnZW5kc3RhZHRwbGFuLnBpbnMnKS5jb25maWcoWyAnJHN0YXRlUHJvdmlkZXInLCBmdW5jdGlvbiBjb25maWcoICRzdGF0ZVByb3ZpZGVyICkge1xuICBcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoICdMaXN0ZTogUGluJywge1xuICAgIHVybDogJy9waW5zJyxcbiAgICB2aWV3czoge1xuICAgICAgXCJtYWluXCI6IHtcbiAgICAgICAgY29udHJvbGxlcjogJ1BpbnNDb250cm9sbGVyJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvcGlucy92aWV3cy9saXN0LnRwbC5odG1sJ1xuICAgICAgfVxuICAgIH0sXG4gICAgZGF0YTp7IHBhZ2VUaXRsZTogJ1BpbnMnIH1cbiAgfSk7XG5cbn1dKTtcblxuSnVnZW5kc3RhZHRwbGFuLkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoICdQaW5zQ29udHJvbGxlcicsIFsgJyRzY29wZScsICckbG9jYXRpb24nLCAnUGluJywgZnVuY3Rpb24gUGluc0NvbnRyb2xsZXIoICRzY29wZSwgJGxvY2F0aW9uLCBQaW4gKSB7XG4gICAgJHNjb3BlLnBpbnMgPSBQaW4ucXVlcnkoKTtcblxuICAgICRzY29wZS52aWV3UGluID0gZnVuY3Rpb24gKHBpbikge1xuICAgICAgJGxvY2F0aW9uLnBhdGgoJy9waW4vJytwaW4uaWQpO1xuICAgIH07XG5cbn1dKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
