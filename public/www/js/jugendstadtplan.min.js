function LoginInterceptor(e){return{request:function(n){return e.localStorage.token&&(n.headers.Authorization="Bearer "+e.localStorage.token),n}}}var jugendstadtplanLogin=angular.module("jugendstadtplan.login",[]);jugendstadtplanLogin.service("LoginService",function(){var e=!1;return{isLoggedIn:function(){return e},setLoggedIn:function(n){e=n}}}),angular.module("jugendstadtplan.ansprechpartner",[]),angular.module("jugendstadtplan.pins",["ui.router","jugendstadtplan.links","jugendstadtplan.ansprechpartner","jugendstadtplan.termin"]),angular.module("jugendstadtplan.links",[]),angular.module("jugendstadtplan.startseite",["ui.router","leaflet-directive"]),angular.module("jugendstadtplan.termin",[]),angular.module("jugendstadtplan.traeger",["ui.router","jugendstadtplan.links","jugendstadtplan.ansprechpartner","jugendstadtplan.login"]);var Jugendstadtplan=Jugendstadtplan||{};Jugendstadtplan.Controllers=angular.module("jugendstadtplan.controllers",[]),angular.module("jugendstadtplan",["ngResource","ngSanitize","ui.router","leaflet-directive","textAngular","ngFileUpload","jugendstadtplan.templates","jugendstadtplan.login","jugendstadtplan.api","jugendstadtplan.startseite","jugendstadtplan.pins","jugendstadtplan.traeger","jugendstadtplan.controllers"]).config(function(e,n){n.otherwise("/startseite")}).run(function(){}).controller("AppCtrl",["$scope","$location",function(e,n){e.$on("$stateChangeSuccess",function(n,t,r,a,l){angular.isDefined(t.data.pageTitle)&&(e.pageTitle=t.data.pageTitle+" | Jugendstadtplan")})}]),angular.module("plusOne",[]).directive("plusOne",function(){return{link:function(e,n,t){gapi.plusone.render(n[0],{size:"medium",href:"http://bit.ly/ngBoilerplate"})}}});var jugendstadtplanApi=angular.module("jugendstadtplan.api",["ngResource"]),backendPrefix="http://api.jugendstadtplan.dev";jugendstadtplanApi.provider("Pin",function(){this.$get=["$resource",function(e){var n=backendPrefix+"/pins";return e(n,{},{get:{method:"GET",url:n+"/:id",params:{id:"@id"}},update:{method:"PUT",url:n+"/update/:id",params:{id:"@id"},interceptor:LoginInterceptor},save:{method:"POST",url:n+"/create",interceptor:LoginInterceptor},"delete":{method:"DELETE",url:n+"/delete/:id",params:{id:"@id"},interceptor:LoginInterceptor}})}]}),jugendstadtplanApi.provider("Traeger",function(){this.$get=["$resource",function(e){var n=backendPrefix+"/traeger";return e(n,{},{get:{method:"GET",url:n+"/:id",params:{id:"@id"}},update:{method:"PUT",url:n+"/update/:id",params:{id:"@id"},interceptor:LoginInterceptor},save:{method:"POST",url:n+"/create"},"delete":{method:"DELETE",url:n+"/delete/:id",params:{id:"@id"},interceptor:LoginInterceptor},login:{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},url:backendPrefix+"/authentication/traeger_check",transformRequest:function(e,n){var t=[];for(var r in e)t.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t.join("&")}}})}]}),jugendstadtplanApi.provider("Kategorie",function(){this.$get=["$resource",function(e){var n=backendPrefix+"/kategorie";return e(n)}]}),Jugendstadtplan.Controllers.controller("AnsprechpartnerFormController",["$scope",function(e){e.newAnsprechpartner={},e.addAnsprechpartner=function(){void 0===e.model.ansprechpartner&&(e.model.ansprechpartner=[]),e.model.ansprechpartner.push(e.newAnsprechpartner),e.newAnsprechpartner={}},e.isAnsprechpartnerValid=function(e){return void 0===e.name||0===e.name.length?!1:void 0!==e.email&&0!==e.email.length}}]),angular.module("jugendstadtplan.pins").config(function(e){e.state("Detail: Pin",{url:"/pin/{id:[0-9]+}",views:{main:{controller:"PinDetailController",templateUrl:"app/pins/views/detail.tpl.html"}},resolve:{pinDetail:["$stateParams","Pin",function(e,n){return n.get({},{id:e.id})}]},data:{pageTitle:"Pin"}})}),Jugendstadtplan.Controllers.controller("PinDetailController",["$scope","pinDetail",function(e,n){e.markers=[],e.center={lat:50.732829246726,lng:7.0937004090117,zoom:13},n.$promise.then(function(){e.pin=n,angular.extend(e,{defaults:{scrollWheelZoom:!1}}),e.center={lat:n.latitude,lng:n.longitude,zoom:15};var t={lat:n.latitude,lng:n.longitude,title:n.titel,focus:!0,message:"<h3>"+n.titel+"</h3>"+n.beschreibung};e.markers.push(t)},function(){angular.extend(e,{defaults:{scrollWheelZoom:!1}})})}]),angular.module("jugendstadtplan.pins").config(function(e){e.state("Form: Pin",{url:"/pin/create",views:{main:{controller:"PinFormController",templateUrl:"app/pins/views/form.tpl.html"}},data:{pageTitle:"Pin erstellen"}})}),Jugendstadtplan.Controllers.controller("PinFormController",["$scope","$location","Pin","Traeger","Kategorie",function(e,n,t,r,a){e.kategorien=a.query(),e.pin=new t,e.pins=t.query(),e.traegers=r.query(),angular.extend(e,{center:{lat:50.732829246726,lng:7.0937004090117,zoom:13},defaults:{scrollWheelZoom:!1},events:{}}),e.pin.markers=[],e.$on("leafletDirectiveMap.click",function(n,t){var r=t.leafletEvent;e.pin.markers[0]={lat:r.latlng.lat,lng:r.latlng.lng,draggable:!0,focus:!0}}),e.newPin=function(){e.pin=new t,e.pin.markers=[],e.editing=!1},e.save=function(){e.pin.id?t.update(e.pin):e.pin.$save().then(function(n){e.pins.push(n)}),e.newPin()},e.setActivePin=function(n){e.pin=n,e.pin.markers=[],null!=n.longitude&&(e.pin.markers[0]={lat:n.latitude,lng:n.longitude,draggable:!0,focus:!0}),e.editing=!0},e.remove=function(n){t["delete"](n,function(){var t=e.pins.indexOf(n);-1!=t&&e.pins.splice(t,1)})},e.barrierefreiheitsgrade=["Gut","Teilweise","Nicht barrierefrei"],e.kostenarten=["Kostenlos","Kostenpflichtig"],e.mindestalters=["ab 12","ab 16","ab 18","ab 21"]}]),angular.module("jugendstadtplan.pins").config(function(e){e.state("Liste: Pin",{url:"/pins",views:{main:{controller:"PinsController",templateUrl:"app/pins/views/list.tpl.html"}},data:{pageTitle:"Pins"}})}),Jugendstadtplan.Controllers.controller("PinsController",["$scope","$location","Pin",function(e,n,t){e.pins=t.query(),e.viewPin=function(e){n.path("/pin/"+e.id)}}]),Jugendstadtplan.Controllers.controller("LinksFormController",["$scope",function(e){e.newLink={},e.addLink=function(){void 0===e.model.links&&(e.model.links=[]),e.model.links.push(e.newLink),e.newLink={}},e.isLinkValid=function(e){return void 0===e.titel||0===e.titel.length?!1:void 0!==e.url&&0!==e.url.length}}]),angular.module("jugendstadtplan.startseite").config(function(e){e.state("Startseite",{url:"/startseite",views:{main:{controller:"StartseiteController",templateUrl:"app/startseite/views/startseite.tpl.html"}},data:{pageTitle:"Startseite"}})}),angular.module("jugendstadtplan.startseite").controller("StartseiteController",["$scope","$location","Pin",function(e,n,t){angular.extend(e,{center:{lat:50.732829246726,lng:7.0937004090117,zoom:13},defaults:{scrollWheelZoom:!1}}),e.markers=[],t.query(function(n){angular.forEach(n,function(n){if(null!=n.longitude){var t={lat:n.latitude,lng:n.longitude,title:n.titel,message:"<h3>"+n.titel+"</h3>"+n.beschreibung+'<small><a href="/#/pin/'+n.id+'">Mehr</a></small>'};e.markers.push(t)}})})}]),Jugendstadtplan.Controllers.controller("TerminFormController",["$scope",function(e){e.wochentage=["Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"],e.newTermin={},e.addTermin=function(){void 0===e.pin.termine&&(e.pin.termine=[]),e.pin.termine.push(e.newTermin),e.newTermin={}},e.isTerminValid=function(e){return void 0===e.beginn||0===e.beginn?!1:e.ganztaegig===!0||void 0!==e.beginn_uhrzeit&&0!==e.beginn_uhrzeit},e.woche_des_monats=[{id:0,label:"Jede Woche"},{id:1,label:"Jede 1. Woche"},{id:2,label:"Jede 2. Woche"},{id:3,label:"Jede 3. Woche"},{id:4,label:"Jede 4. Woche"},{id:5,label:"Jede 5. Woche"}],e.newWiederholung={},e.addWiederholung=function(){void 0===e.newTermin.wiederholungen&&(e.newTermin.wiederholungen=[]),e.newTermin.wiederholungen.push(e.newWiederholung),e.newWiederholung={}},e.isWiederholungValid=function(e){return void 0!==e.wochentag&&0!==e.wochentag}}]),angular.module("jugendstadtplan.traeger").config(function(e){e.state("Liste: Traeger",{url:"/traeger",views:{main:{controller:"TraegerController",templateUrl:"app/traeger/views/liste.tpl.html"}},data:{pageTitle:"Träger"}})}),Jugendstadtplan.Controllers.controller("TraegerController",["$scope","$location","Traeger",function(e,n,t){e.traeger=t.query(),e.viewTraeger=function(e){n.path("/traeger/"+e.id)}}]),angular.module("jugendstadtplan.traeger").config(function(e){e.state("Detail: Traeger",{url:"/traeger/{id:[0-9]+}",views:{main:{controller:"TraegerDetailController",templateUrl:"app/traeger/views/detail.tpl.html"}},resolve:{traegerDetail:["$stateParams","Traeger",function(e,n){return n.get({},{id:e.id})}]},data:{pageTitle:"Träger"}})}),Jugendstadtplan.Controllers.controller("TraegerDetailController",["$scope","traegerDetail",function(e,n){e.traeger=n,angular.extend(e,{center:{lat:50.732829246726,lng:7.0937004090117,zoom:13},defaults:{scrollWheelZoom:!1}}),e.markers=[],n.$promise.then(function(){angular.forEach(n.pins,function(n,t){var r={lat:n.latitude,lng:n.longitude,title:n.titel,message:"<h3>"+n.titel+"</h3>"+n.beschreibung+'<small><a href="/#/pin/'+n.id+'">Mehr</a></small>'};e.markers.push(r)})})}]),angular.module("jugendstadtplan.traeger").config(function(e){e.state("Form: Traeger",{url:"/traeger/create",views:{main:{controller:"TraegerFormController",templateUrl:"app/traeger/views/form.tpl.html"}},data:{pageTitle:"Träger erstellen"}})}),Jugendstadtplan.Controllers.controller("TraegerFormController",["$scope","$location","Traeger","Kategorie","Upload",function(e,n,t,r,a){e.kategorien=r.query(),e.traeger=new t,e.traegers=t.query(),e.newTraeger=function(){e.traeger=new t,e.editing=!1},e.save=function(){e.traeger.id?t.update(e.traeger).then(function(){e.newTraeger()},function(){alert("Ein Träger mit dieser Email-Adresse existiert bereits!")}):e.traeger.$save().then(function(n){e.traegers.push(n),e.newTraeger()},function(){alert("Ein Träger mit dieser Email-Adresse existiert bereits!")})},e.setActiveTraeger=function(n){e.traeger=n,e.editing=!0},e.remove=function(n){t["delete"](n,function(){var t=e.traegers.indexOf(n);-1!=t&&e.traegers.splice(t,1)})},e.onFileSelect=function(n){for(var t=function(n){a.upload({url:"app_dev.php/img/upload",method:"POST",data:{myObj:e.myModelObj},file:n}).progress(function(e){console.log("percent: "+parseInt(100*e.loaded/e.total))}).success(function(t,r,a,l){void 0===e.traeger.bilder&&(e.traeger.bilder=[]),n.tmp_name=t.folder,e.traeger.bilder.push(n)})},r=0;r<n.length;r++){var l=n[r];e.upload=t(l)}},e.newAdresse={},e.addAdresse=function(){void 0===e.traeger.adressen&&(e.traeger.adressen=[]),e.traeger.adressen.push(e.newAdresse),e.newAdresse={}},e.isAdresseValid=function(e){return void 0===e.strasse||0===e.strasse.length?!1:void 0!==e.ort&&0!==e.ort.length}}]),angular.module("jugendstadtplan.traeger").config(function(e){e.state("Login: Traeger",{url:"/traeger/login",views:{main:{controller:"TraegerLoginController",templateUrl:"app/traeger/views/login.tpl.html"}},data:{pageTitle:"Einloggen"}})}),Jugendstadtplan.Controllers.controller("TraegerLoginController",["$scope","$state","$window","LoginService","Traeger",function(e,n,t,r,a){e.traeger=new a,e.login=function(){e.traeger.$login().then(function(e){t.localStorage.token=e.token,r.setLoggedIn(!0),n.go("Startseite")},function(n){e.error={msg:"Authentifizierung fehlgeschlagen!"}})}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi9yZXNvdXJjZXMvSnVnZW5kc3RhZHRwbGFuQXBpLmpzIiwiY29tbW9uL3Jlc291cmNlcy9Mb2dpblNlcnZpY2UuanMiLCJhcHAvYW5zcHJlY2hwYXJ0bmVyL0Fuc3ByZWNocGFydG5lck1vZHVsZS5qcyIsImFwcC9waW5zL1BpbnNNb2R1bGUuanMiLCJhcHAvbGlua3MvTGlua3NNb2R1bGUuanMiLCJhcHAvc3RhcnRzZWl0ZS9TdGFydHNlaXRlTW9kdWxlLmpzIiwiYXBwL3Rlcm1pbi9UZXJtaW5Nb2R1bGUuanMiLCJhcHAvdHJhZWdlci9UcmFlZ2VyTW9kdWxlLmpzIiwiYXBwL2FwcC5qcyIsImNvbW1vbi9wbHVzT25lL3BsdXNPbmUuanMiLCJhcHAvYW5zcHJlY2hwYXJ0bmVyL0Fuc3ByZWNocGFydG5lckZvcm1Db250cm9sbGVyLmpzIiwiYXBwL3BpbnMvUGluRGV0YWlsQ29udHJvbGxlci5qcyIsImFwcC9waW5zL1BpbkZvcm1Db250cm9sbGVyLmpzIiwiYXBwL3BpbnMvUGluc0NvbnRyb2xsZXIuanMiLCJhcHAvbGlua3MvTGlua3NGb3JtQ29udHJvbGxlci5qcyIsImFwcC9zdGFydHNlaXRlL1N0YXJ0c2VpdGVDb250cm9sbGVyLmpzIiwiYXBwL3Rlcm1pbi9UZXJtaW5Gb3JtQ29udHJvbGxlci5qcyIsImFwcC90cmFlZ2VyL1RyYWVnZXJDb250cm9sbGVyLmpzIiwiYXBwL3RyYWVnZXIvVHJhZWdlckRldGFpbENvbnRyb2xsZXIuanMiLCJhcHAvdHJhZWdlci9UcmFlZ2VyRm9ybUNvbnRyb2xsZXIuanMiLCJhcHAvdHJhZWdlci9UcmFlZ2VyTG9naW5Db250cm9sbGVyLmpzIl0sIm5hbWVzIjpbIkxvZ2luSW50ZXJjZXB0b3IiLCIkd2luZG93IiwicmVxdWVzdCIsImNvbmZpZyIsImxvY2FsU3RvcmFnZSIsInRva2VuIiwiaGVhZGVycyIsIkF1dGhvcml6YXRpb24iLCJqdWdlbmRzdGFkdHBsYW5Mb2dpbiIsImFuZ3VsYXIiLCJtb2R1bGUiLCJzZXJ2aWNlIiwiYXV0aGVudGljYXRlZCIsImlzTG9nZ2VkSW4iLCJzZXRMb2dnZWRJbiIsImxvZ2dlZEluIiwiSnVnZW5kc3RhZHRwbGFuIiwiQ29udHJvbGxlcnMiLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIm90aGVyd2lzZSIsInJ1biIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCIkbG9jYXRpb24iLCIkb24iLCJldmVudCIsInRvU3RhdGUiLCJ0b1BhcmFtcyIsImZyb21TdGF0ZSIsImZyb21QYXJhbXMiLCJpc0RlZmluZWQiLCJkYXRhIiwicGFnZVRpdGxlIiwiZGlyZWN0aXZlIiwibGluayIsInNjb3BlIiwiZWxlbWVudCIsImF0dHJzIiwiZ2FwaSIsInBsdXNvbmUiLCJyZW5kZXIiLCJzaXplIiwiaHJlZiIsImp1Z2VuZHN0YWR0cGxhbkFwaSIsImJhY2tlbmRQcmVmaXgiLCJwcm92aWRlciIsInRoaXMiLCIkZ2V0IiwiJHJlc291cmNlIiwiYmFja2VuZFVybCIsImdldCIsIm1ldGhvZCIsInVybCIsInBhcmFtcyIsImlkIiwidXBkYXRlIiwiaW50ZXJjZXB0b3IiLCJzYXZlIiwiZGVsZXRlIiwibG9naW4iLCJDb250ZW50LVR5cGUiLCJ0cmFuc2Zvcm1SZXF1ZXN0IiwiaGVhZGVyc0dldHRlciIsInN0ciIsImQiLCJwdXNoIiwiZW5jb2RlVVJJQ29tcG9uZW50Iiwiam9pbiIsIm5ld0Fuc3ByZWNocGFydG5lciIsImFkZEFuc3ByZWNocGFydG5lciIsInVuZGVmaW5lZCIsIm1vZGVsIiwiYW5zcHJlY2hwYXJ0bmVyIiwiaXNBbnNwcmVjaHBhcnRuZXJWYWxpZCIsIm5hbWUiLCJsZW5ndGgiLCJlbWFpbCIsInN0YXRlIiwidmlld3MiLCJtYWluIiwidGVtcGxhdGVVcmwiLCJyZXNvbHZlIiwicGluRGV0YWlsIiwiJHN0YXRlUGFyYW1zIiwiUGluIiwibWFya2VycyIsImNlbnRlciIsImxhdCIsImxuZyIsInpvb20iLCIkcHJvbWlzZSIsInRoZW4iLCJwaW4iLCJleHRlbmQiLCJkZWZhdWx0cyIsInNjcm9sbFdoZWVsWm9vbSIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwibWFya2VyIiwidGl0bGUiLCJ0aXRlbCIsImZvY3VzIiwibWVzc2FnZSIsImJlc2NocmVpYnVuZyIsIlRyYWVnZXIiLCJLYXRlZ29yaWUiLCJrYXRlZ29yaWVuIiwicXVlcnkiLCJwaW5zIiwidHJhZWdlcnMiLCJldmVudHMiLCJhcmdzIiwibGVhZkV2ZW50IiwibGVhZmxldEV2ZW50IiwibGF0bG5nIiwiZHJhZ2dhYmxlIiwibmV3UGluIiwiZWRpdGluZyIsIiRzYXZlIiwicmVzcG9uc2UiLCJzZXRBY3RpdmVQaW4iLCJyZW1vdmUiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJiYXJyaWVyZWZyZWloZWl0c2dyYWRlIiwia29zdGVuYXJ0ZW4iLCJtaW5kZXN0YWx0ZXJzIiwidmlld1BpbiIsInBhdGgiLCJuZXdMaW5rIiwiYWRkTGluayIsImxpbmtzIiwiaXNMaW5rVmFsaWQiLCJmb3JFYWNoIiwiaXRlbSIsIndvY2hlbnRhZ2UiLCJuZXdUZXJtaW4iLCJhZGRUZXJtaW4iLCJ0ZXJtaW5lIiwiaXNUZXJtaW5WYWxpZCIsInRlcm1pbiIsImJlZ2lubiIsImdhbnp0YWVnaWciLCJiZWdpbm5fdWhyemVpdCIsIndvY2hlX2Rlc19tb25hdHMiLCJsYWJlbCIsIm5ld1dpZWRlcmhvbHVuZyIsImFkZFdpZWRlcmhvbHVuZyIsIndpZWRlcmhvbHVuZ2VuIiwiaXNXaWVkZXJob2x1bmdWYWxpZCIsIndpZWRlcmhvbHVuZyIsIndvY2hlbnRhZyIsInRyYWVnZXIiLCJ2aWV3VHJhZWdlciIsInRyYWVnZXJEZXRhaWwiLCJrZXkiLCJVcGxvYWQiLCJuZXdUcmFlZ2VyIiwiYWxlcnQiLCJzZXRBY3RpdmVUcmFlZ2VyIiwib25GaWxlU2VsZWN0IiwiJGZpbGVzIiwiZG9VcGxvYWQiLCJmaWxlIiwidXBsb2FkIiwibXlPYmoiLCJteU1vZGVsT2JqIiwicHJvZ3Jlc3MiLCJldnQiLCJjb25zb2xlIiwibG9nIiwicGFyc2VJbnQiLCJsb2FkZWQiLCJ0b3RhbCIsInN1Y2Nlc3MiLCJzdGF0dXMiLCJiaWxkZXIiLCJ0bXBfbmFtZSIsImZvbGRlciIsImkiLCJuZXdBZHJlc3NlIiwiYWRkQWRyZXNzZSIsImFkcmVzc2VuIiwiaXNBZHJlc3NlVmFsaWQiLCJhZHJlc3NlIiwic3RyYXNzZSIsIm9ydCIsIiRzdGF0ZSIsIkxvZ2luU2VydmljZSIsIiRsb2dpbiIsImdvIiwiZXJyb3IiLCJtc2ciXSwibWFwcGluZ3MiOiJBQUVBLFFBQUFBLGtCQUFBQyxHQUNBLE9BQ0FDLFFBQUEsU0FBQUMsR0FLQSxNQUpBRixHQUFBRyxhQUFBQyxRQUNBRixFQUFBRyxRQUFBQyxjQUFBLFVBQUFOLEVBQUFHLGFBQUFDLE9BR0FGLElDVEEsR0FBQUssc0JBQUFDLFFBQUFDLE9BQUEsMkJBRUFGLHNCQUFBRyxRQUFBLGVBQUEsV0FDQSxHQUFBQyxJQUFBLENBRUEsUUFDQUMsV0FBQSxXQUNBLE1BQUFELElBR0FFLFlBQUEsU0FBQUMsR0FDQUgsRUFBQUcsTUNYQU4sUUFBQUMsT0FBQSxzQ0NBQUQsUUFBQUMsT0FBQSx3QkFDQSxZQUNBLHdCQUNBLGtDQUNBLDJCQ0pBRCxRQUFBQyxPQUFBLDRCQ0FBRCxRQUFBQyxPQUFBLDhCQUNBLFlBQ0Esc0JDRkFELFFBQUFDLE9BQUEsNkJDQUFELFFBQUFDLE9BQUEsMkJBQ0EsWUFDQSx3QkFDQSxrQ0FDQSx5QkNKQSxJQUFBTSxpQkFBQUEsbUJBQ0FBLGlCQUFBQyxZQUFBUixRQUFBQyxPQUFBLGtDQUVBRCxRQUFBQyxPQUFBLG1CQUNBLGFBQ0EsYUFDQSxZQUNBLG9CQUNBLGNBQ0EsZUFDQSw0QkFDQSx3QkFDQSxzQkFDQSw2QkFDQSx1QkFDQSwwQkFDQSxnQ0FHQVAsT0FBQSxTQUFBZSxFQUFBQyxHQUNBQSxFQUFBQyxVQUFBLGlCQUdBQyxJQUFBLGNBR0FDLFdBQUEsV0FBQSxTQUFBLFlBQUEsU0FBQUMsRUFBQUMsR0FDQUQsRUFBQUUsSUFBQSxzQkFBQSxTQUFBQyxFQUFBQyxFQUFB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QWhILEtBQUFtRyxNQVFBZ0IsRUFBQSxFQUFBQSxFQUFBbEIsRUFBQXZGLE9BQUF5RyxJQUFBLENBQ0EsR0FBQWhCLEdBQUFGLEVBQUFrQixFQUNBOUosR0FBQStJLE9BQUFGLEVBQUFDLEtBTUE5SSxFQUFBK0osY0FDQS9KLEVBQUFnSyxXQUFBLFdBQ0FoSCxTQUFBaEQsRUFBQW1JLFFBQUE4QixXQUNBakssRUFBQW1JLFFBQUE4QixhQUVBakssRUFBQW1JLFFBQUE4QixTQUFBdEgsS0FBQTNDLEVBQUErSixZQUNBL0osRUFBQStKLGVBR0EvSixFQUFBa0ssZUFBQSxTQUFBQyxHQUNBLE1BQUFuSCxVQUFBbUgsRUFBQUMsU0FBQSxJQUFBRCxFQUFBQyxRQUFBL0csUUFDQSxFQUNBTCxTQUFBbUgsRUFBQUUsS0FBQSxJQUFBRixFQUFBRSxJQUFBaEgsV0M3R0FuRSxRQUFBQyxPQUFBLDJCQUFBUCxPQUFBLFNBQUFlLEdBRUFBLEVBQUE0RCxNQUFBLGtCQUNBekIsSUFBQSxpQkFDQTBCLE9BQ0FDLE1BQ0ExRCxXQUFBLHlCQUNBMkQsWUFBQSxxQ0FHQWpELE1BQUFDLFVBQUEsaUJBS0FqQixnQkFBQUMsWUFBQUssV0FBQSwwQkFBQSxTQUFBLFNBQUEsVUFBQSxlQUFBLFVBQUEsU0FBQUMsRUFBQXNLLEVBQUE1TCxFQUFBNkwsRUFBQXJGLEdBRUFsRixFQUFBbUksUUFBQSxHQUFBakQsR0FFQWxGLEVBQUFxQyxNQUFBLFdBQ0FyQyxFQUFBbUksUUFBQXFDLFNBQ0FuRyxLQUFBLFNBQUE0QixHQUNBdkgsRUFBQUcsYUFBQUMsTUFBQW1ILEVBQUFuSCxNQUNBeUwsRUFBQWhMLGFBQUEsR0FFQStLLEVBQUFHLEdBQUEsZUFDQSxTQUFBQyxHQUNBMUssRUFBQTBLLE9BQ0FDLElBQUEiLCJmaWxlIjoianVnZW5kc3RhZHRwbGFuLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBqdWdlbmRzdGFkdHBsYW5BcGkgPSBhbmd1bGFyLm1vZHVsZSgnanVnZW5kc3RhZHRwbGFuLmFwaScsIFsnbmdSZXNvdXJjZSddKTtcblxuZnVuY3Rpb24gTG9naW5JbnRlcmNlcHRvcigkd2luZG93KXtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXF1ZXN0OiBmdW5jdGlvbihjb25maWcpIHtcbiAgICAgICAgICAgIGlmICgkd2luZG93LmxvY2FsU3RvcmFnZS50b2tlbikge1xuICAgICAgICAgICAgICAgIGNvbmZpZy5oZWFkZXJzLkF1dGhvcml6YXRpb24gPSAnQmVhcmVyICcgKyAkd2luZG93LmxvY2FsU3RvcmFnZS50b2tlbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICAgICAgfVxuICAgIH1cbn1cblxudmFyIGJhY2tlbmRQcmVmaXggPSAnaHR0cDovL2FwaS5qdWdlbmRzdGFkdHBsYW4uZGV2JztcblxuanVnZW5kc3RhZHRwbGFuQXBpLnByb3ZpZGVyKCdQaW4nLCBmdW5jdGlvbigpIHtcbiAgICB0aGlzLiRnZXQgPSBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcbiAgICAgICAgdmFyIGJhY2tlbmRVcmwgPSBiYWNrZW5kUHJlZml4ICsgJy9waW5zJztcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShiYWNrZW5kVXJsLCB7fSwge1xuICAgICAgICAgICAgZ2V0OiB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICB1cmw6IGJhY2tlbmRVcmwgKyAnLzppZCcsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7IGlkOidAaWQnfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVwZGF0ZToge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICAgICAgdXJsOiBiYWNrZW5kVXJsICsgJy91cGRhdGUvOmlkJyxcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHsgaWQ6J0BpZCd9LFxuICAgICAgICAgICAgICAgIGludGVyY2VwdG9yOiBMb2dpbkludGVyY2VwdG9yXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2F2ZToge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIHVybDogYmFja2VuZFVybCArICcvY3JlYXRlJyxcbiAgICAgICAgICAgICAgICBpbnRlcmNlcHRvcjogTG9naW5JbnRlcmNlcHRvclxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlbGV0ZToge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgICAgICAgICAgdXJsOiBiYWNrZW5kVXJsICsgJy9kZWxldGUvOmlkJyxcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHsgaWQ6J0BpZCd9LFxuICAgICAgICAgICAgICAgIGludGVyY2VwdG9yOiBMb2dpbkludGVyY2VwdG9yXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1dO1xufSk7XG5cbmp1Z2VuZHN0YWR0cGxhbkFwaS5wcm92aWRlcignVHJhZWdlcicsIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuJGdldCA9IFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xuICAgICAgICB2YXIgYmFja2VuZFVybCA9IGJhY2tlbmRQcmVmaXggKyAnL3RyYWVnZXInO1xuICAgICAgICByZXR1cm4gJHJlc291cmNlKGJhY2tlbmRVcmwsIHt9LCB7XG4gICAgICAgICAgICBnZXQ6IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgICAgIHVybDogYmFja2VuZFVybCArICcvOmlkJyxcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHsgaWQ6J0BpZCd9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdXBkYXRlOiB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgICAgICB1cmw6IGJhY2tlbmRVcmwgKyAnL3VwZGF0ZS86aWQnLFxuICAgICAgICAgICAgICAgIHBhcmFtczogeyBpZDonQGlkJ30sXG4gICAgICAgICAgICAgICAgaW50ZXJjZXB0b3I6IExvZ2luSW50ZXJjZXB0b3JcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzYXZlOiB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgdXJsOiBiYWNrZW5kVXJsICsgJy9jcmVhdGUnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVsZXRlOiB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgICAgICAgICB1cmw6IGJhY2tlbmRVcmwgKyAnL2RlbGV0ZS86aWQnLFxuICAgICAgICAgICAgICAgIHBhcmFtczogeyBpZDonQGlkJ30sXG4gICAgICAgICAgICAgICAgaW50ZXJjZXB0b3I6IExvZ2luSW50ZXJjZXB0b3JcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsb2dpbjoge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCd9LFxuICAgICAgICAgICAgICAgIHVybDogYmFja2VuZFByZWZpeCArICcvYXV0aGVudGljYXRpb24vdHJhZWdlcl9jaGVjaycsXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtUmVxdWVzdDogZnVuY3Rpb24gKGRhdGEsIGhlYWRlcnNHZXR0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVHJhbnNmb3JtIEpTT04gaW50byByZWd1bGFyIGZvcm0gdmFsdWVzXG4gICAgICAgICAgICAgICAgICAgIHZhciBzdHIgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgZCBpbiBkYXRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGQpICsgXCI9XCIgKyBlbmNvZGVVUklDb21wb25lbnQoZGF0YVtkXSkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RyLmpvaW4oXCImXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfV07XG59KTtcblxuanVnZW5kc3RhZHRwbGFuQXBpLnByb3ZpZGVyKCdLYXRlZ29yaWUnLCBmdW5jdGlvbigpIHtcbiAgICB0aGlzLiRnZXQgPSBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcbiAgICAgICAgdmFyIGJhY2tlbmRVcmwgPSBiYWNrZW5kUHJlZml4ICsgJy9rYXRlZ29yaWUnO1xuICAgICAgICByZXR1cm4gJHJlc291cmNlKGJhY2tlbmRVcmwpO1xuICAgIH1dO1xufSk7IiwidmFyIGp1Z2VuZHN0YWR0cGxhbkxvZ2luID0gYW5ndWxhci5tb2R1bGUoJ2p1Z2VuZHN0YWR0cGxhbi5sb2dpbicsIFtdKTtcblxuanVnZW5kc3RhZHRwbGFuTG9naW4uc2VydmljZSgnTG9naW5TZXJ2aWNlJywgZnVuY3Rpb24oKSB7XG4gICAgdmFyIGF1dGhlbnRpY2F0ZWQgPSBmYWxzZTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGlzTG9nZ2VkSW46IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBhdXRoZW50aWNhdGVkO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldExvZ2dlZEluOiBmdW5jdGlvbiAobG9nZ2VkSW4pIHtcbiAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQgPSBsb2dnZWRJbjtcbiAgICAgICAgfVxuICAgIH1cbn0pOyIsImFuZ3VsYXIubW9kdWxlKCAnanVnZW5kc3RhZHRwbGFuLmFuc3ByZWNocGFydG5lcicsIFtcbl0pOyIsImFuZ3VsYXIubW9kdWxlKCAnanVnZW5kc3RhZHRwbGFuLnBpbnMnLCBbXG4gICd1aS5yb3V0ZXInLFxuICAnanVnZW5kc3RhZHRwbGFuLmxpbmtzJyxcbiAgJ2p1Z2VuZHN0YWR0cGxhbi5hbnNwcmVjaHBhcnRuZXInLFxuICAnanVnZW5kc3RhZHRwbGFuLnRlcm1pbidcbl0pOyIsImFuZ3VsYXIubW9kdWxlKCAnanVnZW5kc3RhZHRwbGFuLmxpbmtzJywgW1xuXSk7IiwiYW5ndWxhci5tb2R1bGUoICdqdWdlbmRzdGFkdHBsYW4uc3RhcnRzZWl0ZScsIFtcbiAgJ3VpLnJvdXRlcicsXG4gICdsZWFmbGV0LWRpcmVjdGl2ZSdcbl0pOyIsImFuZ3VsYXIubW9kdWxlKCAnanVnZW5kc3RhZHRwbGFuLnRlcm1pbicsIFtcbl0pOyIsImFuZ3VsYXIubW9kdWxlKCAnanVnZW5kc3RhZHRwbGFuLnRyYWVnZXInLCBbXG4gICd1aS5yb3V0ZXInLFxuICAnanVnZW5kc3RhZHRwbGFuLmxpbmtzJyxcbiAgJ2p1Z2VuZHN0YWR0cGxhbi5hbnNwcmVjaHBhcnRuZXInLFxuICAnanVnZW5kc3RhZHRwbGFuLmxvZ2luJ1xuXSk7IiwidmFyIEp1Z2VuZHN0YWR0cGxhbiA9IEp1Z2VuZHN0YWR0cGxhbiB8fCB7fTtcbkp1Z2VuZHN0YWR0cGxhbi5Db250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdqdWdlbmRzdGFkdHBsYW4uY29udHJvbGxlcnMnLCBbXSk7XG5cbmFuZ3VsYXIubW9kdWxlKCAnanVnZW5kc3RhZHRwbGFuJywgW1xuICAnbmdSZXNvdXJjZScsXG4gICduZ1Nhbml0aXplJyxcbiAgJ3VpLnJvdXRlcicsXG4gICdsZWFmbGV0LWRpcmVjdGl2ZScsXG4gICd0ZXh0QW5ndWxhcicsXG4gICduZ0ZpbGVVcGxvYWQnLFxuICAnanVnZW5kc3RhZHRwbGFuLnRlbXBsYXRlcycsXG4gICdqdWdlbmRzdGFkdHBsYW4ubG9naW4nLFxuICAnanVnZW5kc3RhZHRwbGFuLmFwaScsXG4gICdqdWdlbmRzdGFkdHBsYW4uc3RhcnRzZWl0ZScsXG4gICdqdWdlbmRzdGFkdHBsYW4ucGlucycsXG4gICdqdWdlbmRzdGFkdHBsYW4udHJhZWdlcicsXG4gICdqdWdlbmRzdGFkdHBsYW4uY29udHJvbGxlcnMnXG5dKVxuXG4uY29uZmlnKCBmdW5jdGlvbiBteUFwcENvbmZpZyAoICRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIgKSB7XG4gICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoICcvc3RhcnRzZWl0ZScgKTtcbn0pXG5cbi5ydW4oIGZ1bmN0aW9uIHJ1biAoKSB7XG59KVxuXG4uY29udHJvbGxlciggJ0FwcEN0cmwnLCBbICckc2NvcGUnLCAnJGxvY2F0aW9uJywgZnVuY3Rpb24gQXBwQ3RybCggJHNjb3BlLCAkbG9jYXRpb24gKXtcbiAgJHNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3VjY2VzcycsIGZ1bmN0aW9uKGV2ZW50LCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbVN0YXRlLCBmcm9tUGFyYW1zKXtcbiAgICBpZiAoIGFuZ3VsYXIuaXNEZWZpbmVkKCB0b1N0YXRlLmRhdGEucGFnZVRpdGxlICkgKSB7XG4gICAgICAkc2NvcGUucGFnZVRpdGxlID0gdG9TdGF0ZS5kYXRhLnBhZ2VUaXRsZSArICcgfCBKdWdlbmRzdGFkdHBsYW4nIDtcbiAgICB9XG4gIH0pO1xufV0pXG5cbjsiLCJhbmd1bGFyLm1vZHVsZSggJ3BsdXNPbmUnLCBbXSApXG5cbi5kaXJlY3RpdmUoICdwbHVzT25lJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgbGluazogZnVuY3Rpb24oIHNjb3BlLCBlbGVtZW50LCBhdHRycyApIHtcbiAgICAgIGdhcGkucGx1c29uZS5yZW5kZXIoIGVsZW1lbnRbMF0sIHtcbiAgICAgICAgXCJzaXplXCI6IFwibWVkaXVtXCIsXG4gICAgICAgIFwiaHJlZlwiOiBcImh0dHA6Ly9iaXQubHkvbmdCb2lsZXJwbGF0ZVwiXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59KVxuXG47XG5cbiIsIkp1Z2VuZHN0YWR0cGxhbi5Db250cm9sbGVycy5jb250cm9sbGVyKCAnQW5zcHJlY2hwYXJ0bmVyRm9ybUNvbnRyb2xsZXInLCBbICckc2NvcGUnLFxuICAgIGZ1bmN0aW9uKCRzY29wZSkge1xuXG4gICAgICAgIC8vIEFuc3ByZWNocGFydG5lclxuICAgICAgICAkc2NvcGUubmV3QW5zcHJlY2hwYXJ0bmVyID0ge307XG4gICAgICAgICRzY29wZS5hZGRBbnNwcmVjaHBhcnRuZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICgkc2NvcGUubW9kZWwuYW5zcHJlY2hwYXJ0bmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUubW9kZWwuYW5zcHJlY2hwYXJ0bmVyID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkc2NvcGUubW9kZWwuYW5zcHJlY2hwYXJ0bmVyLnB1c2goJHNjb3BlLm5ld0Fuc3ByZWNocGFydG5lcik7XG4gICAgICAgICAgICAkc2NvcGUubmV3QW5zcHJlY2hwYXJ0bmVyID0ge307XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmlzQW5zcHJlY2hwYXJ0bmVyVmFsaWQgPSBmdW5jdGlvbihhbnNwcmVjaHBhcnRuZXIpIHtcbiAgICAgICAgICAgIGlmIChhbnNwcmVjaHBhcnRuZXIubmFtZSA9PT0gdW5kZWZpbmVkIHx8IGFuc3ByZWNocGFydG5lci5uYW1lLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYW5zcHJlY2hwYXJ0bmVyLmVtYWlsID09PSB1bmRlZmluZWQgfHwgYW5zcHJlY2hwYXJ0bmVyLmVtYWlsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9O1xuXG4gICAgfV0pOyIsImFuZ3VsYXIubW9kdWxlKCdqdWdlbmRzdGFkdHBsYW4ucGlucycpLmNvbmZpZyhmdW5jdGlvbiBjb25maWcoICRzdGF0ZVByb3ZpZGVyICkge1xuICBcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoICdEZXRhaWw6IFBpbicsIHtcbiAgICB1cmw6ICcvcGluL3tpZDpbMC05XSt9JyxcbiAgICB2aWV3czoge1xuICAgICAgXCJtYWluXCI6IHtcbiAgICAgICAgY29udHJvbGxlcjogJ1BpbkRldGFpbENvbnRyb2xsZXInLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC9waW5zL3ZpZXdzL2RldGFpbC50cGwuaHRtbCdcbiAgICAgIH1cbiAgICB9LFxuICAgIHJlc29sdmU6IHtcbiAgICAgIHBpbkRldGFpbDogWyAnJHN0YXRlUGFyYW1zJywgJ1BpbicsIGZ1bmN0aW9uKCRzdGF0ZVBhcmFtcywgUGluKSB7XG4gICAgICAgIHJldHVybiBQaW4uZ2V0KHt9LHtpZDogJHN0YXRlUGFyYW1zLmlkfSk7XG4gICAgICB9XVxuICAgIH0sXG4gICAgZGF0YTp7IHBhZ2VUaXRsZTogJ1BpbicgfVxuICB9KTtcblxufSk7XG5cbkp1Z2VuZHN0YWR0cGxhbi5Db250cm9sbGVycy5jb250cm9sbGVyKCAnUGluRGV0YWlsQ29udHJvbGxlcicsIFsgJyRzY29wZScsICdwaW5EZXRhaWwnLCBmdW5jdGlvbiBQaW5EZXRhaWxDb250cm9sbGVyKCAkc2NvcGUsIHBpbkRldGFpbCApIHtcbiAgICAkc2NvcGUubWFya2VycyA9IFtdO1xuICAgICRzY29wZS5jZW50ZXIgPSB7XG4gICAgICAgIGxhdDogNTAuNzMyODI5MjQ2NzI2LFxuICAgICAgICBsbmc6IDcuMDkzNzAwNDA5MDExNyxcbiAgICAgICAgem9vbTogMTNcbiAgICB9O1xuXG4gICAgcGluRGV0YWlsLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkc2NvcGUucGluID0gcGluRGV0YWlsO1xuXG4gICAgICAgICAgICBhbmd1bGFyLmV4dGVuZCgkc2NvcGUsIHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0czoge1xuICAgICAgICAgICAgICAgICAgICBzY3JvbGxXaGVlbFpvb206IGZhbHNlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICRzY29wZS5jZW50ZXIgPSB7XG4gICAgICAgICAgICAgICAgbGF0OiBwaW5EZXRhaWwubGF0aXR1ZGUsXG4gICAgICAgICAgICAgICAgbG5nOiBwaW5EZXRhaWwubG9uZ2l0dWRlLFxuICAgICAgICAgICAgICAgIHpvb206IDE1XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgbWFya2VyID0ge1xuICAgICAgICAgICAgICAgIGxhdDogcGluRGV0YWlsLmxhdGl0dWRlLFxuICAgICAgICAgICAgICAgIGxuZzogcGluRGV0YWlsLmxvbmdpdHVkZSxcbiAgICAgICAgICAgICAgICB0aXRsZTogcGluRGV0YWlsLnRpdGVsLFxuICAgICAgICAgICAgICAgIGZvY3VzOiB0cnVlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICc8aDM+JyArIHBpbkRldGFpbC50aXRlbCArICc8L2gzPicgKyBwaW5EZXRhaWwuYmVzY2hyZWlidW5nLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICRzY29wZS5tYXJrZXJzLnB1c2gobWFya2VyKTtcbiAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBhbmd1bGFyLmV4dGVuZCgkc2NvcGUsIHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0czoge1xuICAgICAgICAgICAgICAgICAgICBzY3JvbGxXaGVlbFpvb206IGZhbHNlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICApO1xufV0pOyIsImFuZ3VsYXIubW9kdWxlKCdqdWdlbmRzdGFkdHBsYW4ucGlucycpLmNvbmZpZyhmdW5jdGlvbiBjb25maWcoICRzdGF0ZVByb3ZpZGVyICkge1xuXG4gICAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoICdGb3JtOiBQaW4nLCB7XG4gICAgICAgIHVybDogJy9waW4vY3JlYXRlJyxcbiAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgIFwibWFpblwiOiB7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ1BpbkZvcm1Db250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC9waW5zL3ZpZXdzL2Zvcm0udHBsLmh0bWwnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGRhdGE6eyBwYWdlVGl0bGU6ICdQaW4gZXJzdGVsbGVuJyB9XG4gICAgfSk7XG5cbn0pO1xuXG5KdWdlbmRzdGFkdHBsYW4uQ29udHJvbGxlcnMuY29udHJvbGxlciggJ1BpbkZvcm1Db250cm9sbGVyJywgWyAnJHNjb3BlJywgJyRsb2NhdGlvbicsICdQaW4nLCAnVHJhZWdlcicsICdLYXRlZ29yaWUnLCBmdW5jdGlvbiBQaW5Gb3JtQ29udHJvbGxlciggJHNjb3BlLCAkbG9jYXRpb24sIFBpbiwgVHJhZWdlciwgS2F0ZWdvcmllICkge1xuICAgICRzY29wZS5rYXRlZ29yaWVuID0gS2F0ZWdvcmllLnF1ZXJ5KCk7XG4gICAgJHNjb3BlLnBpbiA9IG5ldyBQaW4oKTtcbiAgICAkc2NvcGUucGlucyA9IFBpbi5xdWVyeSgpO1xuICAgICRzY29wZS50cmFlZ2VycyA9IFRyYWVnZXIucXVlcnkoKTtcblxuICAgIGFuZ3VsYXIuZXh0ZW5kKCRzY29wZSwge1xuICAgICAgICBjZW50ZXI6IHtcbiAgICAgICAgICAgIGxhdDogNTAuNzMyODI5MjQ2NzI2LFxuICAgICAgICAgICAgbG5nOiA3LjA5MzcwMDQwOTAxMTcsXG4gICAgICAgICAgICB6b29tOiAxM1xuICAgICAgICB9LFxuICAgICAgICBkZWZhdWx0czoge1xuICAgICAgICAgICAgc2Nyb2xsV2hlZWxab29tOiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICBldmVudHM6IHt9XG4gICAgfSk7XG5cbiAgICAkc2NvcGUucGluLm1hcmtlcnMgPSBbXTtcbiAgICAkc2NvcGUuJG9uKFwibGVhZmxldERpcmVjdGl2ZU1hcC5jbGlja1wiLCBmdW5jdGlvbihldmVudCwgYXJncyl7XG4gICAgICAgIHZhciBsZWFmRXZlbnQgPSBhcmdzLmxlYWZsZXRFdmVudDtcblxuICAgICAgICAkc2NvcGUucGluLm1hcmtlcnNbMF0gPSB7XG4gICAgICAgICAgICBsYXQ6IGxlYWZFdmVudC5sYXRsbmcubGF0LFxuICAgICAgICAgICAgbG5nOiBsZWFmRXZlbnQubGF0bG5nLmxuZyxcbiAgICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGZvY3VzOiB0cnVlXG4gICAgICAgIH07XG4gICAgfSk7XG5cbiAgICAkc2NvcGUubmV3UGluID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICRzY29wZS5waW4gPSBuZXcgUGluKCk7XG4gICAgICAgICRzY29wZS5waW4ubWFya2VycyA9IFtdO1xuICAgICAgICAkc2NvcGUuZWRpdGluZyA9IGZhbHNlO1xuICAgIH07XG5cbiAgICAkc2NvcGUuc2F2ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoJHNjb3BlLnBpbi5pZCkge1xuICAgICAgICAgICAgUGluLnVwZGF0ZSgkc2NvcGUucGluKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICRzY29wZS5waW4uJHNhdmUoKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnBpbnMucHVzaChyZXNwb25zZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAkc2NvcGUubmV3UGluKCk7XG4gICAgfTtcblxuICAgICRzY29wZS5zZXRBY3RpdmVQaW4gPSBmdW5jdGlvbihwaW4pIHtcbiAgICAgICAgJHNjb3BlLnBpbiA9IHBpbjtcbiAgICAgICAgJHNjb3BlLnBpbi5tYXJrZXJzID0gW107XG4gICAgICAgIGlmIChwaW4ubG9uZ2l0dWRlICE9IG51bGwpIHtcbiAgICAgICAgICAgICRzY29wZS5waW4ubWFya2Vyc1swXSA9IHtcbiAgICAgICAgICAgICAgICBsYXQ6IHBpbi5sYXRpdHVkZSxcbiAgICAgICAgICAgICAgICBsbmc6IHBpbi5sb25naXR1ZGUsXG4gICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGZvY3VzOiB0cnVlXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgICRzY29wZS5lZGl0aW5nID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLnJlbW92ZSA9IGZ1bmN0aW9uKHBpbikge1xuICAgICAgICBQaW4uZGVsZXRlKHBpbiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSAkc2NvcGUucGlucy5pbmRleE9mKHBpbik7XG4gICAgICAgICAgICBpZiAoaW5kZXggIT0gLTEpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUucGlucy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG5cbiAgICAvLyBCYXJyaWVyZWZyZWloZWl0c2dyYWRlXG4gICAgJHNjb3BlLmJhcnJpZXJlZnJlaWhlaXRzZ3JhZGUgPSBbICdHdXQnLCAnVGVpbHdlaXNlJywgJ05pY2h0IGJhcnJpZXJlZnJlaScgXTtcblxuXG4gICAgLy8gS29zdGVuYXJ0ZW5cbiAgICAkc2NvcGUua29zdGVuYXJ0ZW4gPSBbICdLb3N0ZW5sb3MnLCAnS29zdGVucGZsaWNodGlnJyBdO1xuXG5cbiAgICAvLyBNaW5kZXN0YWx0ZXJcbiAgICAkc2NvcGUubWluZGVzdGFsdGVycyA9IFsgJ2FiIDEyJywgJ2FiIDE2JywgJ2FiIDE4JywgJ2FiIDIxJyBdO1xuXG5cblxufV0pOyIsImFuZ3VsYXIubW9kdWxlKCdqdWdlbmRzdGFkdHBsYW4ucGlucycpLmNvbmZpZyhmdW5jdGlvbiBjb25maWcoICRzdGF0ZVByb3ZpZGVyICkge1xuICBcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoICdMaXN0ZTogUGluJywge1xuICAgIHVybDogJy9waW5zJyxcbiAgICB2aWV3czoge1xuICAgICAgXCJtYWluXCI6IHtcbiAgICAgICAgY29udHJvbGxlcjogJ1BpbnNDb250cm9sbGVyJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvcGlucy92aWV3cy9saXN0LnRwbC5odG1sJ1xuICAgICAgfVxuICAgIH0sXG4gICAgZGF0YTp7IHBhZ2VUaXRsZTogJ1BpbnMnIH1cbiAgfSk7XG5cbn0pO1xuXG5KdWdlbmRzdGFkdHBsYW4uQ29udHJvbGxlcnMuY29udHJvbGxlciggJ1BpbnNDb250cm9sbGVyJywgWyAnJHNjb3BlJywgJyRsb2NhdGlvbicsICdQaW4nLCBmdW5jdGlvbiBQaW5zQ29udHJvbGxlciggJHNjb3BlLCAkbG9jYXRpb24sIFBpbiApIHtcbiAgICAkc2NvcGUucGlucyA9IFBpbi5xdWVyeSgpO1xuXG4gICAgJHNjb3BlLnZpZXdQaW4gPSBmdW5jdGlvbiAocGluKSB7XG4gICAgICAkbG9jYXRpb24ucGF0aCgnL3Bpbi8nK3Bpbi5pZCk7XG4gICAgfTtcblxufV0pOyIsIkp1Z2VuZHN0YWR0cGxhbi5Db250cm9sbGVycy5jb250cm9sbGVyKCAnTGlua3NGb3JtQ29udHJvbGxlcicsIFsgJyRzY29wZScsXG4gICAgZnVuY3Rpb24oJHNjb3BlKSB7XG5cbiAgICAgICAgLy8gTGlua3NcbiAgICAgICAgJHNjb3BlLm5ld0xpbmsgPSB7fTtcbiAgICAgICAgJHNjb3BlLmFkZExpbmsgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICgkc2NvcGUubW9kZWwubGlua3MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5tb2RlbC5saW5rcyA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHNjb3BlLm1vZGVsLmxpbmtzLnB1c2goJHNjb3BlLm5ld0xpbmspO1xuICAgICAgICAgICAgJHNjb3BlLm5ld0xpbmsgPSB7fTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuaXNMaW5rVmFsaWQgPSBmdW5jdGlvbihsaW5rKSB7XG4gICAgICAgICAgICBpZiAobGluay50aXRlbCA9PT0gdW5kZWZpbmVkIHx8IGxpbmsudGl0ZWwubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChsaW5rLnVybCA9PT0gdW5kZWZpbmVkIHx8IGxpbmsudXJsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9O1xuXG4gICAgfV0pOyIsImFuZ3VsYXIubW9kdWxlKCdqdWdlbmRzdGFkdHBsYW4uc3RhcnRzZWl0ZScpLmNvbmZpZyhmdW5jdGlvbiBjb25maWcoICRzdGF0ZVByb3ZpZGVyICkge1xuICBcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoICdTdGFydHNlaXRlJywge1xuICAgIHVybDogJy9zdGFydHNlaXRlJyxcbiAgICB2aWV3czoge1xuICAgICAgXCJtYWluXCI6IHtcbiAgICAgICAgY29udHJvbGxlcjogJ1N0YXJ0c2VpdGVDb250cm9sbGVyJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvc3RhcnRzZWl0ZS92aWV3cy9zdGFydHNlaXRlLnRwbC5odG1sJ1xuICAgICAgfVxuICAgIH0sXG4gICAgZGF0YTp7IHBhZ2VUaXRsZTogJ1N0YXJ0c2VpdGUnIH1cbiAgfSk7XG5cbn0pO1xuXG5hbmd1bGFyLm1vZHVsZSgnanVnZW5kc3RhZHRwbGFuLnN0YXJ0c2VpdGUnKS5jb250cm9sbGVyKCAnU3RhcnRzZWl0ZUNvbnRyb2xsZXInLCBbICckc2NvcGUnLCAnJGxvY2F0aW9uJywgJ1BpbicsIGZ1bmN0aW9uIFN0YXJ0c2VpdGVDb250cm9sbGVyKCAkc2NvcGUsICRsb2NhdGlvbiwgUGluICkge1xuICAgICBhbmd1bGFyLmV4dGVuZCgkc2NvcGUsIHtcbiAgICAgICAgY2VudGVyOiB7XG4gICAgICAgICAgICBsYXQ6IDUwLjczMjgyOTI0NjcyNixcbiAgICAgICAgICAgIGxuZzogNy4wOTM3MDA0MDkwMTE3LFxuICAgICAgICAgICAgem9vbTogMTNcbiAgICAgICAgfSxcbiAgICAgICAgZGVmYXVsdHM6IHtcbiAgICAgICAgICAgIHNjcm9sbFdoZWVsWm9vbTogZmFsc2VcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgJHNjb3BlLm1hcmtlcnMgPSBbXTtcblxuICAgIFBpbi5xdWVyeShmdW5jdGlvbihwaW5zKSB7XG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaChwaW5zLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICBpZiAoaXRlbS5sb25naXR1ZGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHZhciBtYXJrZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgIGxhdDogaXRlbS5sYXRpdHVkZSxcbiAgICAgICAgICAgICAgICAgICAgbG5nOiBpdGVtLmxvbmdpdHVkZSxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGl0ZW0udGl0ZWwsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICc8aDM+JyArIGl0ZW0udGl0ZWwgKyAnPC9oMz4nICsgaXRlbS5iZXNjaHJlaWJ1bmcgKyAnPHNtYWxsPjxhIGhyZWY9XCInICsgJy8jL3Bpbi8nICsgaXRlbS5pZCArICdcIj5NZWhyPC9hPjwvc21hbGw+J1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgJHNjb3BlLm1hcmtlcnMucHVzaChtYXJrZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcblxufV0pOyIsIkp1Z2VuZHN0YWR0cGxhbi5Db250cm9sbGVycy5jb250cm9sbGVyKCAnVGVybWluRm9ybUNvbnRyb2xsZXInLCBbICckc2NvcGUnLFxuICAgIGZ1bmN0aW9uKCRzY29wZSkge1xuXG4gICAgICAgIC8vIFdvY2hlbnRhZ2VcbiAgICAgICAgJHNjb3BlLndvY2hlbnRhZ2UgPSBbICdNb250YWcnLCAnRGllbnN0YWcnLCAnTWl0dHdvY2gnLCAnRG9ubmVyc3RhZycsICdGcmVpdGFnJywgJ1NhbXN0YWcnLCAnU29ubnRhZycgXTtcblxuXG4gICAgICAgIC8vIFRlcm1pblxuICAgICAgICAkc2NvcGUubmV3VGVybWluID0ge307XG4gICAgICAgICRzY29wZS5hZGRUZXJtaW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICgkc2NvcGUucGluLnRlcm1pbmUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5waW4udGVybWluZSA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHNjb3BlLnBpbi50ZXJtaW5lLnB1c2goJHNjb3BlLm5ld1Rlcm1pbik7XG4gICAgICAgICAgICAkc2NvcGUubmV3VGVybWluID0ge307XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmlzVGVybWluVmFsaWQgPSBmdW5jdGlvbih0ZXJtaW4pIHtcbiAgICAgICAgICAgIGlmICh0ZXJtaW4uYmVnaW5uID09PSB1bmRlZmluZWQgfHwgdGVybWluLmJlZ2lubiA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGVybWluLmdhbnp0YWVnaWcgIT09IHRydWUgJiYgKHRlcm1pbi5iZWdpbm5fdWhyemVpdCA9PT0gdW5kZWZpbmVkIHx8IHRlcm1pbi5iZWdpbm5fdWhyemVpdCA9PT0gMCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIC8vIFdpZWRlcmhvbHVuZ1xuICAgICAgICAkc2NvcGUud29jaGVfZGVzX21vbmF0cyA9IFtcbiAgICAgICAgICAgIHsgaWQ6IDAsIGxhYmVsOiAnSmVkZSBXb2NoZScgfSxcbiAgICAgICAgICAgIHsgaWQ6IDEsIGxhYmVsOiAnSmVkZSAxLiBXb2NoZScgfSxcbiAgICAgICAgICAgIHsgaWQ6IDIsIGxhYmVsOiAnSmVkZSAyLiBXb2NoZScgfSxcbiAgICAgICAgICAgIHsgaWQ6IDMsIGxhYmVsOiAnSmVkZSAzLiBXb2NoZScgfSxcbiAgICAgICAgICAgIHsgaWQ6IDQsIGxhYmVsOiAnSmVkZSA0LiBXb2NoZScgfSxcbiAgICAgICAgICAgIHsgaWQ6IDUsIGxhYmVsOiAnSmVkZSA1LiBXb2NoZScgfVxuICAgICAgICBdO1xuICAgICAgICAkc2NvcGUubmV3V2llZGVyaG9sdW5nID0ge307XG4gICAgICAgICRzY29wZS5hZGRXaWVkZXJob2x1bmcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICgkc2NvcGUubmV3VGVybWluLndpZWRlcmhvbHVuZ2VuID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV3VGVybWluLndpZWRlcmhvbHVuZ2VuID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkc2NvcGUubmV3VGVybWluLndpZWRlcmhvbHVuZ2VuLnB1c2goJHNjb3BlLm5ld1dpZWRlcmhvbHVuZyk7XG4gICAgICAgICAgICAkc2NvcGUubmV3V2llZGVyaG9sdW5nID0ge307XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmlzV2llZGVyaG9sdW5nVmFsaWQgPSBmdW5jdGlvbih3aWVkZXJob2x1bmcpIHtcbiAgICAgICAgICAgIGlmICh3aWVkZXJob2x1bmcud29jaGVudGFnID09PSB1bmRlZmluZWQgfHwgd2llZGVyaG9sdW5nLndvY2hlbnRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9O1xuXG4gICAgfV0pOyIsImFuZ3VsYXIubW9kdWxlKCdqdWdlbmRzdGFkdHBsYW4udHJhZWdlcicpLmNvbmZpZyhmdW5jdGlvbiBjb25maWcoICRzdGF0ZVByb3ZpZGVyICkge1xuICBcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoICdMaXN0ZTogVHJhZWdlcicsIHtcbiAgICB1cmw6ICcvdHJhZWdlcicsXG4gICAgdmlld3M6IHtcbiAgICAgIFwibWFpblwiOiB7XG4gICAgICAgIGNvbnRyb2xsZXI6ICdUcmFlZ2VyQ29udHJvbGxlcicsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL3RyYWVnZXIvdmlld3MvbGlzdGUudHBsLmh0bWwnXG4gICAgICB9XG4gICAgfSxcbiAgICBkYXRhOnsgcGFnZVRpdGxlOiAnVHLDpGdlcicgfVxuICB9KTtcblxufSk7XG5cbkp1Z2VuZHN0YWR0cGxhbi5Db250cm9sbGVycy5jb250cm9sbGVyKCAnVHJhZWdlckNvbnRyb2xsZXInLCBbICckc2NvcGUnLCAnJGxvY2F0aW9uJywgJ1RyYWVnZXInLCBmdW5jdGlvbiBUcmFlZ2VyQ29udHJvbGxlciggJHNjb3BlLCAkbG9jYXRpb24sIFRyYWVnZXIgKSB7XG4gICAgJHNjb3BlLnRyYWVnZXIgPSBUcmFlZ2VyLnF1ZXJ5KCk7XG5cbiAgICAkc2NvcGUudmlld1RyYWVnZXIgPSBmdW5jdGlvbiAodHJhZWdlcikge1xuICAgICAgJGxvY2F0aW9uLnBhdGgoJy90cmFlZ2VyLycrdHJhZWdlci5pZCk7XG4gICAgfTtcblxufV0pOyIsImFuZ3VsYXIubW9kdWxlKCdqdWdlbmRzdGFkdHBsYW4udHJhZWdlcicpLmNvbmZpZyhmdW5jdGlvbiBjb25maWcoICRzdGF0ZVByb3ZpZGVyICkge1xuICBcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoICdEZXRhaWw6IFRyYWVnZXInLCB7XG4gICAgdXJsOiAnL3RyYWVnZXIve2lkOlswLTldK30nLFxuICAgIHZpZXdzOiB7XG4gICAgICBcIm1haW5cIjoge1xuICAgICAgICBjb250cm9sbGVyOiAnVHJhZWdlckRldGFpbENvbnRyb2xsZXInLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC90cmFlZ2VyL3ZpZXdzL2RldGFpbC50cGwuaHRtbCdcbiAgICAgIH1cbiAgICB9LFxuICAgIHJlc29sdmU6IHtcbiAgICAgIHRyYWVnZXJEZXRhaWw6IFsgJyRzdGF0ZVBhcmFtcycsICdUcmFlZ2VyJywgZnVuY3Rpb24oJHN0YXRlUGFyYW1zLCBUcmFlZ2VyKSB7XG4gICAgICAgIHJldHVybiBUcmFlZ2VyLmdldCh7fSx7aWQ6ICRzdGF0ZVBhcmFtcy5pZH0pO1xuICAgICAgfV1cbiAgICB9LFxuICAgIGRhdGE6eyBwYWdlVGl0bGU6ICdUcsOkZ2VyJyB9XG4gIH0pO1xuXG59KTtcblxuSnVnZW5kc3RhZHRwbGFuLkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoICdUcmFlZ2VyRGV0YWlsQ29udHJvbGxlcicsIFsgJyRzY29wZScsICd0cmFlZ2VyRGV0YWlsJywgZnVuY3Rpb24gVHJhZWdlckRldGFpbENvbnRyb2xsZXIoICRzY29wZSwgdHJhZWdlckRldGFpbCApIHtcbiAgICAkc2NvcGUudHJhZWdlciA9IHRyYWVnZXJEZXRhaWw7XG5cbiAgICBhbmd1bGFyLmV4dGVuZCgkc2NvcGUsIHtcbiAgICAgICAgY2VudGVyOiB7XG4gICAgICAgICAgICBsYXQ6IDUwLjczMjgyOTI0NjcyNixcbiAgICAgICAgICAgIGxuZzogNy4wOTM3MDA0MDkwMTE3LFxuICAgICAgICAgICAgem9vbTogMTNcbiAgICAgICAgfSxcbiAgICAgICAgZGVmYXVsdHM6IHtcbiAgICAgICAgICAgIHNjcm9sbFdoZWVsWm9vbTogZmFsc2VcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgJHNjb3BlLm1hcmtlcnMgPSBbXTtcblxuICAgIHRyYWVnZXJEZXRhaWwuJHByb21pc2UudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKHRyYWVnZXJEZXRhaWwucGlucywgZnVuY3Rpb24oaXRlbSwga2V5KSB7XG4gICAgICAgICAgICB2YXIgbWFya2VyID0ge1xuICAgICAgICAgICAgICAgIGxhdDogaXRlbS5sYXRpdHVkZSxcbiAgICAgICAgICAgICAgICBsbmc6IGl0ZW0ubG9uZ2l0dWRlLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBpdGVtLnRpdGVsLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICc8aDM+JyArIGl0ZW0udGl0ZWwgKyAnPC9oMz4nICsgaXRlbS5iZXNjaHJlaWJ1bmcgKyAnPHNtYWxsPjxhIGhyZWY9XCInICsgJy8jL3Bpbi8nK2l0ZW0uaWQgKyAnXCI+TWVocjwvYT48L3NtYWxsPidcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAkc2NvcGUubWFya2Vycy5wdXNoKG1hcmtlcik7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufV0pOyIsImFuZ3VsYXIubW9kdWxlKCdqdWdlbmRzdGFkdHBsYW4udHJhZWdlcicpLmNvbmZpZyhmdW5jdGlvbiBjb25maWcoICRzdGF0ZVByb3ZpZGVyICkge1xuXG4gICAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoICdGb3JtOiBUcmFlZ2VyJywge1xuICAgICAgICB1cmw6ICcvdHJhZWdlci9jcmVhdGUnLFxuICAgICAgICB2aWV3czoge1xuICAgICAgICAgICAgXCJtYWluXCI6IHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnVHJhZWdlckZvcm1Db250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC90cmFlZ2VyL3ZpZXdzL2Zvcm0udHBsLmh0bWwnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGRhdGE6eyBwYWdlVGl0bGU6ICdUcsOkZ2VyIGVyc3RlbGxlbicgfVxuICAgIH0pO1xuXG59KTtcblxuSnVnZW5kc3RhZHRwbGFuLkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoICdUcmFlZ2VyRm9ybUNvbnRyb2xsZXInLCBbICckc2NvcGUnLCAnJGxvY2F0aW9uJywgJ1RyYWVnZXInLCAnS2F0ZWdvcmllJywgJ1VwbG9hZCcsIGZ1bmN0aW9uIFRyYWVnZXJGb3JtQ29udHJvbGxlciggJHNjb3BlLCAkbG9jYXRpb24sIFRyYWVnZXIsIEthdGVnb3JpZSwgVXBsb2FkICkge1xuICAgICRzY29wZS5rYXRlZ29yaWVuID0gS2F0ZWdvcmllLnF1ZXJ5KCk7XG4gICAgJHNjb3BlLnRyYWVnZXIgPSBuZXcgVHJhZWdlcigpO1xuICAgICRzY29wZS50cmFlZ2VycyA9IFRyYWVnZXIucXVlcnkoKTtcblxuICAgICRzY29wZS5uZXdUcmFlZ2VyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICRzY29wZS50cmFlZ2VyID0gbmV3IFRyYWVnZXIoKTtcbiAgICAgICAgJHNjb3BlLmVkaXRpbmcgPSBmYWxzZTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLnNhdmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCRzY29wZS50cmFlZ2VyLmlkKSB7XG4gICAgICAgICAgICBUcmFlZ2VyLnVwZGF0ZSgkc2NvcGUudHJhZWdlcikudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV3VHJhZWdlcigpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgYWxlcnQoJ0VpbiBUcsOkZ2VyIG1pdCBkaWVzZXIgRW1haWwtQWRyZXNzZSBleGlzdGllcnQgYmVyZWl0cyEnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJHNjb3BlLnRyYWVnZXIuJHNhdmUoKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnRyYWVnZXJzLnB1c2gocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICRzY29wZS5uZXdUcmFlZ2VyKCk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBhbGVydCgnRWluIFRyw6RnZXIgbWl0IGRpZXNlciBFbWFpbC1BZHJlc3NlIGV4aXN0aWVydCBiZXJlaXRzIScpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgJHNjb3BlLnNldEFjdGl2ZVRyYWVnZXIgPSBmdW5jdGlvbih0cmFlZ2VyKSB7XG4gICAgICAgICRzY29wZS50cmFlZ2VyID0gdHJhZWdlcjtcbiAgICAgICAgJHNjb3BlLmVkaXRpbmcgPSB0cnVlO1xuICAgIH07XG5cbiAgICAkc2NvcGUucmVtb3ZlID0gZnVuY3Rpb24odHJhZWdlcikge1xuICAgICAgICBUcmFlZ2VyLmRlbGV0ZSh0cmFlZ2VyLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9ICRzY29wZS50cmFlZ2Vycy5pbmRleE9mKHRyYWVnZXIpO1xuICAgICAgICAgICAgaWYgKGluZGV4ICE9IC0xKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnRyYWVnZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvLyBCaWxkZXJcbiAgICAkc2NvcGUub25GaWxlU2VsZWN0ID0gZnVuY3Rpb24oJGZpbGVzKSB7XG4gICAgICAgIHZhciBkb1VwbG9hZCA9IGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgICAgICAgIFVwbG9hZC51cGxvYWQoe1xuICAgICAgICAgICAgICAgIHVybDogJ2FwcF9kZXYucGhwL2ltZy91cGxvYWQnLCAvL3VwbG9hZC5waHAgc2NyaXB0LCBub2RlLmpzIHJvdXRlLCBvciBzZXJ2bGV0IHVybFxuICAgICAgICAgICAgICAgIC8vIG1ldGhvZDogJ1BPU1QnIG9yICdQVVQnLFxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIC8vIGhlYWRlcnM6IHsnaGVhZGVyLWtleSc6ICdoZWFkZXItdmFsdWUnfSxcbiAgICAgICAgICAgICAgICAvLyB3aXRoQ3JlZGVudGlhbHM6IHRydWUsXG4gICAgICAgICAgICAgICAgZGF0YToge215T2JqOiAkc2NvcGUubXlNb2RlbE9ian0sXG4gICAgICAgICAgICAgICAgZmlsZTogZmlsZSAvLyBvciBsaXN0IG9mIGZpbGVzOiAkZmlsZXMgZm9yIGh0bWw1IG9ubHlcbiAgICAgICAgICAgICAgICAvLyBmaWxlTmFtZTogJ2RvYy5qcGcnIG9yIFsnMS5qcGcnLCAnMi5qcGcnLCAuLi5dIC8vIHRvIG1vZGlmeSB0aGUgbmFtZSBvZiB0aGUgZmlsZVxuICAgICAgICAgICAgICAgIC8qIGN1c3RvbWl6ZSBmaWxlIGZvcm1EYXRhIG5hbWUgKCdDb250ZW50LURlc3Bvc2l0aW9uJyksIHNlcnZlciBzaWRlIGZpbGUgdmFyaWFibGUgbmFtZS5cbiAgICAgICAgICAgICAgICAgRGVmYXVsdCBpcyAnZmlsZScgKi9cbiAgICAgICAgICAgICAgICAvL2ZpbGVGb3JtRGF0YU5hbWU6IG15RmlsZSwgLy9vciBhIGxpc3Qgb2YgbmFtZXMgZm9yIG11bHRpcGxlIGZpbGVzIChodG1sNSkuXG4gICAgICAgICAgICAgICAgLyogY3VzdG9taXplIGhvdyBkYXRhIGlzIGFkZGVkIHRvIGZvcm1EYXRhLiBTZWUgIzQwI2lzc3VlY29tbWVudC0yODYxMjAwMCBmb3Igc2FtcGxlIGNvZGUgKi9cbiAgICAgICAgICAgICAgICAvL2Zvcm1EYXRhQXBwZW5kZXI6IGZ1bmN0aW9uKGZvcm1EYXRhLCBrZXksIHZhbCl7fVxuICAgICAgICAgICAgfSkucHJvZ3Jlc3MoZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwZXJjZW50OiAnICsgcGFyc2VJbnQoMTAwLjAgKiBldnQubG9hZGVkIC8gZXZ0LnRvdGFsKSk7XG4gICAgICAgICAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xuICAgICAgICAgICAgICAgIC8vIGZpbGUgaXMgdXBsb2FkZWQgc3VjY2Vzc2Z1bGx5XG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS50cmFlZ2VyLmJpbGRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS50cmFlZ2VyLmJpbGRlciA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaWxlLnRtcF9uYW1lID0gZGF0YS5mb2xkZXI7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnRyYWVnZXIuYmlsZGVyLnB1c2goZmlsZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vLmVycm9yKC4uLilcbiAgICAgICAgICAgIC8vLnRoZW4oc3VjY2VzcywgZXJyb3IsIHByb2dyZXNzKTtcbiAgICAgICAgICAgIC8vLnhocihmdW5jdGlvbih4aHIpe3hoci51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lciguLi4pfSkvLyBhY2Nlc3MgYW5kIGF0dGFjaCBhbnkgZXZlbnQgbGlzdGVuZXIgdG8gWE1MSHR0cFJlcXVlc3QuXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8kZmlsZXM6IGFuIGFycmF5IG9mIGZpbGVzIHNlbGVjdGVkLCBlYWNoIGZpbGUgaGFzIG5hbWUsIHNpemUsIGFuZCB0eXBlLlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICRmaWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGZpbGUgPSAkZmlsZXNbaV07XG4gICAgICAgICAgICAkc2NvcGUudXBsb2FkID0gZG9VcGxvYWQoZmlsZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG5cbiAgICAvLyBBZHJlc3NlblxuICAgICRzY29wZS5uZXdBZHJlc3NlID0ge307XG4gICAgJHNjb3BlLmFkZEFkcmVzc2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCRzY29wZS50cmFlZ2VyLmFkcmVzc2VuID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICRzY29wZS50cmFlZ2VyLmFkcmVzc2VuID0gW107XG4gICAgICAgIH1cbiAgICAgICAgJHNjb3BlLnRyYWVnZXIuYWRyZXNzZW4ucHVzaCgkc2NvcGUubmV3QWRyZXNzZSk7XG4gICAgICAgICRzY29wZS5uZXdBZHJlc3NlID0ge307XG4gICAgfTtcblxuICAgICRzY29wZS5pc0FkcmVzc2VWYWxpZCA9IGZ1bmN0aW9uKGFkcmVzc2UpIHtcbiAgICAgICAgaWYgKGFkcmVzc2Uuc3RyYXNzZSA9PT0gdW5kZWZpbmVkIHx8IGFkcmVzc2Uuc3RyYXNzZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBlbHNlIGlmIChhZHJlc3NlLm9ydCA9PT0gdW5kZWZpbmVkIHx8IGFkcmVzc2Uub3J0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbn1dKTsiLCJhbmd1bGFyLm1vZHVsZSgnanVnZW5kc3RhZHRwbGFuLnRyYWVnZXInKS5jb25maWcoZnVuY3Rpb24gY29uZmlnKCAkc3RhdGVQcm92aWRlciApIHtcblxuICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCAnTG9naW46IFRyYWVnZXInLCB7XG4gICAgICAgIHVybDogJy90cmFlZ2VyL2xvZ2luJyxcbiAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgIFwibWFpblwiOiB7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ1RyYWVnZXJMb2dpbkNvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL3RyYWVnZXIvdmlld3MvbG9naW4udHBsLmh0bWwnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGRhdGE6eyBwYWdlVGl0bGU6ICdFaW5sb2dnZW4nIH1cbiAgICB9KTtcblxufSk7XG5cbkp1Z2VuZHN0YWR0cGxhbi5Db250cm9sbGVycy5jb250cm9sbGVyKCAnVHJhZWdlckxvZ2luQ29udHJvbGxlcicsIFsgJyRzY29wZScsICckc3RhdGUnLCAnJHdpbmRvdycsICdMb2dpblNlcnZpY2UnLCAnVHJhZWdlcicsIGZ1bmN0aW9uIFRyYWVnZXJMb2dpbkNvbnRyb2xsZXIoICRzY29wZSwgJHN0YXRlLCAkd2luZG93LCBMb2dpblNlcnZpY2UsIFRyYWVnZXIpIHtcblxuICAgICRzY29wZS50cmFlZ2VyID0gbmV3IFRyYWVnZXIoKTtcblxuICAgICRzY29wZS5sb2dpbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAkc2NvcGUudHJhZWdlci4kbG9naW4oKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS50b2tlbiA9IHJlc3BvbnNlLnRva2VuO1xuICAgICAgICAgICAgICAgIExvZ2luU2VydmljZS5zZXRMb2dnZWRJbih0cnVlKTtcblxuICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnU3RhcnRzZWl0ZScpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXJyb3IgPSB7XG4gICAgICAgICAgICAgICAgICAgIG1zZzogJ0F1dGhlbnRpZml6aWVydW5nIGZlaGxnZXNjaGxhZ2VuISdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9O1xufV0pO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
